function YM(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function uR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function WM(){if(dw)return mu;dw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var mw;function XM(){return mw||(mw=1,Qg.exports=WM()),Qg.exports}var D=XM(),Zg={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function QM(){if(pw)return ke;pw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function A(z,ae,ee){this.props=z,this.context=ae,this.refs=R,this.updater=ee||S}A.prototype.isReactComponent={},A.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=A.prototype;function N(z,ae,ee){this.props=z,this.context=ae,this.refs=R,this.updater=ee||S}var V=N.prototype=new O;V.constructor=N,C(V,A.prototype),V.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function M(z,ae,ee,te,fe,we){return ee=we.ref,{$$typeof:t,type:z,key:ae,ref:ee!==void 0?ee:null,props:we}}function x(z,ae){return M(z.type,ae,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function U(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ee){return ae[ee]})}var F=/\/+/g;function j(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):ae.toString(36)}function L(){}function Ee(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Te(z,ae,ee,te,fe){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ge=!1;if(z===null)ge=!0;else switch(we){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(z.$$typeof){case t:case e:ge=!0;break;case g:return ge=z._init,Te(ge(z._payload),ae,ee,te,fe)}}if(ge)return fe=fe(z),ge=te===""?"."+j(z,0):te,$(fe)?(ee="",ge!=null&&(ee=ge.replace(F,"$&/")+"/"),Te(fe,ae,ee,"",function(He){return He})):fe!=null&&(k(fe)&&(fe=x(fe,ee+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+ge)),ae.push(fe)),1;ge=0;var he=te===""?".":te+":";if($(z))for(var Ae=0;Ae<z.length;Ae++)te=z[Ae],we=he+j(te,Ae),ge+=Te(te,ae,ee,we,fe);else if(Ae=b(z),typeof Ae=="function")for(z=Ae.call(z),Ae=0;!(te=z.next()).done;)te=te.value,we=he+j(te,Ae++),ge+=Te(te,ae,ee,we,fe);else if(we==="object"){if(typeof z.then=="function")return Te(Ee(z),ae,ee,te,fe);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function K(z,ae,ee){if(z==null)return z;var te=[],fe=0;return Te(z,te,"","",function(we){return ae.call(ee,we,fe++)}),te}function re(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(ee){(z._status===0||z._status===-1)&&(z._status=1,z._result=ee)},function(ee){(z._status===0||z._status===-1)&&(z._status=2,z._result=ee)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var X=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function me(){}return ke.Children={map:K,forEach:function(z,ae,ee){K(z,function(){ae.apply(this,arguments)},ee)},count:function(z){var ae=0;return K(z,function(){ae++}),ae},toArray:function(z){return K(z,function(ae){return ae})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ke.Component=A,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=N,ke.StrictMode=i,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},ke.cache=function(z){return function(){return z.apply(null,arguments)}},ke.cloneElement=function(z,ae,ee){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var te=C({},z.props),fe=z.key,we=void 0;if(ae!=null)for(ge in ae.ref!==void 0&&(we=void 0),ae.key!==void 0&&(fe=""+ae.key),ae)!ie.call(ae,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ae.ref===void 0||(te[ge]=ae[ge]);var ge=arguments.length-2;if(ge===1)te.children=ee;else if(1<ge){for(var he=Array(ge),Ae=0;Ae<ge;Ae++)he[Ae]=arguments[Ae+2];te.children=he}return M(z.type,fe,void 0,void 0,we,te)},ke.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},ke.createElement=function(z,ae,ee){var te,fe={},we=null;if(ae!=null)for(te in ae.key!==void 0&&(we=""+ae.key),ae)ie.call(ae,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=ae[te]);var ge=arguments.length-2;if(ge===1)fe.children=ee;else if(1<ge){for(var he=Array(ge),Ae=0;Ae<ge;Ae++)he[Ae]=arguments[Ae+2];fe.children=he}if(z&&z.defaultProps)for(te in ge=z.defaultProps,ge)fe[te]===void 0&&(fe[te]=ge[te]);return M(z,we,void 0,void 0,null,fe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:f,render:z}},ke.isValidElement=k,ke.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:re}},ke.memo=function(z,ae){return{$$typeof:m,type:z,compare:ae===void 0?null:ae}},ke.startTransition=function(z){var ae=q.T,ee={};q.T=ee;try{var te=z(),fe=q.S;fe!==null&&fe(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(me,X)}catch(we){X(we)}finally{q.T=ae}},ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ke.use=function(z){return q.H.use(z)},ke.useActionState=function(z,ae,ee){return q.H.useActionState(z,ae,ee)},ke.useCallback=function(z,ae){return q.H.useCallback(z,ae)},ke.useContext=function(z){return q.H.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z,ae){return q.H.useDeferredValue(z,ae)},ke.useEffect=function(z,ae,ee){var te=q.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(z,ae)},ke.useId=function(){return q.H.useId()},ke.useImperativeHandle=function(z,ae,ee){return q.H.useImperativeHandle(z,ae,ee)},ke.useInsertionEffect=function(z,ae){return q.H.useInsertionEffect(z,ae)},ke.useLayoutEffect=function(z,ae){return q.H.useLayoutEffect(z,ae)},ke.useMemo=function(z,ae){return q.H.useMemo(z,ae)},ke.useOptimistic=function(z,ae){return q.H.useOptimistic(z,ae)},ke.useReducer=function(z,ae,ee){return q.H.useReducer(z,ae,ee)},ke.useRef=function(z){return q.H.useRef(z)},ke.useState=function(z){return q.H.useState(z)},ke.useSyncExternalStore=function(z,ae,ee){return q.H.useSyncExternalStore(z,ae,ee)},ke.useTransition=function(){return q.H.useTransition()},ke.version="19.1.1",ke}var gw;function l0(){return gw||(gw=1,Zg.exports=QM()),Zg.exports}var w=l0();const Br=uR(w),fR=YM({__proto__:null,default:Br},[w]);var Jg={exports:{}},pu={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function ZM(){return yw||(yw=1,(function(t){function e(K,re){var X=K.length;K.push(re);e:for(;0<X;){var me=X-1>>>1,z=K[me];if(0<a(z,re))K[me]=re,K[X]=z,X=me;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],X=K.pop();if(X!==re){K[0]=X;e:for(var me=0,z=K.length,ae=z>>>1;me<ae;){var ee=2*(me+1)-1,te=K[ee],fe=ee+1,we=K[fe];if(0>a(te,X))fe<z&&0>a(we,te)?(K[me]=we,K[fe]=X,me=fe):(K[me]=te,K[ee]=X,me=ee);else if(fe<z&&0>a(we,X))K[me]=we,K[fe]=X,me=fe;else break e}}return re}function a(K,re){var X=K.sortIndex-re.sortIndex;return X!==0?X:K.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],m=[],g=1,v=null,b=3,S=!1,C=!1,R=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var re=n(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=K)i(m),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(m)}}function q(K){if(R=!1,$(K),!C)if(n(d)!==null)C=!0,ie||(ie=!0,j());else{var re=n(m);re!==null&&Te(q,re.startTime-K)}}var ie=!1,M=-1,x=5,k=-1;function U(){return A?!0:!(t.unstable_now()-k<x)}function F(){if(A=!1,ie){var K=t.unstable_now();k=K;var re=!0;try{e:{C=!1,R&&(R=!1,N(M),M=-1),S=!0;var X=b;try{t:{for($(K),v=n(d);v!==null&&!(v.expirationTime>K&&U());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var z=me(v.expirationTime<=K);if(K=t.unstable_now(),typeof z=="function"){v.callback=z,$(K),re=!0;break t}v===n(d)&&i(d),$(K)}else i(d);v=n(d)}if(v!==null)re=!0;else{var ae=n(m);ae!==null&&Te(q,ae.startTime-K),re=!1}}break e}finally{v=null,b=X,S=!1}re=void 0}}finally{re?j():ie=!1}}}var j;if(typeof V=="function")j=function(){V(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Ee=L.port2;L.port1.onmessage=F,j=function(){Ee.postMessage(null)}}else j=function(){O(F,0)};function Te(K,re){M=O(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var X=b;b=re;try{return K()}finally{b=X}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=b;b=K;try{return re()}finally{b=X}},t.unstable_scheduleCallback=function(K,re,X){var me=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=X+z,K={id:g++,callback:re,priorityLevel:K,startTime:X,expirationTime:z,sortIndex:-1},X>me?(K.sortIndex=X,e(m,K),n(d)===null&&K===n(m)&&(R?(N(M),M=-1):R=!0,Te(q,X-me))):(K.sortIndex=z,e(d,K),C||S||(C=!0,ie||(ie=!0,j()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var re=b;return function(){var X=b;b=re;try{return K.apply(this,arguments)}finally{b=X}}}})(ty)),ty}var vw;function JM(){return vw||(vw=1,ey.exports=ZM()),ey.exports}var ny={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function eO(){if(_w)return gn;_w=1;var t=l0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},gn.flushSync=function(d){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=g,i.d.f()}},gn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},gn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},gn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},gn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},gn.requestFormReset=function(d){i.d.r(d)},gn.unstable_batchedUpdates=function(d,m){return d(m)},gn.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var bw;function hR(){if(bw)return ny.exports;bw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=eO(),ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function tO(){if(Ew)return pu;Ew=1;var t=JM(),e=l0(),n=hR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return f(p),r;if(y===u)return f(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var T=!1,I=p.child;I;){if(I===o){T=!0,o=p,u=y;break}if(I===u){T=!0,u=p,o=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===o){T=!0,o=y,u=p;break}if(I===u){T=!0,u=y,o=p;break}I=I.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function Ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case ie:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case V:return(r.displayName||"Context")+".Provider";case N:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}var Te=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},me=[],z=-1;function ae(r){return{current:r}}function ee(r){0>z||(r.current=me[z],me[z]=null,z--)}function te(r,s){z++,me[z]=r.current,r.current=s}var fe=ae(null),we=ae(null),ge=ae(null),he=ae(null);function Ae(r,s){switch(te(ge,s),te(we,r),te(fe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?zT(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=zT(s),r=FT(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(fe),te(fe,r)}function He(){ee(fe),ee(we),ee(ge)}function Ve(r){r.memoizedState!==null&&te(he,r);var s=fe.current,o=FT(s,r.type);s!==o&&(te(we,r),te(fe,o))}function je(r){we.current===r&&(ee(fe),ee(we)),he.current===r&&(ee(he),cu._currentValue=X)}var Qe=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,dr=t.unstable_shouldYield,es=t.unstable_requestPaint,dn=t.unstable_now,Qm=t.unstable_getCurrentPriorityLevel,oc=t.unstable_ImmediatePriority,po=t.unstable_UserBlockingPriority,la=t.unstable_NormalPriority,Zm=t.unstable_LowPriority,go=t.unstable_IdlePriority,lc=t.log,Af=t.unstable_setDisableYieldValue,Et=null,nt=null;function Ln(r){if(typeof lc=="function"&&Af(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Et,r)}catch{}}var mn=Math.clz32?Math.clz32:ca,xf=Math.log,Jm=Math.LN2;function ca(r){return r>>>=0,r===0?32:31-(xf(r)/Jm|0)|0}var ua=256,fa=4194304;function mi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function yo(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?p=mi(u):(T&=I,T!==0?p=mi(T):o||(o=I&~r,o!==0&&(p=mi(o))))):(I=u&~y,I!==0?p=mi(I):T!==0?p=mi(T):o||(o=u&~r,o!==0&&(p=mi(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function ha(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function cc(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var r=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),r}function fc(){var r=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),r}function mr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function pr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function hc(r,s,o,u,p,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,B=r.expirationTimes,Q=r.hiddenUpdates;for(o=T&~o;0<o;){var se=31-mn(o),le=1<<se;I[se]=0,B[se]=-1;var Z=Q[se];if(Z!==null)for(Q[se]=null,se=0;se<Z.length;se++){var J=Z[se];J!==null&&(J.lane&=-536870913)}o&=~le}u!==0&&Ni(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function Ni(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-mn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function dc(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-mn(o),p=1<<u;p&s|r[u]&s&&(r[u]|=s),o&=~p}}function ts(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function vo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ns(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:ow(r.type))}function Rf(r,s){var o=re.p;try{return re.p=r,s()}finally{re.p=o}}var mt=Math.random().toString(36).slice(2),zt="__reactFiber$"+mt,Nt="__reactProps$"+mt,Xn="__reactContainer$"+mt,mc="__reactEvents$"+mt,ep="__reactListeners$"+mt,is="__reactHandles$"+mt,Cf="__reactResources$"+mt,da="__reactMarker$"+mt;function rs(r){delete r[zt],delete r[Nt],delete r[mc],delete r[ep],delete r[is]}function gr(r){var s=r[zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Xn]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=$T(r);r!==null;){if(o=r[zt])return o;r=$T(r)}return s}r=o,o=r.parentNode}return null}function Mi(r){if(r=r[zt]||r[Xn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Oi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Sn(r){var s=r[Cf];return s||(s=r[Cf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(r){r[da]=!0}var pc=new Set,_o={};function pi(r,s){yr(r,s),yr(r+"Capture",s)}function yr(r,s){for(_o[r]=s,r=0;r<s.length;r++)pc.add(s[r])}var If=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},ma={};function Pf(r){return Qe.call(ma,r)?!0:Qe.call(Df,r)?!1:If.test(r)?ma[r]=!0:(Df[r]=!0,!1)}function ss(r,s,o){if(Pf(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ki(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var pa,Nf;function vr(r){if(pa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);pa=s&&s[1]||"",Nf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+r+Nf}var bo=!1;function Eo(r,s){if(!r||bo)return"";bo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Z=J}Reflect.construct(r,[],le)}else{try{le.call()}catch(J){Z=J}r.call(le.prototype)}}else{try{throw Error()}catch(J){Z=J}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var B=T.split(`
`),Q=I.split(`
`);for(p=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===B.length||p===Q.length)for(u=B.length-1,p=Q.length-1;1<=u&&0<=p&&B[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(B[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||B[u]!==Q[p]){var se=`
`+B[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=p);break}}}finally{bo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?vr(o):""}function gc(r){switch(r.tag){case 26:case 27:case 5:return vr(r.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return Eo(r.type,!1);case 11:return Eo(r.type.render,!1);case 1:return Eo(r.type,!0);case 31:return vr("Activity");default:return""}}function To(r){try{var s="";do s+=gc(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tp(r){var s=yc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wo(r){r._valueTracker||(r._valueTracker=tp(r))}function vc(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=yc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ga(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var np=/[\n"\\]/g;function Mt(r){return r.replace(np,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Un(r,s,o,u,p,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+An(s)):r.value!==""+An(s)&&(r.value=""+An(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?as(r,T,An(s)):o!=null?as(r,T,An(o)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+An(I):r.removeAttribute("name")}function ya(r,s,o,u,p,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function as(r,s,o){s==="number"&&ga(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _r(r,s,o,u){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&u&&(r[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function st(r,s,o){if(s!=null&&(s=""+An(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+An(o):""}function va(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var _a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mf(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||_a.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function _c(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Mf(r,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Mf(r,y,s[y])}function bc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(r){return rp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var br=null;function Zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Er=null,Tr=null;function Ec(r){var s=Mi(r);if(s&&(r=s.stateNode)){var o=r[Nt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Un(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var p=u[Nt]||null;if(!p)throw Error(i(90));Un(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&vc(u)}break e;case"textarea":st(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_r(r,!!o.multiple,s,!1)}}}var Vi=!1;function Of(r,s,o){if(Vi)return r(s,o);Vi=!0;try{var u=r(s);return u}finally{if(Vi=!1,(Er!==null||Tr!==null)&&(Rh(),Er&&(s=Er,r=Tr,Tr=Er=null,Ec(s),r)))for(s=0;s<r.length;s++)Ec(r[s])}}function ba(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Nt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jn=!1;if(gi)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Jn=!1}var Li=null,os=null,wr=null;function Tc(){if(wr)return wr;var r,s=os,o=s.length,u,p="value"in Li?Li.value:Li.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===p[y-u];u++);return wr=p.slice(r,1<u?1-u:void 0)}function Ui(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ji(){return!0}function wc(){return!1}function Xt(r){function s(o,u,p,y,T){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ji:wc,this.isPropagationStopped=wc,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),s}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Xt(et),Ta=g({},et,{view:0,detail:0}),kf=Xt(Ta),xo,Ro,Bi,wa=g({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bi&&(Bi&&r.type==="mousemove"?(xo=r.screenX-Bi.screenX,Ro=r.screenY-Bi.screenY):Ro=xo=0,Bi=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),ei=Xt(wa),Vf=g({},wa,{dataTransfer:0}),sp=Xt(Vf),Sa=g({},Ta,{relatedTarget:0}),Co=Xt(Sa),Sc=g({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=Xt(Sc),Lf=g({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Do=Xt(Lf),ap=g({},et,{data:0}),Ac=Xt(ap),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jf[r])?!!s[r]:!1}function xa(){return xc}var Bf=g({},Ta,{key:function(r){if(r.key){var s=Aa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ui(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Uf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(r){return r.type==="keypress"?Ui(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ui(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Po=Xt(Bf),zf=g({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=Xt(zf),Sr=g({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Ff=Xt(Sr),Hf=g({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),qf=Xt(Hf),Gf=g({},wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),No=Xt(Gf),xn=g({},et,{newState:0,oldState:0}),$f=Xt(xn),Kf=[9,13,27,32],zi=gi&&"CompositionEvent"in window,h=null;gi&&"documentMode"in document&&(h=document.documentMode);var _=gi&&"TextEvent"in window&&!h,E=gi&&(!zi||h&&8<h&&11>=h),P=" ",Y=!1;function ne(r,s){switch(r){case"keyup":return Kf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function Ft(r,s){switch(r){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(Y=!0,P);case"textInput":return r=s.data,r===P&&Y?null:r;default:return null}}function Ye(r,s){if(Ke)return r==="compositionend"||!zi&&ne(r,s)?(r=Tc(),wr=os=Li=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Qt[r.type]:s==="textarea"}function Ar(r,s,o,u){Er?Tr?Tr.push(u):Tr=[u]:Er=u,s=Mh(s,"onChange"),0<s.length&&(o=new Ao("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var rn=null,Fi=null;function Cc(r){VT(r,0)}function Yf(r){var s=Oi(r);if(vc(s))return r}function ib(r,s){if(r==="change")return s}var rb=!1;if(gi){var op;if(gi){var lp="oninput"in document;if(!lp){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),lp=typeof sb.oninput=="function"}op=lp}else op=!1;rb=op&&(!document.documentMode||9<document.documentMode)}function ab(){rn&&(rn.detachEvent("onpropertychange",ob),Fi=rn=null)}function ob(r){if(r.propertyName==="value"&&Yf(Fi)){var s=[];Ar(s,Fi,r,Zn(r)),Of(Cc,s)}}function SN(r,s,o){r==="focusin"?(ab(),rn=s,Fi=o,rn.attachEvent("onpropertychange",ob)):r==="focusout"&&ab()}function AN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yf(Fi)}function xN(r,s){if(r==="click")return Yf(s)}function RN(r,s){if(r==="input"||r==="change")return Yf(s)}function CN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var jn=typeof Object.is=="function"?Object.is:CN;function Ic(r,s){if(jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Qe.call(s,p)||!jn(r[p],s[p]))return!1}return!0}function lb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cb(r,s){var o=lb(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lb(o)}}function ub(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ub(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ga(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ga(r.document)}return s}function cp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var IN=gi&&"documentMode"in document&&11>=document.documentMode,Mo=null,up=null,Dc=null,fp=!1;function hb(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fp||Mo==null||Mo!==ga(u)||(u=Mo,"selectionStart"in u&&cp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dc&&Ic(Dc,u)||(Dc=u,u=Mh(up,"onSelect"),0<u.length&&(s=new Ao("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Mo)))}function Ra(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Oo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},hp={},db={};gi&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Ca(r){if(hp[r])return hp[r];if(!Oo[r])return r;var s=Oo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in db)return hp[r]=s[o];return r}var mb=Ca("animationend"),pb=Ca("animationiteration"),gb=Ca("animationstart"),DN=Ca("transitionrun"),PN=Ca("transitionstart"),NN=Ca("transitioncancel"),yb=Ca("transitionend"),vb=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function yi(r,s){vb.set(r,s),pi(s,[r])}var _b=new WeakMap;function ti(r,s){if(typeof r=="object"&&r!==null){var o=_b.get(r);return o!==void 0?o:(s={value:r,source:s,stack:To(s)},_b.set(r,s),s)}return{value:r,source:s,stack:To(s)}}var ni=[],ko=0,mp=0;function Wf(){for(var r=ko,s=mp=ko=0;s<r;){var o=ni[s];ni[s++]=null;var u=ni[s];ni[s++]=null;var p=ni[s];ni[s++]=null;var y=ni[s];if(ni[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&bb(o,p,y)}}function Xf(r,s,o,u){ni[ko++]=r,ni[ko++]=s,ni[ko++]=o,ni[ko++]=u,mp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function pp(r,s,o,u){return Xf(r,s,o,u),Qf(r)}function Vo(r,s){return Xf(r,null,null,s),Qf(r)}function bb(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-mn(o),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function Qf(r){if(50<tu)throw tu=0,Eg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Lo={};function MN(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,o,u){return new MN(r,s,o,u)}function gp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xr(r,s){var o=r.alternate;return o===null?(o=Bn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Eb(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Zf(r,s,o,u,p,y){var T=0;if(u=r,typeof r=="function")gp(r)&&(T=1);else if(typeof r=="string")T=kM(r,o,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Bn(31,o,s,p),r.elementType=k,r.lanes=y,r;case C:return Ia(o.children,p,y,s);case R:T=8,p|=24;break;case A:return r=Bn(12,o,s,p|2),r.elementType=A,r.lanes=y,r;case q:return r=Bn(13,o,s,p),r.elementType=q,r.lanes=y,r;case ie:return r=Bn(19,o,s,p),r.elementType=ie,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case V:T=10;break e;case N:T=9;break e;case $:T=11;break e;case M:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Bn(T,o,s,p),s.elementType=r,s.type=u,s.lanes=y,s}function Ia(r,s,o,u){return r=Bn(7,r,u,s),r.lanes=o,r}function yp(r,s,o){return r=Bn(6,r,null,s),r.lanes=o,r}function vp(r,s,o){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Uo=[],jo=0,Jf=null,eh=0,ii=[],ri=0,Da=null,Rr=1,Cr="";function Pa(r,s){Uo[jo++]=eh,Uo[jo++]=Jf,Jf=r,eh=s}function Tb(r,s,o){ii[ri++]=Rr,ii[ri++]=Cr,ii[ri++]=Da,Da=r;var u=Rr;r=Cr;var p=32-mn(u)-1;u&=~(1<<p),o+=1;var y=32-mn(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Rr=1<<32-mn(s)+p|o<<p|u,Cr=y+r}else Rr=1<<y|o<<p|u,Cr=r}function _p(r){r.return!==null&&(Pa(r,1),Tb(r,1,0))}function bp(r){for(;r===Jf;)Jf=Uo[--jo],Uo[jo]=null,eh=Uo[--jo],Uo[jo]=null;for(;r===Da;)Da=ii[--ri],ii[ri]=null,Cr=ii[--ri],ii[ri]=null,Rr=ii[--ri],ii[ri]=null}var Rn=null,Tt=null,Je=!1,Na=null,Hi=!1,Ep=Error(i(519));function Ma(r){var s=Error(i(418,""));throw Mc(ti(s,r)),Ep}function wb(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[zt]=r,s[Nt]=u,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<iu.length;o++)Fe(iu[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),ya(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),wo(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),va(s,u.value,u.defaultValue,u.children),wo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||BT(s.textContent,o)?(u.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),u.onScroll!=null&&Fe("scroll",s),u.onScrollEnd!=null&&Fe("scrollend",s),u.onClick!=null&&(s.onclick=Oh),s=!0):s=!1,s||Ma(r)}function Sb(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Rn=Rn.return}}function Pc(r){if(r!==Rn)return!1;if(!Je)return Sb(r),Je=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lg(r.type,r.memoizedProps)),o=!o),o&&Tt&&Ma(r),Sb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Tt=_i(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Tt=null}}else s===27?(s=Tt,ws(r.type)?(r=zg,zg=null,Tt=r):Tt=s):Tt=Rn?_i(r.stateNode.nextSibling):null;return!0}function Nc(){Tt=Rn=null,Je=!1}function Ab(){var r=Na;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),Na=null),r}function Mc(r){Na===null?Na=[r]:Na.push(r)}var Tp=ae(null),Oa=null,Ir=null;function ls(r,s,o){te(Tp,s._currentValue),s._currentValue=o}function Dr(r){r._currentValue=Tp.current,ee(Tp)}function wp(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Sp(r,s,o,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=p;for(var B=0;B<s.length;B++)if(I.context===s[B]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),wp(y.return,o,r),u||(T=null);break e}y=I.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),wp(T,o,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Oc(r,s,o,u){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=p.type;jn(p.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(p===he.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}p=p.return}r!==null&&Sp(s,r,o,u),s.flags|=262144}function th(r){for(r=r.firstContext;r!==null;){if(!jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ka(r){Oa=r,Ir=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return xb(Oa,r)}function nh(r,s){return Oa===null&&ka(r),xb(r,s)}function xb(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ir===null){if(r===null)throw Error(i(308));Ir=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ir=Ir.next=s;return o}var ON=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},kN=t.unstable_scheduleCallback,VN=t.unstable_NormalPriority,qt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new ON,data:new Map,refCount:0}}function kc(r){r.refCount--,r.refCount===0&&kN(VN,function(){r.controller.abort()})}var Vc=null,xp=0,Bo=0,zo=null;function LN(r,s){if(Vc===null){var o=Vc=[];xp=0,Bo=Cg(),zo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return xp++,s.then(Rb,Rb),s}function Rb(){if(--xp===0&&Vc!==null){zo!==null&&(zo.status="fulfilled");var r=Vc;Vc=null,Bo=0,zo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function UN(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Cb=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&LN(r,s),Cb!==null&&Cb(r,s)};var Va=ae(null);function Rp(){var r=Va.current;return r!==null?r:ft.pooledCache}function ih(r,s){s===null?te(Va,Va.current):te(Va,s.pool)}function Ib(){var r=Rp();return r===null?null:{parent:qt._currentValue,pool:r}}var Lc=Error(i(460)),Db=Error(i(474)),rh=Error(i(542)),Cp={then:function(){}};function Pb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sh(){}function Nb(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(sh,sh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ob(r),r;default:if(typeof s.status=="string")s.then(sh,sh);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ob(r),r}throw Uc=s,Lc}}var Uc=null;function Mb(){if(Uc===null)throw Error(i(459));var r=Uc;return Uc=null,r}function Ob(r){if(r===Lc||r===rh)throw Error(i(483))}var cs=!1;function Ip(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function us(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Qf(r),bb(r,null,o),s}return Xf(r,u,s,o),Qf(r)}function jc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,dc(r,o)}}function Pp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Np=!1;function Bc(){if(Np){var r=zo;if(r!==null)throw r}}function zc(r,s,o,u){Np=!1;var p=r.updateQueue;cs=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var B=I,Q=B.next;B.next=null,T===null?y=Q:T.next=Q,T=B;var se=r.alternate;se!==null&&(se=se.updateQueue,I=se.lastBaseUpdate,I!==T&&(I===null?se.firstBaseUpdate=Q:I.next=Q,se.lastBaseUpdate=B))}if(y!==null){var le=p.baseState;T=0,se=Q=B=null,I=y;do{var Z=I.lane&-536870913,J=Z!==I.lane;if(J?(We&Z)===Z:(u&Z)===Z){Z!==0&&Z===Bo&&(Np=!0),se!==null&&(se=se.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Pe=r,Re=I;Z=s;var lt=o;switch(Re.tag){case 1:if(Pe=Re.payload,typeof Pe=="function"){le=Pe.call(lt,le,Z);break e}le=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Re.payload,Z=typeof Pe=="function"?Pe.call(lt,le,Z):Pe,Z==null)break e;le=g({},le,Z);break e;case 2:cs=!0}}Z=I.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},se===null?(Q=se=J,B=le):se=se.next=J,T|=Z;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;J=I,I=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);se===null&&(B=le),p.baseState=B,p.firstBaseUpdate=Q,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),_s|=T,r.lanes=T,r.memoizedState=le}}function kb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Vb(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)kb(o[r],s)}var Fo=ae(null),ah=ae(0);function Lb(r,s){r=Lr,te(ah,r),te(Fo,s),Lr=r|s.baseLanes}function Mp(){te(ah,Lr),te(Fo,Fo.current)}function Op(){Lr=ah.current,ee(Fo),ee(ah)}var hs=0,Le=null,at=null,Ot=null,oh=!1,Ho=!1,La=!1,lh=0,Fc=0,qo=null,jN=0;function xt(){throw Error(i(321))}function kp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!jn(r[o],s[o]))return!1;return!0}function Vp(r,s,o,u,p,y){return hs=y,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?bE:EE,La=!1,y=o(u,p),La=!1,Ho&&(y=jb(s,o,u,p)),Ub(r),y}function Ub(r){K.H=mh;var s=at!==null&&at.next!==null;if(hs=0,Ot=at=Le=null,oh=!1,Fc=0,qo=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&th(r)&&(Zt=!0))}function jb(r,s,o,u){Le=r;var p=0;do{if(Ho&&(qo=null),Fc=0,Ho=!1,25<=p)throw Error(i(301));if(p+=1,Ot=at=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=$N,y=s(o,u)}while(Ho);return y}function BN(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?Hc(s):s,r=r.useState()[0],(at!==null?at.memoizedState:null)!==r&&(Le.flags|=1024),s}function Lp(){var r=lh!==0;return lh=0,r}function Up(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function jp(r){if(oh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oh=!1}hs=0,Ot=at=Le=null,Ho=!1,Fc=lh=0,qo=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Le.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function kt(){if(at===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var s=Ot===null?Le.memoizedState:Ot.next;if(s!==null)Ot=s,at=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Le.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(r){var s=Fc;return Fc+=1,qo===null&&(qo=[]),r=Nb(qo,r,s),s=Le,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?bE:EE),r}function ch(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hc(r);if(r.$$typeof===V)return pn(r)}throw Error(i(438,String(r)))}function zp(r){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Bp(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=U;return s.index++,o}function Pr(r,s){return typeof s=="function"?s(r):s}function uh(r){var s=kt();return Fp(s,at,r)}function Fp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var I=T=null,B=null,Q=s,se=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(We&le)===le:(hs&le)===le){var Z=Q.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===Bo&&(se=!0);else if((hs&Z)===Z){Q=Q.next,Z===Bo&&(se=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=le,T=y):B=B.next=le,Le.lanes|=Z,_s|=Z;le=Q.action,La&&o(y,le),y=Q.hasEagerState?Q.eagerState:o(y,le)}else Z={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=Z,T=y):B=B.next=Z,Le.lanes|=le,_s|=le;Q=Q.next}while(Q!==null&&Q!==s);if(B===null?T=y:B.next=I,!jn(y,r.memoizedState)&&(Zt=!0,se&&(o=zo,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=B,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Hp(r){var s=kt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);jn(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Bb(r,s,o){var u=Le,p=kt(),y=Je;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!jn((at||p).memoizedState,o);T&&(p.memoizedState=o,Zt=!0),p=p.queue;var I=Hb.bind(null,u,p,r);if(qc(2048,8,I,[r]),p.getSnapshot!==s||T||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Go(9,fh(),Fb.bind(null,u,p,o,s),null),ft===null)throw Error(i(349));y||(hs&124)!==0||zb(u,s,o)}return o}function zb(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=Bp(),Le.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Fb(r,s,o,u){s.value=o,s.getSnapshot=u,qb(s)&&Gb(r)}function Hb(r,s,o){return o(function(){qb(s)&&Gb(r)})}function qb(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!jn(r,o)}catch{return!0}}function Gb(r){var s=Vo(r,2);s!==null&&Gn(s,r,2)}function qp(r){var s=In();if(typeof r=="function"){var o=r;if(r=o(),La){Ln(!0);try{o()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:r},s}function $b(r,s,o,u){return r.baseState=o,Fp(r,at,typeof u=="function"?u:Pr)}function zN(r,s,o,u,p){if(dh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Kb(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Kb(r,s){var o=s.action,u=s.payload,p=r.state;if(s.isTransition){var y=K.T,T={};K.T=T;try{var I=o(p,u),B=K.S;B!==null&&B(T,I),Yb(r,s,I)}catch(Q){Gp(r,s,Q)}finally{K.T=y}}else try{y=o(p,u),Yb(r,s,y)}catch(Q){Gp(r,s,Q)}}function Yb(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Wb(r,s,u)},function(u){return Gp(r,s,u)}):Wb(r,s,o)}function Wb(r,s,o){s.status="fulfilled",s.value=o,Xb(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Kb(r,o)))}function Gp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Xb(s),s=s.next;while(s!==u)}r.action=null}function Xb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Qb(r,s){return s}function Zb(r,s){if(Je){var o=ft.formState;if(o!==null){e:{var u=Le;if(Je){if(Tt){t:{for(var p=Tt,y=Hi;p.nodeType!==8;){if(!y){p=null;break t}if(p=_i(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Tt=_i(p.nextSibling),u=p.data==="F!";break e}}Ma(u)}u=!1}u&&(s=o[0])}}return o=In(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qb,lastRenderedState:s},o.queue=u,o=yE.bind(null,Le,u),u.dispatch=o,u=qp(!1),y=Xp.bind(null,Le,!1,u.queue),u=In(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,o=zN.bind(null,Le,p,y,o),p.dispatch=o,u.memoizedState=r,[s,o,!1]}function Jb(r){var s=kt();return eE(s,at,r)}function eE(r,s,o){if(s=Fp(r,s,Qb)[0],r=uh(Pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hc(s)}catch(T){throw T===Lc?rh:T}else u=s;s=kt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,Go(9,fh(),FN.bind(null,p,o),null)),[u,y,r]}function FN(r,s){r.action=s}function tE(r){var s=kt(),o=at;if(o!==null)return eE(s,o,r);kt(),s=s.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Go(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=Bp(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function fh(){return{destroy:void 0,resource:void 0}}function nE(){return kt().memoizedState}function hh(r,s,o,u){var p=In();u=u===void 0?null:u,Le.flags|=r,p.memoizedState=Go(1|s,fh(),o,u)}function qc(r,s,o,u){var p=kt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&kp(u,at.memoizedState.deps)?p.memoizedState=Go(s,y,o,u):(Le.flags|=r,p.memoizedState=Go(1|s,y,o,u))}function iE(r,s){hh(8390656,8,r,s)}function rE(r,s){qc(2048,8,r,s)}function sE(r,s){return qc(4,2,r,s)}function aE(r,s){return qc(4,4,r,s)}function oE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function lE(r,s,o){o=o!=null?o.concat([r]):null,qc(4,4,oE.bind(null,s,r),o)}function $p(){}function cE(r,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&kp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function uE(r,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&kp(s,u[1]))return u[0];if(u=r(),La){Ln(!0);try{r()}finally{Ln(!1)}}return o.memoizedState=[u,s],u}function Kp(r,s,o){return o===void 0||(hs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=dT(),Le.lanes|=r,_s|=r,o)}function fE(r,s,o,u){return jn(o,s)?o:Fo.current!==null?(r=Kp(r,o,u),jn(r,s)||(Zt=!0),r):(hs&42)===0?(Zt=!0,r.memoizedState=o):(r=dT(),Le.lanes|=r,_s|=r,s)}function hE(r,s,o,u,p){var y=re.p;re.p=y!==0&&8>y?y:8;var T=K.T,I={};K.T=I,Xp(r,!1,s,o);try{var B=p(),Q=K.S;if(Q!==null&&Q(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var se=UN(B,u);Gc(r,s,se,qn(r))}else Gc(r,s,u,qn(r))}catch(le){Gc(r,s,{then:function(){},status:"rejected",reason:le},qn())}finally{re.p=y,K.T=T}}function HN(){}function Yp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var p=dE(r).queue;hE(r,p,s,X,o===null?HN:function(){return mE(r),o(u)})}function dE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:X},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function mE(r){var s=dE(r).next.queue;Gc(r,s,{},qn())}function Wp(){return pn(cu)}function pE(){return kt().memoizedState}function gE(){return kt().memoizedState}function qN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=qn();r=us(o);var u=fs(s,r,o);u!==null&&(Gn(u,s,o),jc(u,s,o)),s={cache:Ap()},r.payload=s;return}s=s.return}}function GN(r,s,o){var u=qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dh(r)?vE(s,o):(o=pp(r,s,o,u),o!==null&&(Gn(o,r,u),_E(o,s,u)))}function yE(r,s,o){var u=qn();Gc(r,s,o,u)}function Gc(r,s,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dh(r))vE(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,I=y(T,o);if(p.hasEagerState=!0,p.eagerState=I,jn(I,T))return Xf(r,s,p,0),ft===null&&Wf(),!1}catch{}finally{}if(o=pp(r,s,p,u),o!==null)return Gn(o,r,u),_E(o,s,u),!0}return!1}function Xp(r,s,o,u){if(u={lane:2,revertLane:Cg(),action:u,hasEagerState:!1,eagerState:null,next:null},dh(r)){if(s)throw Error(i(479))}else s=pp(r,o,u,2),s!==null&&Gn(s,r,2)}function dh(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function vE(r,s){Ho=oh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function _E(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,dc(r,o)}}var mh={readContext:pn,use:ch,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},bE={readContext:pn,use:ch,useCallback:function(r,s){return In().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:iE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,hh(4194308,4,oE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return hh(4194308,4,r,s)},useInsertionEffect:function(r,s){hh(4,2,r,s)},useMemo:function(r,s){var o=In();s=s===void 0?null:s;var u=r();if(La){Ln(!0);try{r()}finally{Ln(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=In();if(o!==void 0){var p=o(s);if(La){Ln(!0);try{o(s)}finally{Ln(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=GN.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var s=In();return r={current:r},s.memoizedState=r},useState:function(r){r=qp(r);var s=r.queue,o=yE.bind(null,Le,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:$p,useDeferredValue:function(r,s){var o=In();return Kp(o,r,s)},useTransition:function(){var r=qp(!1);return r=hE.bind(null,Le,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Le,p=In();if(Je){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ft===null)throw Error(i(349));(We&124)!==0||zb(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,iE(Hb.bind(null,u,y,r),[r]),u.flags|=2048,Go(9,fh(),Fb.bind(null,u,y,o,s),null),o},useId:function(){var r=In(),s=ft.identifierPrefix;if(Je){var o=Cr,u=Rr;o=(u&~(1<<32-mn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=lh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=jN++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Wp,useFormState:Zb,useActionState:Zb,useOptimistic:function(r){var s=In();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Xp.bind(null,Le,!0,o),o.dispatch=s,[r,s]},useMemoCache:zp,useCacheRefresh:function(){return In().memoizedState=qN.bind(null,Le)}},EE={readContext:pn,use:ch,useCallback:cE,useContext:pn,useEffect:rE,useImperativeHandle:lE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:uE,useReducer:uh,useRef:nE,useState:function(){return uh(Pr)},useDebugValue:$p,useDeferredValue:function(r,s){var o=kt();return fE(o,at.memoizedState,r,s)},useTransition:function(){var r=uh(Pr)[0],s=kt().memoizedState;return[typeof r=="boolean"?r:Hc(r),s]},useSyncExternalStore:Bb,useId:pE,useHostTransitionStatus:Wp,useFormState:Jb,useActionState:Jb,useOptimistic:function(r,s){var o=kt();return $b(o,at,r,s)},useMemoCache:zp,useCacheRefresh:gE},$N={readContext:pn,use:ch,useCallback:cE,useContext:pn,useEffect:rE,useImperativeHandle:lE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:uE,useReducer:Hp,useRef:nE,useState:function(){return Hp(Pr)},useDebugValue:$p,useDeferredValue:function(r,s){var o=kt();return at===null?Kp(o,r,s):fE(o,at.memoizedState,r,s)},useTransition:function(){var r=Hp(Pr)[0],s=kt().memoizedState;return[typeof r=="boolean"?r:Hc(r),s]},useSyncExternalStore:Bb,useId:pE,useHostTransitionStatus:Wp,useFormState:tE,useActionState:tE,useOptimistic:function(r,s){var o=kt();return at!==null?$b(o,at,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:zp,useCacheRefresh:gE},$o=null,$c=0;function ph(r){var s=$c;return $c+=1,$o===null&&($o=[]),Nb($o,r,s)}function Kc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gh(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function TE(r){var s=r._init;return s(r._payload)}function wE(r){function s(G,H){if(r){var W=G.deletions;W===null?(G.deletions=[H],G.flags|=16):W.push(H)}}function o(G,H){if(!r)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=xr(G,H),G.index=0,G.sibling=null,G}function y(G,H,W){return G.index=W,r?(W=G.alternate,W!==null?(W=W.index,W<H?(G.flags|=67108866,H):W):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function I(G,H,W,oe){return H===null||H.tag!==6?(H=yp(W,G.mode,oe),H.return=G,H):(H=p(H,W),H.return=G,H)}function B(G,H,W,oe){var ye=W.type;return ye===C?se(G,H,W.props.children,oe,W.key):H!==null&&(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&TE(ye)===H.type)?(H=p(H,W.props),Kc(H,W),H.return=G,H):(H=Zf(W.type,W.key,W.props,null,G.mode,oe),Kc(H,W),H.return=G,H)}function Q(G,H,W,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=vp(W,G.mode,oe),H.return=G,H):(H=p(H,W.children||[]),H.return=G,H)}function se(G,H,W,oe,ye){return H===null||H.tag!==7?(H=Ia(W,G.mode,oe,ye),H.return=G,H):(H=p(H,W),H.return=G,H)}function le(G,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=yp(""+H,G.mode,W),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return W=Zf(H.type,H.key,H.props,null,G.mode,W),Kc(W,H),W.return=G,W;case S:return H=vp(H,G.mode,W),H.return=G,H;case x:var oe=H._init;return H=oe(H._payload),le(G,H,W)}if(Te(H)||j(H))return H=Ia(H,G.mode,W,null),H.return=G,H;if(typeof H.then=="function")return le(G,ph(H),W);if(H.$$typeof===V)return le(G,nh(G,H),W);gh(G,H)}return null}function Z(G,H,W,oe){var ye=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ye!==null?null:I(G,H,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===ye?B(G,H,W,oe):null;case S:return W.key===ye?Q(G,H,W,oe):null;case x:return ye=W._init,W=ye(W._payload),Z(G,H,W,oe)}if(Te(W)||j(W))return ye!==null?null:se(G,H,W,oe,null);if(typeof W.then=="function")return Z(G,H,ph(W),oe);if(W.$$typeof===V)return Z(G,H,nh(G,W),oe);gh(G,W)}return null}function J(G,H,W,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(W)||null,I(H,G,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return G=G.get(oe.key===null?W:oe.key)||null,B(H,G,oe,ye);case S:return G=G.get(oe.key===null?W:oe.key)||null,Q(H,G,oe,ye);case x:var Be=oe._init;return oe=Be(oe._payload),J(G,H,W,oe,ye)}if(Te(oe)||j(oe))return G=G.get(W)||null,se(H,G,oe,ye,null);if(typeof oe.then=="function")return J(G,H,W,ph(oe),ye);if(oe.$$typeof===V)return J(G,H,W,nh(H,oe),ye);gh(H,oe)}return null}function Pe(G,H,W,oe){for(var ye=null,Be=null,Se=H,Ce=H=0,en=null;Se!==null&&Ce<W.length;Ce++){Se.index>Ce?(en=Se,Se=null):en=Se.sibling;var Ze=Z(G,Se,W[Ce],oe);if(Ze===null){Se===null&&(Se=en);break}r&&Se&&Ze.alternate===null&&s(G,Se),H=y(Ze,H,Ce),Be===null?ye=Ze:Be.sibling=Ze,Be=Ze,Se=en}if(Ce===W.length)return o(G,Se),Je&&Pa(G,Ce),ye;if(Se===null){for(;Ce<W.length;Ce++)Se=le(G,W[Ce],oe),Se!==null&&(H=y(Se,H,Ce),Be===null?ye=Se:Be.sibling=Se,Be=Se);return Je&&Pa(G,Ce),ye}for(Se=u(Se);Ce<W.length;Ce++)en=J(Se,G,Ce,W[Ce],oe),en!==null&&(r&&en.alternate!==null&&Se.delete(en.key===null?Ce:en.key),H=y(en,H,Ce),Be===null?ye=en:Be.sibling=en,Be=en);return r&&Se.forEach(function(Cs){return s(G,Cs)}),Je&&Pa(G,Ce),ye}function Re(G,H,W,oe){if(W==null)throw Error(i(151));for(var ye=null,Be=null,Se=H,Ce=H=0,en=null,Ze=W.next();Se!==null&&!Ze.done;Ce++,Ze=W.next()){Se.index>Ce?(en=Se,Se=null):en=Se.sibling;var Cs=Z(G,Se,Ze.value,oe);if(Cs===null){Se===null&&(Se=en);break}r&&Se&&Cs.alternate===null&&s(G,Se),H=y(Cs,H,Ce),Be===null?ye=Cs:Be.sibling=Cs,Be=Cs,Se=en}if(Ze.done)return o(G,Se),Je&&Pa(G,Ce),ye;if(Se===null){for(;!Ze.done;Ce++,Ze=W.next())Ze=le(G,Ze.value,oe),Ze!==null&&(H=y(Ze,H,Ce),Be===null?ye=Ze:Be.sibling=Ze,Be=Ze);return Je&&Pa(G,Ce),ye}for(Se=u(Se);!Ze.done;Ce++,Ze=W.next())Ze=J(Se,G,Ce,Ze.value,oe),Ze!==null&&(r&&Ze.alternate!==null&&Se.delete(Ze.key===null?Ce:Ze.key),H=y(Ze,H,Ce),Be===null?ye=Ze:Be.sibling=Ze,Be=Ze);return r&&Se.forEach(function(KM){return s(G,KM)}),Je&&Pa(G,Ce),ye}function lt(G,H,W,oe){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var ye=W.key;H!==null;){if(H.key===ye){if(ye=W.type,ye===C){if(H.tag===7){o(G,H.sibling),oe=p(H,W.props.children),oe.return=G,G=oe;break e}}else if(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&TE(ye)===H.type){o(G,H.sibling),oe=p(H,W.props),Kc(oe,W),oe.return=G,G=oe;break e}o(G,H);break}else s(G,H);H=H.sibling}W.type===C?(oe=Ia(W.props.children,G.mode,oe,W.key),oe.return=G,G=oe):(oe=Zf(W.type,W.key,W.props,null,G.mode,oe),Kc(oe,W),oe.return=G,G=oe)}return T(G);case S:e:{for(ye=W.key;H!==null;){if(H.key===ye)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(G,H.sibling),oe=p(H,W.children||[]),oe.return=G,G=oe;break e}else{o(G,H);break}else s(G,H);H=H.sibling}oe=vp(W,G.mode,oe),oe.return=G,G=oe}return T(G);case x:return ye=W._init,W=ye(W._payload),lt(G,H,W,oe)}if(Te(W))return Pe(G,H,W,oe);if(j(W)){if(ye=j(W),typeof ye!="function")throw Error(i(150));return W=ye.call(W),Re(G,H,W,oe)}if(typeof W.then=="function")return lt(G,H,ph(W),oe);if(W.$$typeof===V)return lt(G,H,nh(G,W),oe);gh(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(G,H.sibling),oe=p(H,W),oe.return=G,G=oe):(o(G,H),oe=yp(W,G.mode,oe),oe.return=G,G=oe),T(G)):o(G,H)}return function(G,H,W,oe){try{$c=0;var ye=lt(G,H,W,oe);return $o=null,ye}catch(Se){if(Se===Lc||Se===rh)throw Se;var Be=Bn(29,Se,null,G.mode);return Be.lanes=oe,Be.return=G,Be}finally{}}}var Ko=wE(!0),SE=wE(!1),si=ae(null),qi=null;function ds(r){var s=r.alternate;te(Gt,Gt.current&1),te(si,r),qi===null&&(s===null||Fo.current!==null||s.memoizedState!==null)&&(qi=r)}function AE(r){if(r.tag===22){if(te(Gt,Gt.current),te(si,r),qi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(qi=r)}}else ms()}function ms(){te(Gt,Gt.current),te(si,si.current)}function Nr(r){ee(si),qi===r&&(qi=null),ee(Gt)}var Gt=ae(0);function yh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Bg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Qp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:g({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Zp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=qn(),p=us(u);p.payload=s,o!=null&&(p.callback=o),s=fs(r,p,u),s!==null&&(Gn(s,r,u),jc(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=qn(),p=us(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=fs(r,p,u),s!==null&&(Gn(s,r,u),jc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=qn(),u=us(o);u.tag=2,s!=null&&(u.callback=s),s=fs(r,u,o),s!==null&&(Gn(s,r,o),jc(s,r,o))}};function xE(r,s,o,u,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ic(o,u)||!Ic(p,y):!0}function RE(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Zp.enqueueReplaceState(s,s.state,null)}function Ua(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var vh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function CE(r){vh(r)}function IE(r){console.error(r)}function DE(r){vh(r)}function _h(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function PE(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jp(r,s,o){return o=us(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(r,s)},o}function NE(r){return r=us(r),r.tag=3,r}function ME(r,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){PE(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){PE(s,o,u),typeof p!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function KN(r,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Oc(s,o,p,!0),o=si.current,o!==null){switch(o.tag){case 13:return qi===null?wg():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Cp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Ag(r,u,p)),!1;case 22:return o.flags|=65536,u===Cp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Ag(r,u,p)),!1}throw Error(i(435,o.tag))}return Ag(r,u,p),wg(),!1}if(Je)return s=si.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Ep&&(r=Error(i(422),{cause:u}),Mc(ti(r,o)))):(u!==Ep&&(s=Error(i(423),{cause:u}),Mc(ti(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=ti(u,o),p=Jp(r.stateNode,u,p),Pp(r,p),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=ti(y,o),eu===null?eu=[y]:eu.push(y),wt!==4&&(wt=2),s===null)return!0;u=ti(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Jp(o.stateNode,u,r),Pp(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(bs===null||!bs.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=NE(p),ME(p,r,o,u),Pp(o,p),!1}o=o.return}while(o!==null);return!1}var OE=Error(i(461)),Zt=!1;function sn(r,s,o,u){s.child=r===null?SE(s,null,o,u):Ko(s,r.child,o,u)}function kE(r,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return ka(s),u=Vp(r,s,o,T,y,p),I=Lp(),r!==null&&!Zt?(Up(r,s,p),Mr(r,s,p)):(Je&&I&&_p(s),s.flags|=1,sn(r,s,u,p),s.child)}function VE(r,s,o,u,p){if(r===null){var y=o.type;return typeof y=="function"&&!gp(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,LE(r,s,y,u,p)):(r=Zf(o.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!og(r,p)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ic,o(T,u)&&r.ref===s.ref)return Mr(r,s,p)}return s.flags|=1,r=xr(y,u),r.ref=s.ref,r.return=s,s.child=r}function LE(r,s,o,u,p){if(r!==null){var y=r.memoizedProps;if(Ic(y,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=y,og(r,p))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Mr(r,s,p)}return eg(r,s,o,u,p)}function UE(r,s,o){var u=s.pendingProps,p=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return jE(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ih(s,y!==null?y.cachePool:null),y!==null?Lb(s,y):Mp(),AE(s);else return s.lanes=s.childLanes=536870912,jE(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(ih(s,y.cachePool),Lb(s,y),ms(),s.memoizedState=null):(r!==null&&ih(s,null),Mp(),ms());return sn(r,s,p,o),s.child}function jE(r,s,o,u){var p=Rp();return p=p===null?null:{parent:qt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&ih(s,null),Mp(),AE(s),r!==null&&Oc(r,s,u,!0),null}function bh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function eg(r,s,o,u,p){return ka(s),o=Vp(r,s,o,u,void 0,p),u=Lp(),r!==null&&!Zt?(Up(r,s,p),Mr(r,s,p)):(Je&&u&&_p(s),s.flags|=1,sn(r,s,o,p),s.child)}function BE(r,s,o,u,p,y){return ka(s),s.updateQueue=null,o=jb(s,u,o,p),Ub(r),u=Lp(),r!==null&&!Zt?(Up(r,s,y),Mr(r,s,y)):(Je&&u&&_p(s),s.flags|=1,sn(r,s,o,y),s.child)}function zE(r,s,o,u,p){if(ka(s),s.stateNode===null){var y=Lo,T=o.contextType;typeof T=="object"&&T!==null&&(y=pn(T)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Zp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Ip(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?pn(T):Lo,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Qp(s,o,T,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Zp.enqueueReplaceState(y,y.state,null),zc(s,u,y,p),Bc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var I=s.memoizedProps,B=Ua(o,I);y.props=B;var Q=y.context,se=o.contextType;T=Lo,typeof se=="object"&&se!==null&&(T=pn(se));var le=o.getDerivedStateFromProps;se=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||Q!==T)&&RE(s,y,u,T),cs=!1;var Z=s.memoizedState;y.state=Z,zc(s,u,y,p),Bc(),Q=s.memoizedState,I||Z!==Q||cs?(typeof le=="function"&&(Qp(s,o,le,u),Q=s.memoizedState),(B=cs||xE(s,o,B,u,Z,Q,T))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),y.props=u,y.state=Q,y.context=T,u=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Dp(r,s),T=s.memoizedProps,se=Ua(o,T),y.props=se,le=s.pendingProps,Z=y.context,Q=o.contextType,B=Lo,typeof Q=="object"&&Q!==null&&(B=pn(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==le||Z!==B)&&RE(s,y,u,B),cs=!1,Z=s.memoizedState,y.state=Z,zc(s,u,y,p),Bc();var J=s.memoizedState;T!==le||Z!==J||cs||r!==null&&r.dependencies!==null&&th(r.dependencies)?(typeof I=="function"&&(Qp(s,o,I,u),J=s.memoizedState),(se=cs||xE(s,o,se,u,Z,J,B)||r!==null&&r.dependencies!==null&&th(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),y.props=u,y.state=J,y.context=B,u=se):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,bh(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=Ko(s,r.child,null,p),s.child=Ko(s,null,o,p)):sn(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Mr(r,s,p),r}function FE(r,s,o,u){return Nc(),s.flags|=256,sn(r,s,o,u),s.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(r){return{baseLanes:r,cachePool:Ib()}}function ig(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ai),r}function HE(r,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Gt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Je){if(p?ds(s):ms(),Je){var I=Tt,B;if(B=I){e:{for(B=I,I=Hi;B.nodeType!==8;){if(!I){I=null;break e}if(B=_i(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(s.memoizedState={dehydrated:I,treeContext:Da!==null?{id:Rr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},B=Bn(18,null,null,0),B.stateNode=I,B.return=s,s.child=B,Rn=s,Tt=null,B=!0):B=!1}B||Ma(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Bg(I)?s.lanes=32:s.lanes=536870912,null;Nr(s)}return I=u.children,u=u.fallback,p?(ms(),p=s.mode,I=Eh({mode:"hidden",children:I},p),u=Ia(u,p,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,p=s.child,p.memoizedState=ng(o),p.childLanes=ig(r,T,o),s.memoizedState=tg,u):(ds(s),rg(s,I))}if(B=r.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(y)s.flags&256?(ds(s),s.flags&=-257,s=sg(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),p=u.fallback,I=s.mode,u=Eh({mode:"visible",children:u.children},I),p=Ia(p,I,o,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,Ko(s,r.child,null,o),u=s.child,u.memoizedState=ng(o),u.childLanes=ig(r,T,o),s.memoizedState=tg,s=p);else if(ds(s),Bg(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var Q=T.dgst;T=Q,u=Error(i(419)),u.stack="",u.digest=T,Mc({value:u,source:null,stack:null}),s=sg(r,s,o)}else if(Zt||Oc(r,s,o,!1),T=(o&r.childLanes)!==0,Zt||T){if(T=ft,T!==null&&(u=o&-o,u=(u&42)!==0?1:ts(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,Vo(r,u),Gn(T,r,u),OE;I.data==="$?"||wg(),s=sg(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=B.treeContext,Tt=_i(I.nextSibling),Rn=s,Je=!0,Na=null,Hi=!1,r!==null&&(ii[ri++]=Rr,ii[ri++]=Cr,ii[ri++]=Da,Rr=r.id,Cr=r.overflow,Da=s),s=rg(s,u.children),s.flags|=4096);return s}return p?(ms(),p=u.fallback,I=s.mode,B=r.child,Q=B.sibling,u=xr(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,Q!==null?p=xr(Q,p):(p=Ia(p,I,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,I=r.child.memoizedState,I===null?I=ng(o):(B=I.cachePool,B!==null?(Q=qt._currentValue,B=B.parent!==Q?{parent:Q,pool:Q}:B):B=Ib(),I={baseLanes:I.baseLanes|o,cachePool:B}),p.memoizedState=I,p.childLanes=ig(r,T,o),s.memoizedState=tg,u):(ds(s),o=r.child,r=o.sibling,o=xr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function rg(r,s){return s=Eh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Eh(r,s){return r=Bn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function sg(r,s,o){return Ko(s,r.child,null,o),r=rg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function qE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),wp(r.return,s,o)}function ag(r,s,o,u,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=p)}function GE(r,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;if(sn(r,s,u.children,o),u=Gt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qE(r,o,s);else if(r.tag===19)qE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(te(Gt,u),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&yh(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),ag(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&yh(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}ag(s,!0,o,null,y);break;case"together":ag(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Oc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=xr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=xr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function og(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&th(r)))}function YN(r,s,o){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),ls(s,qt,r.memoizedState.cache),Nc();break;case 27:case 5:Ve(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?HE(r,s,o):(ds(s),r=Mr(r,s,o),r!==null?r.sibling:null);ds(s);break;case 19:var p=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Oc(r,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return GE(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Gt,Gt.current),u)break;return null;case 22:case 23:return s.lanes=0,UE(r,s,o);case 24:ls(s,qt,r.memoizedState.cache)}return Mr(r,s,o)}function $E(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!og(r,o)&&(s.flags&128)===0)return Zt=!1,YN(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,Je&&(s.flags&1048576)!==0&&Tb(s,eh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")gp(u)?(r=Ua(u,r),s.tag=1,s=zE(null,s,u,r,o)):(s.tag=0,s=eg(null,s,u,r,o));else{if(u!=null){if(p=u.$$typeof,p===$){s.tag=11,s=kE(null,s,u,r,o);break e}else if(p===M){s.tag=14,s=VE(null,s,u,r,o);break e}}throw s=Ee(u)||u,Error(i(306,s,""))}}return s;case 0:return eg(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Ua(u,s.pendingProps),zE(r,s,u,p,o);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Dp(r,s),zc(s,u,null,o);var T=s.memoizedState;if(u=T.cache,ls(s,qt,u),u!==y.cache&&Sp(s,[qt],o,!0),Bc(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=FE(r,s,u,o);break e}else if(u!==p){p=ti(Error(i(424)),s),Mc(p),s=FE(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=_i(r.firstChild),Rn=s,Je=!0,Na=null,Hi=!0,o=SE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nc(),u===p){s=Mr(r,s,o);break e}sn(r,s,u,o)}s=s.child}return s;case 26:return bh(r,s),r===null?(o=XT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Je||(o=s.type,r=s.pendingProps,u=kh(ge.current).createElement(o),u[zt]=s,u[Nt]=r,on(u,o,r),At(u),s.stateNode=u):s.memoizedState=XT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ve(s),r===null&&Je&&(u=s.stateNode=KT(s.type,s.pendingProps,ge.current),Rn=s,Hi=!0,p=Tt,ws(s.type)?(zg=p,Tt=_i(u.firstChild)):Tt=p),sn(r,s,s.pendingProps.children,o),bh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Je&&((p=u=Tt)&&(u=TM(u,s.type,s.pendingProps,Hi),u!==null?(s.stateNode=u,Rn=s,Tt=_i(u.firstChild),Hi=!1,p=!0):p=!1),p||Ma(s)),Ve(s),p=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,Lg(p,y)?u=null:T!==null&&Lg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Vp(r,s,BN,null,null,o),cu._currentValue=p),bh(r,s),sn(r,s,u,o),s.child;case 6:return r===null&&Je&&((r=o=Tt)&&(o=wM(o,s.pendingProps,Hi),o!==null?(s.stateNode=o,Rn=s,Tt=null,r=!0):r=!1),r||Ma(s)),null;case 13:return HE(r,s,o);case 4:return Ae(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ko(s,null,u,o):sn(r,s,u,o),s.child;case 11:return kE(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ls(s,s.type,u.value),sn(r,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,ka(s),p=pn(p),u=u(p),s.flags|=1,sn(r,s,u,o),s.child;case 14:return VE(r,s,s.type,s.pendingProps,o);case 15:return LE(r,s,s.type,s.pendingProps,o);case 19:return GE(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Eh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=xr(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return UE(r,s,o);case 24:return ka(s),u=pn(qt),r===null?(p=Rp(),p===null&&(p=ft,y=Ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},Ip(s),ls(s,qt,p)):((r.lanes&o)!==0&&(Dp(r,s),zc(s,null,null,o),Bc()),p=r.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ls(s,qt,u)):(u=y.cache,ls(s,qt,u),u!==p.cache&&Sp(s,[qt],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Or(r){r.flags|=4}function KE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tw(s)){if(s=si.current,s!==null&&((We&4194048)===We?qi!==null:(We&62914560)!==We&&(We&536870912)===0||s!==qi))throw Uc=Cp,Db;r.flags|=8192}}function Th(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?fc():536870912,r.lanes|=s,Qo|=s)}function Yc(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function WN(r,s,o){var u=s.pendingProps;switch(bp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Dr(qt),He(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Pc(s)?Or(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ab())),vt(s),null;case 26:return o=s.memoizedState,r===null?(Or(s),o!==null?(vt(s),KE(s,o)):(vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Or(s),vt(s),KE(s,o)):(vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Or(s),vt(s),s.flags&=-16777217),null;case 27:je(s),o=ge.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}r=fe.current,Pc(s)?wb(s):(r=KT(p,u,o),s.stateNode=r,Or(s))}return vt(s),null;case 5:if(je(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(r=fe.current,Pc(s))wb(s);else{switch(p=kh(ge.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}r[zt]=s,r[Nt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(on(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Or(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ge.current,Pc(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,p=Rn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||BT(r.nodeValue,o)),r||Ma(s)}else r=kh(r).createTextNode(u),r[zt]=s,s.stateNode=r}return vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Pc(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[zt]=s}else Nc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),p=!1}else p=Ab(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Nr(s),s):(Nr(s),null)}if(Nr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Th(s,s.updateQueue),vt(s),null;case 4:return He(),r===null&&Ng(s.stateNode.containerInfo),vt(s),null;case 10:return Dr(s.type),vt(s),null;case 19:if(ee(Gt),p=s.memoizedState,p===null)return vt(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)Yc(p,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=yh(r),y!==null){for(s.flags|=128,Yc(p,!1),r=y.updateQueue,s.updateQueue=r,Th(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Eb(o,r),o=o.sibling;return te(Gt,Gt.current&1|2),s.child}r=r.sibling}p.tail!==null&&dn()>Ah&&(s.flags|=128,u=!0,Yc(p,!1),s.lanes=4194304)}else{if(!u)if(r=yh(y),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Th(s,r),Yc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Je)return vt(s),null}else 2*dn()-p.renderingStartTime>Ah&&o!==536870912&&(s.flags|=128,u=!0,Yc(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=dn(),s.sibling=null,r=Gt.current,te(Gt,u?r&1|2:r&1),s):(vt(s),null);case 22:case 23:return Nr(s),Op(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),o=s.updateQueue,o!==null&&Th(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ee(Va),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Dr(qt),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function XN(r,s){switch(bp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Dr(qt),He(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return je(s),null;case 13:if(Nr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Nc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ee(Gt),null;case 4:return He(),null;case 10:return Dr(s.type),null;case 22:case 23:return Nr(s),Op(),r!==null&&ee(Va),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Dr(qt),null;case 25:return null;default:return null}}function YE(r,s){switch(bp(s),s.tag){case 3:Dr(qt),He();break;case 26:case 27:case 5:je(s);break;case 4:He();break;case 13:Nr(s);break;case 19:ee(Gt);break;case 10:Dr(s.type);break;case 22:case 23:Nr(s),Op(),r!==null&&ee(Va);break;case 24:Dr(qt)}}function Wc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&r)===r){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==p)}}catch(I){ct(s,s.return,I)}}function ps(r,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,p=s;var B=o,Q=I;try{Q()}catch(se){ct(p,B,se)}}}u=u.next}while(u!==y)}}catch(se){ct(s,s.return,se)}}function WE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Vb(s,o)}catch(u){ct(r,r.return,u)}}}function XE(r,s,o){o.props=Ua(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ct(r,s,u)}}function Xc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(p){ct(r,s,p)}}function Gi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){ct(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ct(r,s,p)}else o.current=null}function QE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){ct(r,r.return,p)}}function lg(r,s,o){try{var u=r.stateNode;yM(u,r.type,o,s),u[Nt]=s}catch(p){ct(r,r.return,p)}}function ZE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ws(r.type)||r.tag===4}function cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ZE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ws(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ug(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Oh));else if(u!==4&&(u===27&&ws(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ug(r,s,o),r=r.sibling;r!==null;)ug(r,s,o),r=r.sibling}function wh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ws(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(wh(r,s,o),r=r.sibling;r!==null;)wh(r,s,o),r=r.sibling}function JE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);on(s,u,o),s[zt]=r,s[Nt]=o}catch(y){ct(r,r.return,y)}}var kr=!1,Rt=!1,fg=!1,eT=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function QN(r,s){if(r=r.containerInfo,kg=zh,r=fb(r),cp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,I=-1,B=-1,Q=0,se=0,le=r,Z=null;t:for(;;){for(var J;le!==o||p!==0&&le.nodeType!==3||(I=T+p),le!==y||u!==0&&le.nodeType!==3||(B=T+u),le.nodeType===3&&(T+=le.nodeValue.length),(J=le.firstChild)!==null;)Z=le,le=J;for(;;){if(le===r)break t;if(Z===o&&++Q===p&&(I=T),Z===y&&++se===u&&(B=T),(J=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=J}o=I===-1||B===-1?null:{start:I,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vg={focusedElem:r,selectionRange:o},zh=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Pe=Ua(o.type,p,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Pe,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){ct(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)jg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function tT(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(r,o),u&4&&Wc(5,o);break;case 1:if(gs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){ct(o,o.return,T)}else{var p=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(o,o.return,T)}}u&64&&WE(o),u&512&&Xc(o,o.return);break;case 3:if(gs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Vb(r,s)}catch(T){ct(o,o.return,T)}}break;case 27:s===null&&u&4&&JE(o);case 26:case 5:gs(r,o),s===null&&u&4&&QE(o),u&512&&Xc(o,o.return);break;case 12:gs(r,o);break;case 13:gs(r,o),u&4&&rT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=aM.bind(null,o),SM(r,o))));break;case 22:if(u=o.memoizedState!==null||kr,!u){s=s!==null&&s.memoizedState!==null||Rt,p=kr;var y=Rt;kr=u,(Rt=s)&&!y?ys(r,o,(o.subtreeFlags&8772)!==0):gs(r,o),kr=p,Rt=y}break;case 30:break;default:gs(r,o)}}function nT(r){var s=r.alternate;s!==null&&(r.alternate=null,nT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&rs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,Dn=!1;function Vr(r,s,o){for(o=o.child;o!==null;)iT(r,s,o),o=o.sibling}function iT(r,s,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Et,o)}catch{}switch(o.tag){case 26:Rt||Gi(o,s),Vr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Gi(o,s);var u=pt,p=Dn;ws(o.type)&&(pt=o.stateNode,Dn=!1),Vr(r,s,o),su(o.stateNode),pt=u,Dn=p;break;case 5:Rt||Gi(o,s);case 6:if(u=pt,p=Dn,pt=null,Vr(r,s,o),pt=u,Dn=p,pt!==null)if(Dn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(y){ct(o,s,y)}else try{pt.removeChild(o.stateNode)}catch(y){ct(o,s,y)}break;case 18:pt!==null&&(Dn?(r=pt,GT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),du(r)):GT(pt,o.stateNode));break;case 4:u=pt,p=Dn,pt=o.stateNode.containerInfo,Dn=!0,Vr(r,s,o),pt=u,Dn=p;break;case 0:case 11:case 14:case 15:Rt||ps(2,o,s),Rt||ps(4,o,s),Vr(r,s,o);break;case 1:Rt||(Gi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&XE(o,s,u)),Vr(r,s,o);break;case 21:Vr(r,s,o);break;case 22:Rt=(u=Rt)||o.memoizedState!==null,Vr(r,s,o),Rt=u;break;default:Vr(r,s,o)}}function rT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{du(r)}catch(o){ct(s,s.return,o)}}function ZN(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new eT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new eT),s;default:throw Error(i(435,r.tag))}}function hg(r,s){var o=ZN(r);s.forEach(function(u){var p=oM.bind(null,r,u);o.has(u)||(o.add(u),u.then(p,p))})}function zn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=r,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(ws(I.type)){pt=I.stateNode,Dn=!1;break e}break;case 5:pt=I.stateNode,Dn=!1;break e;case 3:case 4:pt=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(pt===null)throw Error(i(160));iT(y,T,p),pt=null,Dn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)sT(s,r),s=s.sibling}var vi=null;function sT(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zn(s,r),Fn(r),u&4&&(ps(3,r,r.return),Wc(3,r),ps(5,r,r.return));break;case 1:zn(s,r),Fn(r),u&512&&(Rt||o===null||Gi(o,o.return)),u&64&&kr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=vi;if(zn(s,r),Fn(r),u&512&&(Rt||o===null||Gi(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[da]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,o),y[zt]=r,At(y),u=y;break e;case"link":var T=JT("link","href",p).get(u+(o.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(I,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;case"meta":if(T=JT("meta","content",p).get(u+(o.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(I,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[zt]=r,At(y),u=y}r.stateNode=u}else ew(p,r.type,r.stateNode);else r.stateNode=ZT(p,u,r.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?ew(p,r.type,r.stateNode):ZT(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&lg(r,r.memoizedProps,o.memoizedProps)}break;case 27:zn(s,r),Fn(r),u&512&&(Rt||o===null||Gi(o,o.return)),o!==null&&u&4&&lg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(zn(s,r),Fn(r),u&512&&(Rt||o===null||Gi(o,o.return)),r.flags&32){p=r.stateNode;try{Qn(p,"")}catch(J){ct(r,r.return,J)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,lg(r,p,o!==null?o.memoizedProps:p)),u&1024&&(fg=!0);break;case 6:if(zn(s,r),Fn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(J){ct(r,r.return,J)}}break;case 3:if(Uh=null,p=vi,vi=Vh(s.containerInfo),zn(s,r),vi=p,Fn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{du(s.containerInfo)}catch(J){ct(r,r.return,J)}fg&&(fg=!1,aT(r));break;case 4:u=vi,vi=Vh(r.stateNode.containerInfo),zn(s,r),Fn(r),vi=u;break;case 12:zn(s,r),Fn(r);break;case 13:zn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vg=dn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hg(r,u)));break;case 22:p=r.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,Q=kr,se=Rt;if(kr=Q||p,Rt=se||B,zn(s,r),Rt=se,kr=Q,Fn(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||B||kr||Rt||ja(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(y=B.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=B.stateNode;var le=B.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;I.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){ct(B,B.return,J)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(J){ct(B,B.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hg(r,o))));break;case 19:zn(s,r),Fn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hg(r,u)));break;case 30:break;case 21:break;default:zn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(ZE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=cg(r);wh(r,y,p);break;case 5:var T=o.stateNode;o.flags&32&&(Qn(T,""),o.flags&=-33);var I=cg(r);wh(r,I,T);break;case 3:case 4:var B=o.stateNode.containerInfo,Q=cg(r);ug(r,Q,B);break;default:throw Error(i(161))}}catch(se){ct(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function aT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;aT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function gs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tT(r,s.alternate,s),s=s.sibling}function ja(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),ja(s);break;case 1:Gi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&XE(s,s.return,o),ja(s);break;case 27:su(s.stateNode);case 26:case 5:Gi(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}r=r.sibling}}function ys(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:ys(p,y,o),Wc(4,y);break;case 1:if(ys(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){ct(u,u.return,Q)}if(u=y,p=u.updateQueue,p!==null){var I=u.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)kb(B[p],I)}catch(Q){ct(u,u.return,Q)}}o&&T&64&&WE(y),Xc(y,y.return);break;case 27:JE(y);case 26:case 5:ys(p,y,o),o&&u===null&&T&4&&QE(y),Xc(y,y.return);break;case 12:ys(p,y,o);break;case 13:ys(p,y,o),o&&T&4&&rT(p,y);break;case 22:y.memoizedState===null&&ys(p,y,o),Xc(y,y.return);break;case 30:break;default:ys(p,y,o)}s=s.sibling}}function dg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&kc(o))}function mg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kc(r))}function $i(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)oT(r,s,o,u),s=s.sibling}function oT(r,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:$i(r,s,o,u),p&2048&&Wc(9,s);break;case 1:$i(r,s,o,u);break;case 3:$i(r,s,o,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kc(r)));break;case 12:if(p&2048){$i(r,s,o,u),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ct(s,s.return,B)}}else $i(r,s,o,u);break;case 13:$i(r,s,o,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?$i(r,s,o,u):Qc(r,s):y._visibility&2?$i(r,s,o,u):(y._visibility|=2,Yo(r,s,o,u,(s.subtreeFlags&10256)!==0)),p&2048&&dg(T,s);break;case 24:$i(r,s,o,u),p&2048&&mg(s.alternate,s);break;default:$i(r,s,o,u)}}function Yo(r,s,o,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,I=o,B=u,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Yo(y,T,I,B,p),Wc(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?Yo(y,T,I,B,p):Qc(y,T):(se._visibility|=2,Yo(y,T,I,B,p)),p&&Q&2048&&dg(T.alternate,T);break;case 24:Yo(y,T,I,B,p),p&&Q&2048&&mg(T.alternate,T);break;default:Yo(y,T,I,B,p)}s=s.sibling}}function Qc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,p=u.flags;switch(u.tag){case 22:Qc(o,u),p&2048&&dg(u.alternate,u);break;case 24:Qc(o,u),p&2048&&mg(u.alternate,u);break;default:Qc(o,u)}s=s.sibling}}var Zc=8192;function Wo(r){if(r.subtreeFlags&Zc)for(r=r.child;r!==null;)lT(r),r=r.sibling}function lT(r){switch(r.tag){case 26:Wo(r),r.flags&Zc&&r.memoizedState!==null&&LM(vi,r.memoizedState,r.memoizedProps);break;case 5:Wo(r);break;case 3:case 4:var s=vi;vi=Vh(r.stateNode.containerInfo),Wo(r),vi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Zc,Zc=16777216,Wo(r),Zc=s):Wo(r));break;default:Wo(r)}}function cT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Jc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,fT(u,r)}cT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)uT(r),r=r.sibling}function uT(r){switch(r.tag){case 0:case 11:case 15:Jc(r),r.flags&2048&&ps(9,r,r.return);break;case 3:Jc(r);break;case 12:Jc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Sh(r)):Jc(r);break;default:Jc(r)}}function Sh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,fT(u,r)}cT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Sh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(s));break;default:Sh(s)}r=r.sibling}}function fT(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var p=u.sibling,y=u.return;if(nT(u),u===o){Jt=null;break e}if(p!==null){p.return=y,Jt=p;break e}Jt=y}}}var JN={getCacheForType:function(r){var s=pn(qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},eM=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,ze=null,We=0,rt=0,Hn=null,vs=!1,Xo=!1,pg=!1,Lr=0,wt=0,_s=0,Ba=0,gg=0,ai=0,Qo=0,eu=null,Pn=null,yg=!1,vg=0,Ah=1/0,xh=null,bs=null,an=0,Es=null,Zo=null,Jo=0,_g=0,bg=null,hT=null,tu=0,Eg=null;function qn(){if((it&2)!==0&&We!==0)return We&-We;if(K.T!==null){var r=Bo;return r!==0?r:Cg()}return ns()}function dT(){ai===0&&(ai=(We&536870912)===0||Je?uc():536870912);var r=si.current;return r!==null&&(r.flags|=32),ai}function Gn(r,s,o){(r===ft&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(el(r,0),Ts(r,We,ai,!1)),pr(r,o),((it&2)===0||r!==ft)&&(r===ft&&((it&2)===0&&(Ba|=o),wt===4&&Ts(r,We,ai,!1)),Ki(r))}function mT(r,s,o){if((it&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ha(r,s),p=u?iM(r,s):Sg(r,s,!0),y=u;do{if(p===0){Xo&&!u&&Ts(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!tM(o)){p=Sg(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var I=r;p=eu;var B=I.current.memoizedState.isDehydrated;if(B&&(el(I,T).flags|=256),T=Sg(I,T,!1),T!==2){if(pg&&!B){I.errorRecoveryDisabledLanes|=y,Ba|=y,p=4;break e}y=Pn,Pn=p,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){el(r,0),Ts(r,s,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ts(u,s,ai,!vs);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=vg+300-dn(),10<p)){if(Ts(u,s,ai,!vs),yo(u,0,!0)!==0)break e;u.timeoutHandle=HT(pT.bind(null,u,o,Pn,xh,yg,s,ai,Ba,Qo,vs,y,2,-0,0),p);break e}pT(u,o,Pn,xh,yg,s,ai,Ba,Qo,vs,y,0,-0,0)}}break}while(!0);Ki(r)}function pT(r,s,o,u,p,y,T,I,B,Q,se,le,Z,J){if(r.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:VM},lT(s),le=UM(),le!==null)){r.cancelPendingCommit=le(TT.bind(null,r,s,y,o,u,p,T,I,B,se,1,Z,J)),Ts(r,y,T,!Q);return}TT(r,s,y,o,u,p,T,I,B)}function tM(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!jn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(r,s,o,u){s&=~gg,s&=~Ba,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var y=31-mn(p),T=1<<y;u[y]=-1,p&=~T}o!==0&&Ni(r,o,s)}function Rh(){return(it&6)===0?(nu(0),!1):!0}function Tg(){if(ze!==null){if(rt===0)var r=ze.return;else r=ze,Ir=Oa=null,jp(r),$o=null,$c=0,r=ze;for(;r!==null;)YE(r.alternate,r),r=r.return;ze=null}}function el(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,_M(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Tg(),ft=r,ze=o=xr(r.current,null),We=s,rt=0,Hn=null,vs=!1,Xo=ha(r,s),pg=!1,Qo=ai=gg=Ba=_s=wt=0,Pn=eu=null,yg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-mn(u),y=1<<p;s|=r[p],u&=~y}return Lr=s,Wf(),o}function gT(r,s){Le=null,K.H=mh,s===Lc||s===rh?(s=Mb(),rt=3):s===Db?(s=Mb(),rt=4):rt=s===OE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,ze===null&&(wt=1,_h(r,ti(s,r.current)))}function yT(){var r=K.H;return K.H=mh,r===null?mh:r}function vT(){var r=K.A;return K.A=JN,r}function wg(){wt=4,vs||(We&4194048)!==We&&si.current!==null||(Xo=!0),(_s&134217727)===0&&(Ba&134217727)===0||ft===null||Ts(ft,We,ai,!1)}function Sg(r,s,o){var u=it;it|=2;var p=yT(),y=vT();(ft!==r||We!==s)&&(xh=null,el(r,s)),s=!1;var T=wt;e:do try{if(rt!==0&&ze!==null){var I=ze,B=Hn;switch(rt){case 8:Tg(),T=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(s=!0);var Q=rt;if(rt=0,Hn=null,tl(r,I,B,Q),o&&Xo){T=0;break e}break;default:Q=rt,rt=0,Hn=null,tl(r,I,B,Q)}}nM(),T=wt;break}catch(se){gT(r,se)}while(!0);return s&&r.shellSuspendCounter++,Ir=Oa=null,it=u,K.H=p,K.A=y,ze===null&&(ft=null,We=0,Wf()),T}function nM(){for(;ze!==null;)_T(ze)}function iM(r,s){var o=it;it|=2;var u=yT(),p=vT();ft!==r||We!==s?(xh=null,Ah=dn()+500,el(r,s)):Xo=ha(r,s);e:do try{if(rt!==0&&ze!==null){s=ze;var y=Hn;t:switch(rt){case 1:rt=0,Hn=null,tl(r,s,y,1);break;case 2:case 9:if(Pb(y)){rt=0,Hn=null,bT(s);break}s=function(){rt!==2&&rt!==9||ft!==r||(rt=7),Ki(r)},y.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Pb(y)?(rt=0,Hn=null,bT(s)):(rt=0,Hn=null,tl(r,s,y,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var I=ze;if(!T||tw(T)){rt=0,Hn=null;var B=I.sibling;if(B!==null)ze=B;else{var Q=I.return;Q!==null?(ze=Q,Ch(Q)):ze=null}break t}}rt=0,Hn=null,tl(r,s,y,5);break;case 6:rt=0,Hn=null,tl(r,s,y,6);break;case 8:Tg(),wt=6;break e;default:throw Error(i(462))}}rM();break}catch(se){gT(r,se)}while(!0);return Ir=Oa=null,K.H=u,K.A=p,it=o,ze!==null?0:(ft=null,We=0,Wf(),wt)}function rM(){for(;ze!==null&&!dr();)_T(ze)}function _T(r){var s=$E(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,s===null?Ch(r):ze=s}function bT(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=BE(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=BE(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:jp(s);default:YE(o,s),s=ze=Eb(s,Lr),s=$E(o,s,Lr)}r.memoizedProps=r.pendingProps,s===null?Ch(r):ze=s}function tl(r,s,o,u){Ir=Oa=null,jp(s),$o=null,$c=0;var p=s.return;try{if(KN(r,p,s,o,We)){wt=1,_h(r,ti(o,r.current)),ze=null;return}}catch(y){if(p!==null)throw ze=p,y;wt=1,_h(r,ti(o,r.current)),ze=null;return}s.flags&32768?(Je||u===1?r=!0:Xo||(We&536870912)!==0?r=!1:(vs=r=!0,(u===2||u===9||u===3||u===6)&&(u=si.current,u!==null&&u.tag===13&&(u.flags|=16384))),ET(s,r)):Ch(s)}function Ch(r){var s=r;do{if((s.flags&32768)!==0){ET(s,vs);return}r=s.return;var o=WN(s.alternate,s,Lr);if(o!==null){ze=o;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=r}while(s!==null);wt===0&&(wt=5)}function ET(r,s){do{var o=XN(r.alternate,r);if(o!==null){o.flags&=32767,ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ze=r;return}ze=r=o}while(r!==null);wt=6,ze=null}function TT(r,s,o,u,p,y,T,I,B){r.cancelPendingCommit=null;do Ih();while(an!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=mp,hc(r,o,y,T,I,B),r===ft&&(ze=ft=null,We=0),Zo=s,Es=r,Jo=o,_g=y,bg=p,hT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lM(la,function(){return RT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,p=re.p,re.p=2,T=it,it|=4;try{QN(r,s,o)}finally{it=T,re.p=p,K.T=u}}an=1,wT(),ST(),AT()}}function wT(){if(an===1){an=0;var r=Es,s=Zo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=re.p;re.p=2;var p=it;it|=4;try{sT(s,r);var y=Vg,T=fb(r.containerInfo),I=y.focusedElem,B=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&ub(I.ownerDocument.documentElement,I)){if(B!==null&&cp(I)){var Q=B.start,se=B.end;if(se===void 0&&(se=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(se,I.value.length);else{var le=I.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Pe=I.textContent.length,Re=Math.min(B.start,Pe),lt=B.end===void 0?Re:Math.min(B.end,Pe);!J.extend&&Re>lt&&(T=lt,lt=Re,Re=T);var G=cb(I,Re),H=cb(I,lt);if(G&&H&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var W=le.createRange();W.setStart(G.node,G.offset),J.removeAllRanges(),Re>lt?(J.addRange(W),J.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),J.addRange(W))}}}}for(le=[],J=I;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<le.length;I++){var oe=le[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}zh=!!kg,Vg=kg=null}finally{it=p,re.p=u,K.T=o}}r.current=s,an=2}}function ST(){if(an===2){an=0;var r=Es,s=Zo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=re.p;re.p=2;var p=it;it|=4;try{tT(r,s.alternate,s)}finally{it=p,re.p=u,K.T=o}}an=3}}function AT(){if(an===4||an===3){an=0,es();var r=Es,s=Zo,o=Jo,u=hT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,Zo=Es=null,xT(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(bs=null),vo(o),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,p=re.p,re.p=2,K.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];y(I.value,{componentStack:I.stack})}}finally{K.T=s,re.p=p}}(Jo&3)!==0&&Ih(),Ki(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===Eg?tu++:(tu=0,Eg=r):tu=0,nu(0)}}function xT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,kc(s)))}function Ih(r){return wT(),ST(),AT(),RT()}function RT(){if(an!==5)return!1;var r=Es,s=_g;_g=0;var o=vo(Jo),u=K.T,p=re.p;try{re.p=32>o?32:o,K.T=null,o=bg,bg=null;var y=Es,T=Jo;if(an=0,Zo=Es=null,Jo=0,(it&6)!==0)throw Error(i(331));var I=it;if(it|=4,uT(y.current),oT(y,y.current,T,o),it=I,nu(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Et,y)}catch{}return!0}finally{re.p=p,K.T=u,xT(r,s)}}function CT(r,s,o){s=ti(o,s),s=Jp(r.stateNode,s,2),r=fs(r,s,2),r!==null&&(pr(r,2),Ki(r))}function ct(r,s,o){if(r.tag===3)CT(r,r,o);else for(;s!==null;){if(s.tag===3){CT(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bs===null||!bs.has(u))){r=ti(o,r),o=NE(2),u=fs(s,o,2),u!==null&&(ME(o,u,s,r),pr(u,2),Ki(u));break}}s=s.return}}function Ag(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new eM;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(pg=!0,p.add(o),r=sM.bind(null,r,s,o),s.then(r,r))}function sM(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ft===r&&(We&o)===o&&(wt===4||wt===3&&(We&62914560)===We&&300>dn()-vg?(it&2)===0&&el(r,0):gg|=o,Qo===We&&(Qo=0)),Ki(r)}function IT(r,s){s===0&&(s=fc()),r=Vo(r,s),r!==null&&(pr(r,s),Ki(r))}function aM(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),IT(r,o)}function oM(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),IT(r,o)}function lM(r,s){return Pt(r,s)}var Dh=null,nl=null,xg=!1,Ph=!1,Rg=!1,za=0;function Ki(r){r!==nl&&r.next===null&&(nl===null?Dh=nl=r:nl=nl.next=r),Ph=!0,xg||(xg=!0,uM())}function nu(r,s){if(!Rg&&Ph){Rg=!0;do for(var o=!1,u=Dh;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-mn(42|r)+1)-1,y&=p&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,MT(u,y))}else y=We,y=yo(u,u===ft?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ha(u,y)||(o=!0,MT(u,y));u=u.next}while(o);Rg=!1}}function cM(){DT()}function DT(){Ph=xg=!1;var r=0;za!==0&&(vM()&&(r=za),za=0);for(var s=dn(),o=null,u=Dh;u!==null;){var p=u.next,y=PT(u,s);y===0?(u.next=null,o===null?Dh=p:o.next=p,p===null&&(nl=o)):(o=u,(r!==0||(y&3)!==0)&&(Ph=!0)),u=p}nu(r)}function PT(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-mn(y),I=1<<T,B=p[T];B===-1?((I&o)===0||(I&u)!==0)&&(p[T]=cc(I,s)):B<=s&&(r.expiredLanes|=I),y&=~I}if(s=ft,o=We,o=yo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ha(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&wn(u),vo(o)){case 2:case 8:o=po;break;case 32:o=la;break;case 268435456:o=go;break;default:o=la}return u=NT.bind(null,r),o=Pt(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&wn(u),r.callbackPriority=2,r.callbackNode=null,2}function NT(r,s){if(an!==0&&an!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ih()&&r.callbackNode!==o)return null;var u=We;return u=yo(r,r===ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(mT(r,u,s),PT(r,dn()),r.callbackNode!=null&&r.callbackNode===o?NT.bind(null,r):null)}function MT(r,s){if(Ih())return null;mT(r,s,!0)}function uM(){bM(function(){(it&6)!==0?Pt(oc,cM):DT()})}function Cg(){return za===0&&(za=uc()),za}function OT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:So(""+r)}function kT(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function fM(r,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=OT((p[Nt]||null).action),T=u.submitter;T&&(s=(s=T[Nt]||null)?OT(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var I=new Ao("action","action",null,u,p);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(za!==0){var B=T?kT(p,T):new FormData(p);Yp(o,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(I.preventDefault(),B=T?kT(p,T):new FormData(p),Yp(o,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var Ig=0;Ig<dp.length;Ig++){var Dg=dp[Ig],hM=Dg.toLowerCase(),dM=Dg[0].toUpperCase()+Dg.slice(1);yi(hM,"on"+dM)}yi(mb,"onAnimationEnd"),yi(pb,"onAnimationIteration"),yi(gb,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(DN,"onTransitionRun"),yi(PN,"onTransitionStart"),yi(NN,"onTransitionCancel"),yi(yb,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function VT(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var I=u[T],B=I.instance,Q=I.currentTarget;if(I=I.listener,B!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=Q;try{y(p)}catch(se){vh(se)}p.currentTarget=null,y=B}else for(T=0;T<u.length;T++){if(I=u[T],B=I.instance,Q=I.currentTarget,I=I.listener,B!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=Q;try{y(p)}catch(se){vh(se)}p.currentTarget=null,y=B}}}}function Fe(r,s){var o=s[mc];o===void 0&&(o=s[mc]=new Set);var u=r+"__bubble";o.has(u)||(LT(s,r,2,!1),o.add(u))}function Pg(r,s,o){var u=0;s&&(u|=4),LT(o,r,u,s)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function Ng(r){if(!r[Nh]){r[Nh]=!0,pc.forEach(function(o){o!=="selectionchange"&&(mM.has(o)||Pg(o,!1,r),Pg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Nh]||(s[Nh]=!0,Pg("selectionchange",!1,s))}}function LT(r,s,o,u){switch(ow(s)){case 2:var p=zM;break;case 8:p=FM;break;default:p=$g}o=p.bind(null,s,o,r),p=void 0,!Jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Mg(r,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===p)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;I!==null;){if(T=gr(I),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=y=T;continue e}I=I.parentNode}}u=u.return}Of(function(){var Q=y,se=Zn(o),le=[];e:{var Z=vb.get(r);if(Z!==void 0){var J=Ao,Pe=r;switch(r){case"keypress":if(Ui(o)===0)break e;case"keydown":case"keyup":J=Po;break;case"focusin":Pe="focus",J=Co;break;case"focusout":Pe="blur",J=Co;break;case"beforeblur":case"afterblur":J=Co;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ff;break;case mb:case pb:case gb:J=Io;break;case yb:J=qf;break;case"scroll":case"scrollend":J=kf;break;case"wheel":J=No;break;case"copy":case"cut":case"paste":J=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Rc;break;case"toggle":case"beforetoggle":J=$f}var Re=(s&4)!==0,lt=!Re&&(r==="scroll"||r==="scrollend"),G=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var H=Q,W;H!==null;){var oe=H;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||G===null||(oe=ba(H,G),oe!=null&&Re.push(ru(H,oe,W))),lt)break;H=H.return}0<Re.length&&(Z=new J(Z,Pe,null,o,se),le.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&o!==br&&(Pe=o.relatedTarget||o.fromElement)&&(gr(Pe)||Pe[Xn]))break e;if((J||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Pe=o.relatedTarget||o.toElement,J=Q,Pe=Pe?gr(Pe):null,Pe!==null&&(lt=l(Pe),Re=Pe.tag,Pe!==lt||Re!==5&&Re!==27&&Re!==6)&&(Pe=null)):(J=null,Pe=Q),J!==Pe)){if(Re=ei,oe="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Rc,oe="onPointerLeave",G="onPointerEnter",H="pointer"),lt=J==null?Z:Oi(J),W=Pe==null?Z:Oi(Pe),Z=new Re(oe,H+"leave",J,o,se),Z.target=lt,Z.relatedTarget=W,oe=null,gr(se)===Q&&(Re=new Re(G,H+"enter",Pe,o,se),Re.target=W,Re.relatedTarget=lt,oe=Re),lt=oe,J&&Pe)t:{for(Re=J,G=Pe,H=0,W=Re;W;W=il(W))H++;for(W=0,oe=G;oe;oe=il(oe))W++;for(;0<H-W;)Re=il(Re),H--;for(;0<W-H;)G=il(G),W--;for(;H--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=il(Re),G=il(G)}Re=null}else Re=null;J!==null&&UT(le,Z,J,Re,!1),Pe!==null&&lt!==null&&UT(le,lt,Pe,Re,!0)}}e:{if(Z=Q?Oi(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ye=ib;else if(Ht(Z))if(rb)ye=RN;else{ye=AN;var Be=SN}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&bc(Q.elementType)&&(ye=ib):ye=xN;if(ye&&(ye=ye(r,Q))){Ar(le,ye,o,se);break e}Be&&Be(r,Z,Q),r==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&as(Z,"number",Z.value)}switch(Be=Q?Oi(Q):window,r){case"focusin":(Ht(Be)||Be.contentEditable==="true")&&(Mo=Be,up=Q,Dc=null);break;case"focusout":Dc=up=Mo=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,hb(le,o,se);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":hb(le,o,se)}var Se;if(zi)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?ne(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&o.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Se=Tc()):(Li=se,os="value"in Li?Li.value:Li.textContent,Ke=!0)),Be=Mh(Q,Ce),0<Be.length&&(Ce=new Ac(Ce,r,null,o,se),le.push({event:Ce,listeners:Be}),Se?Ce.data=Se:(Se=de(o),Se!==null&&(Ce.data=Se)))),(Se=_?Ft(r,o):Ye(r,o))&&(Ce=Mh(Q,"onBeforeInput"),0<Ce.length&&(Be=new Ac("onBeforeInput","beforeinput",null,o,se),le.push({event:Be,listeners:Ce}),Be.data=Se)),fM(le,r,Q,o,se)}VT(le,s)})}function ru(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Mh(r,s){for(var o=s+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ba(r,o),p!=null&&u.unshift(ru(r,p,y)),p=ba(r,s),p!=null&&u.push(ru(r,p,y))),r.tag===3)return u;r=r.return}return[]}function il(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function UT(r,s,o,u,p){for(var y=s._reactName,T=[];o!==null&&o!==u;){var I=o,B=I.alternate,Q=I.stateNode;if(I=I.tag,B!==null&&B===u)break;I!==5&&I!==26&&I!==27||Q===null||(B=Q,p?(Q=ba(o,y),Q!=null&&T.unshift(ru(o,Q,B))):p||(Q=ba(o,y),Q!=null&&T.push(ru(o,Q,B)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var pM=/\r\n?/g,gM=/\u0000|\uFFFD/g;function jT(r){return(typeof r=="string"?r:""+r).replace(pM,`
`).replace(gM,"")}function BT(r,s){return s=jT(s),jT(r)===s}function Oh(){}function ot(r,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(r,""+u);break;case"className":ki(r,"class",u);break;case"tabIndex":ki(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(r,o,u);break;case"style":_c(r,u,y);break;case"data":if(s!=="object"){ki(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=So(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ot(r,s,"name",p.name,p,null),ot(r,s,"formEncType",p.formEncType,p,null),ot(r,s,"formMethod",p.formMethod,p,null),ot(r,s,"formTarget",p.formTarget,p,null)):(ot(r,s,"encType",p.encType,p,null),ot(r,s,"method",p.method,p,null),ot(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=So(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Oh);break;case"onScroll":u!=null&&Fe("scroll",r);break;case"onScrollEnd":u!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=So(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),ss(r,"popover",u);break;case"xlinkActuate":nn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ss(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ip.get(o)||o,ss(r,o,u))}}function Og(r,s,o,u,p,y){switch(o){case"style":_c(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&Qn(r,""+u);break;case"onScroll":u!=null&&Fe("scroll",r);break;case"onScrollEnd":u!=null&&Fe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[Nt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,p);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ss(r,o,u)}}}function on(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(r,s,y,T,o,null)}}p&&ot(r,s,"srcSet",o.srcSet,o,null),u&&ot(r,s,"src",o.src,o,null);return;case"input":Fe("invalid",r);var I=y=T=p=null,B=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":p=se;break;case"type":T=se;break;case"checked":B=se;break;case"defaultChecked":Q=se;break;case"value":y=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:ot(r,s,u,se,o,null)}}ya(r,y,I,B,Q,T,p,!1),wo(r);return;case"select":Fe("invalid",r),u=T=y=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:ot(r,s,p,I,o,null)}s=y,o=T,r.multiple=!!u,s!=null?_r(r,!!u,s,!1):o!=null&&_r(r,!!u,o,!0);return;case"textarea":Fe("invalid",r),y=p=u=null;for(T in o)if(o.hasOwnProperty(T)&&(I=o[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":p=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ot(r,s,T,I,o,null)}va(r,u,p,y),wo(r);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(r,s,B,u,o,null)}return;case"dialog":Fe("beforetoggle",r),Fe("toggle",r),Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(u=0;u<iu.length;u++)Fe(iu[u],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(r,s,Q,u,o,null)}return;default:if(bc(s)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&Og(r,s,se,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&ot(r,s,I,u,o,null))}function yM(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,I=null,B=null,Q=null,se=null;for(J in o){var le=o[J];if(o.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=le;default:u.hasOwnProperty(J)||ot(r,s,J,null,u,le)}}for(var Z in u){var J=u[Z];if(le=o[Z],u.hasOwnProperty(Z)&&(J!=null||le!=null))switch(Z){case"type":y=J;break;case"name":p=J;break;case"checked":Q=J;break;case"defaultChecked":se=J;break;case"value":T=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==le&&ot(r,s,Z,J,u,le)}}Un(r,T,I,B,Q,se,y,p);return;case"select":J=T=I=Z=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":J=B;default:u.hasOwnProperty(y)||ot(r,s,y,null,u,B)}for(p in u)if(y=u[p],B=o[p],u.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":Z=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==B&&ot(r,s,p,y,u,B)}s=I,o=T,u=J,Z!=null?_r(r,!!o,Z,!1):!!u!=!!o&&(s!=null?_r(r,!!o,s,!0):_r(r,!!o,o?[]:"",!1));return;case"textarea":J=Z=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ot(r,s,I,null,u,p)}for(T in u)if(p=u[T],y=o[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":Z=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ot(r,s,T,p,u,y)}st(r,Z,J);return;case"option":for(var Pe in o)if(Z=o[Pe],o.hasOwnProperty(Pe)&&Z!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":r.selected=!1;break;default:ot(r,s,Pe,null,u,Z)}for(B in u)if(Z=u[B],J=o[B],u.hasOwnProperty(B)&&Z!==J&&(Z!=null||J!=null))switch(B){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ot(r,s,B,Z,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Z=o[Re],o.hasOwnProperty(Re)&&Z!=null&&!u.hasOwnProperty(Re)&&ot(r,s,Re,null,u,Z);for(Q in u)if(Z=u[Q],J=o[Q],u.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:ot(r,s,Q,Z,u,J)}return;default:if(bc(s)){for(var lt in o)Z=o[lt],o.hasOwnProperty(lt)&&Z!==void 0&&!u.hasOwnProperty(lt)&&Og(r,s,lt,void 0,u,Z);for(se in u)Z=u[se],J=o[se],!u.hasOwnProperty(se)||Z===J||Z===void 0&&J===void 0||Og(r,s,se,Z,u,J);return}}for(var G in o)Z=o[G],o.hasOwnProperty(G)&&Z!=null&&!u.hasOwnProperty(G)&&ot(r,s,G,null,u,Z);for(le in u)Z=u[le],J=o[le],!u.hasOwnProperty(le)||Z===J||Z==null&&J==null||ot(r,s,le,Z,u,J)}var kg=null,Vg=null;function kh(r){return r.nodeType===9?r:r.ownerDocument}function zT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FT(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=null;function vM(){var r=window.event;return r&&r.type==="popstate"?r===Ug?!1:(Ug=r,!0):(Ug=null,!1)}var HT=typeof setTimeout=="function"?setTimeout:void 0,_M=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,bM=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(r){return qT.resolve(null).then(r).catch(EM)}:HT;function EM(r){setTimeout(function(){throw r})}function ws(r){return r==="head"}function GT(r,s){var o=s,u=0,p=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&su(T.documentElement),o&2&&su(T.body),o&4)for(o=T.head,su(o),T=o.firstChild;T;){var I=T.nextSibling,B=T.nodeName;T[da]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=I}}if(p===0){r.removeChild(y),du(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);du(s)}function jg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jg(o),rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function TM(r,s,o,u){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[da])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=_i(r.nextSibling),r===null)break}return null}function wM(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=_i(r.nextSibling),r===null))return null;return r}function Bg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function SM(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function _i(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var zg=null;function $T(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function KT(r,s,o){switch(s=kh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function su(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);rs(r)}var oi=new Map,YT=new Set;function Vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ur=re.d;re.d={f:AM,r:xM,D:RM,C:CM,L:IM,m:DM,X:NM,S:PM,M:MM};function AM(){var r=Ur.f(),s=Rh();return r||s}function xM(r){var s=Mi(r);s!==null&&s.tag===5&&s.type==="form"?mE(s):Ur.r(r)}var rl=typeof document>"u"?null:document;function WT(r,s,o){var u=rl;if(u&&typeof s=="string"&&s){var p=Mt(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),YT.has(p)||(YT.add(p),r={rel:r,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),on(s,"link",r),At(s),u.head.appendChild(s)))}}function RM(r){Ur.D(r),WT("dns-prefetch",r,null)}function CM(r,s){Ur.C(r,s),WT("preconnect",r,s)}function IM(r,s,o){Ur.L(r,s,o);var u=rl;if(u&&r&&s){var p='link[rel="preload"][as="'+Mt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Mt(o.imageSizes)+'"]')):p+='[href="'+Mt(r)+'"]';var y=p;switch(s){case"style":y=sl(r);break;case"script":y=al(r)}oi.has(y)||(r=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),oi.set(y,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(au(y))||s==="script"&&u.querySelector(ou(y))||(s=u.createElement("link"),on(s,"link",r),At(s),u.head.appendChild(s)))}}function DM(r,s){Ur.m(r,s);var o=rl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=al(r)}if(!oi.has(y)&&(r=g({rel:"modulepreload",href:r},s),oi.set(y,r),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(y)))return}u=o.createElement("link"),on(u,"link",r),At(u),o.head.appendChild(u)}}}function PM(r,s,o){Ur.S(r,s,o);var u=rl;if(u&&r){var p=Sn(u).hoistableStyles,y=sl(r);s=s||"default";var T=p.get(y);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(au(y)))I.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},o),(o=oi.get(y))&&Fg(r,o);var B=T=u.createElement("link");At(B),on(B,"link",r),B._p=new Promise(function(Q,se){B.onload=Q,B.onerror=se}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Lh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:I},p.set(y,T)}}}function NM(r,s){Ur.X(r,s);var o=rl;if(o&&r){var u=Sn(o).hoistableScripts,p=al(r),y=u.get(p);y||(y=o.querySelector(ou(p)),y||(r=g({src:r,async:!0},s),(s=oi.get(p))&&Hg(r,s),y=o.createElement("script"),At(y),on(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function MM(r,s){Ur.M(r,s);var o=rl;if(o&&r){var u=Sn(o).hoistableScripts,p=al(r),y=u.get(p);y||(y=o.querySelector(ou(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=oi.get(p))&&Hg(r,s),y=o.createElement("script"),At(y),on(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function XT(r,s,o,u){var p=(p=ge.current)?Vh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=sl(o.href),o=Sn(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=sl(o.href);var y=Sn(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(au(r)))&&!y._p&&(T.instance=y,T.state.loading=5),oi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(r,o),y||OM(p,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=al(o),o=Sn(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function sl(r){return'href="'+Mt(r)+'"'}function au(r){return'link[rel="stylesheet"]['+r+"]"}function QT(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function OM(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),on(s,"link",o),At(s),r.head.appendChild(s))}function al(r){return'[src="'+Mt(r)+'"]'}function ou(r){return"script[async]"+r}function ZT(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(u)return s.instance=u,At(u),u;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),At(u),on(u,"style",p),Lh(u,o.precedence,r),s.instance=u;case"stylesheet":p=sl(o.href);var y=r.querySelector(au(p));if(y)return s.state.loading|=4,s.instance=y,At(y),y;u=QT(o),(p=oi.get(p))&&Fg(u,p),y=(r.ownerDocument||r).createElement("link"),At(y);var T=y;return T._p=new Promise(function(I,B){T.onload=I,T.onerror=B}),on(y,"link",u),s.state.loading|=4,Lh(y,o.precedence,r),s.instance=y;case"script":return y=al(o.src),(p=r.querySelector(ou(y)))?(s.instance=p,At(p),p):(u=o,(p=oi.get(y))&&(u=g({},o),Hg(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),At(p),on(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Lh(u,o.precedence,r));return s.instance}function Lh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===s)y=I;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Fg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Hg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uh=null;function JT(r,s,o){if(Uh===null){var u=new Map,p=Uh=new Map;p.set(o,u)}else p=Uh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[da]||y[zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var I=u.get(T);I?I.push(y):u.set(T,[y])}}return u}function ew(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function kM(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var lu=null;function VM(){}function LM(r,s,o){if(lu===null)throw Error(i(475));var u=lu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=sl(o.href),y=r.querySelector(au(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=jh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=y,At(y);return}y=r.ownerDocument||r,o=QT(o),(p=oi.get(p))&&Fg(o,p),y=y.createElement("link"),At(y);var T=y;T._p=new Promise(function(I,B){T.onload=I,T.onerror=B}),on(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=jh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function UM(){if(lu===null)throw Error(i(475));var r=lu;return r.stylesheets&&r.count===0&&qg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&qg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)qg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bh=null;function qg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bh=new Map,s.forEach(jM,r),Bh=null,jh.call(r))}function jM(r,s){if(!(s.state.loading&4)){var o=Bh.get(r);if(o)var u=o.get(null);else{o=new Map,Bh.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,p),o.set(T,p),this.count++,u=jh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var cu={$$typeof:V,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function BM(r,s,o,u,p,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function nw(r,s,o,u,p,y,T,I,B,Q,se,le){return r=new BM(r,s,o,T,I,B,Q,le),s=1,y===!0&&(s|=24),y=Bn(3,null,null,s),r.current=y,y.stateNode=r,s=Ap(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Ip(y),r}function iw(r){return r?(r=Lo,r):Lo}function rw(r,s,o,u,p,y){p=iw(p),u.context===null?u.context=p:u.pendingContext=p,u=us(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=fs(r,u,s),o!==null&&(Gn(o,r,s),jc(o,r,s))}function sw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Gg(r,s){sw(r,s),(r=r.alternate)&&sw(r,s)}function aw(r){if(r.tag===13){var s=Vo(r,67108864);s!==null&&Gn(s,r,67108864),Gg(r,67108864)}}var zh=!0;function zM(r,s,o,u){var p=K.T;K.T=null;var y=re.p;try{re.p=2,$g(r,s,o,u)}finally{re.p=y,K.T=p}}function FM(r,s,o,u){var p=K.T;K.T=null;var y=re.p;try{re.p=8,$g(r,s,o,u)}finally{re.p=y,K.T=p}}function $g(r,s,o,u){if(zh){var p=Kg(u);if(p===null)Mg(r,s,u,Fh,o),lw(r,u);else if(qM(p,r,s,o,u))u.stopPropagation();else if(lw(r,u),s&4&&-1<HM.indexOf(r)){for(;p!==null;){var y=Mi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=mi(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var B=1<<31-mn(T);I.entanglements[1]|=B,T&=~B}Ki(y),(it&6)===0&&(Ah=dn()+500,nu(0))}}break;case 13:I=Vo(y,2),I!==null&&Gn(I,y,2),Rh(),Gg(y,2)}if(y=Kg(u),y===null&&Mg(r,s,u,Fh,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Mg(r,s,u,null,o)}}function Kg(r){return r=Zn(r),Yg(r)}var Fh=null;function Yg(r){if(Fh=null,r=gr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Fh=r,null}function ow(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qm()){case oc:return 2;case po:return 8;case la:case Zm:return 32;case go:return 268435456;default:return 32}default:return 32}}var Wg=!1,Ss=null,As=null,xs=null,uu=new Map,fu=new Map,Rs=[],HM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(r,s){switch(r){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function hu(r,s,o,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Mi(s),s!==null&&aw(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function qM(r,s,o,u,p){switch(s){case"focusin":return Ss=hu(Ss,r,s,o,u,p),!0;case"dragenter":return As=hu(As,r,s,o,u,p),!0;case"mouseover":return xs=hu(xs,r,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return uu.set(y,hu(uu.get(y)||null,r,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,fu.set(y,hu(fu.get(y)||null,r,s,o,u,p)),!0}return!1}function cw(r){var s=gr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Rf(r.priority,function(){if(o.tag===13){var u=qn();u=ts(u);var p=Vo(o,u);p!==null&&Gn(p,o,u),Gg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Kg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);br=u,o.target.dispatchEvent(u),br=null}else return s=Mi(o),s!==null&&aw(s),r.blockedOn=o,!1;s.shift()}return!0}function uw(r,s,o){Hh(r)&&o.delete(s)}function GM(){Wg=!1,Ss!==null&&Hh(Ss)&&(Ss=null),As!==null&&Hh(As)&&(As=null),xs!==null&&Hh(xs)&&(xs=null),uu.forEach(uw),fu.forEach(uw)}function qh(r,s){r.blockedOn===s&&(r.blockedOn=null,Wg||(Wg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GM)))}var Gh=null;function fw(r){Gh!==r&&(Gh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gh===r&&(Gh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Yg(u||o)===null)continue;break}var y=Mi(o);y!==null&&(r.splice(s,3),s-=3,Yp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function du(r){function s(B){return qh(B,r)}Ss!==null&&qh(Ss,r),As!==null&&qh(As,r),xs!==null&&qh(xs,r),uu.forEach(s),fu.forEach(s);for(var o=0;o<Rs.length;o++){var u=Rs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)cw(o),o.blockedOn===null&&Rs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],T=p[Nt]||null;if(typeof y=="function")T||fw(o);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Nt]||null)I=T.formAction;else if(Yg(p)!==null)continue}else I=T.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),fw(o)}}}function Xg(r){this._internalRoot=r}$h.prototype.render=Xg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=qn();rw(o,u,r,s,null,null)},$h.prototype.unmount=Xg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;rw(r.current,2,null,r,null,null),Rh(),s[Xn]=null}};function $h(r){this._internalRoot=r}$h.prototype.unstable_scheduleHydration=function(r){if(r){var s=ns();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Rs.length&&s!==0&&s<Rs[o].priority;o++);Rs.splice(o,0,r),o===0&&cw(r)}};var hw=e.version;if(hw!=="19.1.1")throw Error(i(527,hw,"19.1.1"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var $M={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Et=Kh.inject($M),nt=Kh}catch{}}return pu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",p=CE,y=IE,T=DE,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=nw(r,1,!1,null,null,o,u,p,y,T,I,null),r[Xn]=s.current,Ng(r),new Xg(s)},pu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,p="",y=CE,T=IE,I=DE,B=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=nw(r,1,!0,s,o??null,u,p,y,T,I,B,Q),s.context=iw(null),o=s.current,u=qn(),u=ts(u),p=us(u),p.callback=null,fs(o,p,u),o=u,s.current.lanes=o,pr(s,o),Ki(s),r[Xn]=s.current,Ng(r),new $h(s)},pu.version="19.1.1",pu}var Tw;function nO(){if(Tw)return Jg.exports;Tw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=tO(),Jg.exports}var iO=nO();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ww="popstate";function rO(t={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return Xy("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:zu(a)}return aO(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sO(){return Math.random().toString(36).substring(2,10)}function Sw(t,e){return{usr:t.state,key:t.key,idx:e}}function Xy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:n,key:e&&e.key||i||sO()}}function zu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aO(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let A=g(),O=A==null?null:A-m;m=A,d&&d({action:f,location:R.location,delta:O})}function b(A,O){f="PUSH";let N=Xy(R.location,A,O);m=g()+1;let V=Sw(N,m),$=R.createHref(N);try{c.pushState(V,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign($)}l&&d&&d({action:f,location:R.location,delta:1})}function S(A,O){f="REPLACE";let N=Xy(R.location,A,O);m=g();let V=Sw(N,m),$=R.createHref(N);c.replaceState(V,"",$),l&&d&&d({action:f,location:R.location,delta:0})}function C(A){return oO(A)}let R={get action(){return f},get location(){return t(a,c)},listen(A){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ww,v),d=A,()=>{a.removeEventListener(ww,v),d=null}},createHref(A){return e(a,A)},createURL:C,encodeLocation(A){let O=C(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:S,go(A){return c.go(A)}};return R}function oO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:zu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function dR(t,e,n="/"){return lO(t,e,n,!1)}function lO(t,e,n,i){let a=typeof e=="string"?Fl(e):e,l=qr(a.pathname||"/",n);if(l==null)return null;let c=mR(t);cO(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let m=bO(l);f=vO(c[d],m,i)}return f}function mR(t,e=[],n=[],i="",a=!1){let l=(c,f,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;yt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Hr([i,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mR(c.children,e,b,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:gO(v,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let d of pR(c.path))l(c,f,!0,d)}),e}function pR(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=pR(i.join("/")),f=[];return f.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...c),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function cO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uO=/^:[\w-]+$/,fO=3,hO=2,dO=1,mO=10,pO=-2,Aw=t=>t==="*";function gO(t,e){let n=t.split("/"),i=n.length;return n.some(Aw)&&(i+=pO),e&&(i+=hO),n.filter(a=>!Aw(a)).reduce((a,l)=>a+(uO.test(l)?fO:l===""?dO:mO),i)}function yO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function vO(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Nd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),b=d.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=Nd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Hr([l,v.pathname]),pathnameBase:SO(Hr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Hr([l,v.pathnameBase]))}return c}function Nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_O(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let C=f[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[b];return v&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function _O(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function bO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function EO(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Fl(t):t;return{pathname:n?n.startsWith("/")?n:TO(n,e):e,search:AO(i),hash:xO(a)}}function TO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c0(t){let e=wO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function u0(t,e,n,i=!1){let a;typeof t=="string"?a=Fl(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}f=v>=0?e[v]:"/"}let d=EO(a,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Hr=t=>t.join("/").replace(/\/\/+/g,"/"),SO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gR=["POST","PUT","PATCH","DELETE"];new Set(gR);var CO=["GET",...gR];new Set(CO);var Hl=w.createContext(null);Hl.displayName="DataRouter";var um=w.createContext(null);um.displayName="DataRouterState";w.createContext(!1);var yR=w.createContext({isTransitioning:!1});yR.displayName="ViewTransition";var IO=w.createContext(new Map);IO.displayName="Fetchers";var DO=w.createContext(null);DO.displayName="Await";var Di=w.createContext(null);Di.displayName="Navigation";var lf=w.createContext(null);lf.displayName="Location";var fr=w.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var f0=w.createContext(null);f0.displayName="RouteError";function PO(t,{relative:e}={}){yt(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=w.useContext(Di),{hash:a,pathname:l,search:c}=cf(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Hr([n,l])),i.createHref({pathname:f,search:c,hash:a})}function ql(){return w.useContext(lf)!=null}function Jr(){return yt(ql(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(lf).location}var vR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _R(t){w.useContext(Di).static||w.useLayoutEffect(t)}function fm(){let{isDataRoute:t}=w.useContext(fr);return t?qO():NO()}function NO(){yt(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Hl),{basename:e,navigator:n}=w.useContext(Di),{matches:i}=w.useContext(fr),{pathname:a}=Jr(),l=JSON.stringify(c0(i)),c=w.useRef(!1);return _R(()=>{c.current=!0}),w.useCallback((d,m={})=>{if(Ai(c.current,vR),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=u0(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Hr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}w.createContext(null);function cf(t,{relative:e}={}){let{matches:n}=w.useContext(fr),{pathname:i}=Jr(),a=JSON.stringify(c0(n));return w.useMemo(()=>u0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function MO(t,e){return bR(t,e)}function bR(t,e,n,i,a){yt(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(Di),{matches:c}=w.useContext(fr),f=c[c.length-1],d=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let N=v&&v.path||"";ER(m,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Jr(),S;if(e){let N=typeof e=="string"?Fl(e):e;yt(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=b;let C=S.pathname||"/",R=C;if(g!=="/"){let N=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=dR(t,{pathname:R});Ai(v||A!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ai(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=UO(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Hr([g,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Hr([g,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,n,i,a);return e&&O?w.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function OO(){let t=HO(),e=RO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var kO=w.createElement(OO,null),VO=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(fr.Provider,{value:this.props.routeContext},w.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LO({routeContext:t,match:e,children:n}){let i=w.useContext(Hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(fr.Provider,{value:t},n)}function UO(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);yt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:b}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,g,v)=>{let b,S=!1,C=null,R=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||kO,f&&(d<0&&v===0?(ER("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):d===v&&(S=!0,R=g.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,v+1)),O=()=>{let N;return b?N=C:S?N=R:g.route.Component?N=w.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=m,w.createElement(LO,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:N})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(VO,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):O()},null)}function h0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jO(t){let e=w.useContext(Hl);return yt(e,h0(t)),e}function BO(t){let e=w.useContext(um);return yt(e,h0(t)),e}function zO(t){let e=w.useContext(fr);return yt(e,h0(t)),e}function d0(t){let e=zO(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FO(){return d0("useRouteId")}function HO(){let t=w.useContext(f0),e=BO("useRouteError"),n=d0("useRouteError");return t!==void 0?t:e.errors?.[n]}function qO(){let{router:t}=jO("useNavigate"),e=d0("useNavigate"),n=w.useRef(!1);return _R(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{Ai(n.current,vR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var xw={};function ER(t,e,n){!e&&!xw[t]&&(xw[t]=!0,Ai(!1,n))}w.memo(GO);function GO({routes:t,future:e,state:n,unstable_onError:i}){return bR(t,void 0,n,i,e)}function TR({to:t,replace:e,state:n,relative:i}){yt(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Di);Ai(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(fr),{pathname:c}=Jr(),f=fm(),d=u0(t,c0(l),c,i==="path"),m=JSON.stringify(d);return w.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:i})},[f,m,i,e,n]),null}function Tl(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $O({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){yt(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Fl(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:b="default"}=n,S=w.useMemo(()=>{let C=qr(d,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:b},navigationType:i}},[c,d,m,g,v,b,i]);return Ai(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Di.Provider,{value:f},w.createElement(lf.Provider,{children:e,value:S}))}function wR({children:t,location:e}){return MO(Qy(t),e)}function Qy(t,e=[]){let n=[];return w.Children.forEach(t,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){n.push.apply(n,Qy(i.props.children,l));return}yt(i.type===Tl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Qy(i.props.children,l)),n.push(c)}),n}var dd="get",md="application/x-www-form-urlencoded";function hm(t){return t!=null&&typeof t.tagName=="string"}function KO(t){return hm(t)&&t.tagName.toLowerCase()==="button"}function YO(t){return hm(t)&&t.tagName.toLowerCase()==="form"}function WO(t){return hm(t)&&t.tagName.toLowerCase()==="input"}function XO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QO(t,e){return t.button===0&&(!e||e==="_self")&&!XO(t)}var Yh=null;function ZO(){if(Yh===null)try{new FormData(document.createElement("form"),0),Yh=!1}catch{Yh=!0}return Yh}var JO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ry(t){return t!=null&&!JO.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):t}function e2(t,e){let n,i,a,l,c;if(YO(t)){let f=t.getAttribute("action");i=f?qr(f,e):null,n=t.getAttribute("method")||dd,a=ry(t.getAttribute("enctype"))||md,l=new FormData(t)}else if(KO(t)||WO(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?qr(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||dd,a=ry(t.getAttribute("formenctype"))||ry(f.getAttribute("enctype"))||md,l=new FormData(f,t),!ZO()){let{name:m,type:g,value:v}=t;if(g==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,v)}}else{if(hm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dd,i=null,a=md,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function m0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&qr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function n2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function r2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await n2(l,n);return c.links?c.links():[]}return[]}));return l2(i.flat(1).filter(i2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rw(t,e,n,i,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||f(d,m)):l==="data"?e.filter((d,m)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function s2(t,e,{includeHydrateFallback:n}={}){return a2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function a2(t){return[...new Set(t)]}function o2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function l2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(o2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function SR(){let t=w.useContext(Hl);return m0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c2(){let t=w.useContext(um);return m0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var p0=w.createContext(void 0);p0.displayName="FrameworkContext";function AR(){let t=w.useContext(p0);return m0(t,"You must render this element inside a <HydratedRouter> element"),t}function u2(t,e){let n=w.useContext(p0),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=O=>{O.forEach(N=>{c(N.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[t]),w.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:gu(f,S),onBlur:gu(d,C),onMouseEnter:gu(m,S),onMouseLeave:gu(g,C),onTouchStart:gu(v,S)}]:[!1,b,{}]}function gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function f2({page:t,...e}){let{router:n}=SR(),i=w.useMemo(()=>dR(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?w.createElement(d2,{page:t,matches:i,...e}):null}function h2(t){let{manifest:e,routeModules:n}=AR(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return r2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function d2({page:t,matches:e,...n}){let i=Jr(),{manifest:a,routeModules:l}=AR(),{basename:c}=SR(),{loaderData:f,matches:d}=c2(),m=w.useMemo(()=>Rw(t,e,d,a,i,"data"),[t,e,d,a,i]),g=w.useMemo(()=>Rw(t,e,d,a,i,"assets"),[t,e,d,a,i]),v=w.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,R=!1;if(e.forEach(O=>{let N=a.routes[O.route.id];!N||!N.hasLoader||(!m.some(V=>V.route.id===O.route.id)&&O.route.id in f&&l[O.route.id]?.shouldRevalidate||N.hasClientLoader?R=!0:C.add(O.route.id))}),C.size===0)return[];let A=t2(t,c,"data");return R&&C.size>0&&A.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[c,f,i,a,m,e,t,l]),b=w.useMemo(()=>s2(g,a),[g,a]),S=h2(g);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:R})=>w.createElement("link",{key:C,nonce:n.nonce,...R})))}function m2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xR&&(window.__reactRouterVersion="7.9.1")}catch{}function p2({basename:t,children:e,window:n}){let i=w.useRef();i.current==null&&(i.current=rO({window:n,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(d=>{w.startTransition(()=>c(d))},[c]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement($O,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CR=w.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:d,to:m,preventScrollReset:g,viewTransition:v,...b},S){let{basename:C}=w.useContext(Di),R=typeof m=="string"&&RR.test(m),A,O=!1;if(typeof m=="string"&&R&&(A=m,xR))try{let k=new URL(window.location.href),U=m.startsWith("//")?new URL(k.protocol+m):new URL(m),F=qr(U.pathname,C);U.origin===k.origin&&F!=null?m=F+U.search+U.hash:O=!0}catch{Ai(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=PO(m,{relative:a}),[V,$,q]=u2(i,b),ie=v2(m,{replace:c,state:f,target:d,preventScrollReset:g,relative:a,viewTransition:v});function M(k){e&&e(k),k.defaultPrevented||ie(k)}let x=w.createElement("a",{...b,...q,href:A||N,onClick:O||l?e:M,ref:m2(S,$),target:d,"data-discover":!R&&n==="render"?"true":void 0});return V&&!R?w.createElement(w.Fragment,null,x,w.createElement(f2,{page:N})):x});CR.displayName="Link";var Zy=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:d,...m},g){let v=cf(c,{relative:m.relative}),b=Jr(),S=w.useContext(um),{navigator:C,basename:R}=w.useContext(Di),A=S!=null&&w2(v)&&f===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,N=b.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(N=N.toLowerCase(),V=V?V.toLowerCase():null,O=O.toLowerCase()),V&&R&&(V=qr(V,R)||V);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=N===O||!a&&N.startsWith(O)&&N.charAt($)==="/",ie=V!=null&&(V===O||!a&&V.startsWith(O)&&V.charAt(O.length)==="/"),M={isActive:q,isPending:ie,isTransitioning:A},x=q?e:void 0,k;typeof i=="function"?k=i(M):k=[i,q?"active":null,ie?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(M):l;return w.createElement(CR,{...m,"aria-current":x,className:k,ref:g,style:U,to:c,viewTransition:f},typeof d=="function"?d(M):d)});Zy.displayName="NavLink";var g2=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=dd,action:f,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,...b},S)=>{let C=E2(),R=T2(f,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&RR.test(f),N=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,q=$?.getAttribute("formmethod")||c;C($||V.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v})};return w.createElement("form",{ref:S,method:A,action:R,onSubmit:i?d:N,...b,"data-discover":!O&&t==="render"?"true":void 0})});g2.displayName="Form";function y2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(t){let e=w.useContext(Hl);return yt(e,y2(t)),e}function v2(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=fm(),d=Jr(),m=cf(t,{relative:l});return w.useCallback(g=>{if(QO(g,e)){g.preventDefault();let v=n!==void 0?n:zu(d)===zu(m);f(t,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[d,f,m,n,i,e,t,a,l,c])}var _2=0,b2=()=>`__${String(++_2)}__`;function E2(){let{router:t}=IR("useSubmit"),{basename:e}=w.useContext(Di),n=FO();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:d,body:m}=e2(i,e);if(a.navigate===!1){let g=a.fetcherKey||b2();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function T2(t,{relative:e}={}){let{basename:n}=w.useContext(Di),i=w.useContext(fr);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...cf(t||".",{relative:e})},c=Jr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Hr([n,l.pathname])),zu(l)}function w2(t,{relative:e}={}){let n=w.useContext(yR);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IR("useViewTransitionState"),a=cf(t,{relative:e});if(!n.isTransitioning)return!1;let l=qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nd(a.pathname,c)!=null||Nd(a.pathname,l)!=null}var uf=hR();const S2=uR(uf),A2=()=>{};var Cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},x2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},PR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|f>>4;let b=(f&15)<<2|m>>6,S=m&63;d||(S=64,c||(b=64)),i.push(n[g],n[v],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||v==null)throw new R2;const b=l<<2|f>>4;if(i.push(b),m!==64){const S=f<<4&240|m>>2;if(i.push(S),v!==64){const C=m<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=DR(t);return PR.encodeByteArray(e,!0)},Md=function(t){return C2(t).replace(/\./g,"")},NR=function(t){try{return PR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=()=>I2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof Cw>"u")return;const t=Cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NR(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return A2()||D2()||P2()||N2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MR=t=>dm()?.emulatorHosts?.[t],M2=t=>{const e=MR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},OR=()=>dm()?.config,kR=t=>dm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Md(JSON.stringify(n)),Md(JSON.stringify(c)),""].join(".")}const Iu={};function V2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Iu))Iu[e]?t.emulator.push(e):t.prod.push(e);return t}function L2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Iw=!1;function LR(t,e){if(typeof window>"u"||typeof document>"u"||!Gl(window.location.host)||Iu[t]===e||Iu[t]||Iw)return;Iu[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=V2().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Iw=!0,c()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=L2(i),S=n("text"),C=document.getElementById(S)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),N=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;f(V),g(A,R);const $=m();d(N,O),V.append(N,C,A,$),document.body.appendChild(V)}l?(C.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function j2(){const t=dm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F2(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H2(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function BR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function q2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class Pi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=G2,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?$2(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Pi(a,f,i)}}function $2(t,e){return t.replace(K2,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const K2=/\{\$([^}]+)}/g;function Y2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Dw(l)&&Dw(c)){if(!Gs(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Dw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function W2(t,e){const n=new X2(t,e);return n.subscribe.bind(n)}class X2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Q2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=sy),a.error===void 0&&(a.error=sy),a.complete===void 0&&(a.complete=sy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1e3,J2=2,ek=14400*1e3,tk=.5;function Pw(t,e=Z2,n=J2){const i=e*Math.pow(n,t),a=Math.round(tk*i*(Math.random()-.5)*2);return Math.min(ek,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new O2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ik(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ik(t){return t===qa?void 0:t}function rk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const ak={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},ok=qe.INFO,lk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},ck=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=lk[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=ok,this._logHandler=ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const uk=(t,e)=>e.some(n=>t instanceof n);let Nw,Mw;function fk(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hk(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zR=new WeakMap,Jy=new WeakMap,FR=new WeakMap,ay=new WeakMap,g0=new WeakMap;function dk(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(js(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&zR.set(n,t)}).catch(()=>{}),g0.set(e,t),e}function mk(t){if(Jy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Jy.set(t,e)}let ev={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pk(t){ev=t(ev)}function gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(oy(this),e,...n);return FR.set(i,e.sort?e.sort():[e]),js(i)}:hk().includes(t)?function(...e){return t.apply(oy(this),e),js(zR.get(this))}:function(...e){return js(t.apply(oy(this),e))}}function yk(t){return typeof t=="function"?gk(t):(t instanceof IDBTransaction&&mk(t),uk(t,fk())?new Proxy(t,ev):t)}function js(t){if(t instanceof IDBRequest)return dk(t);if(ay.has(t))return ay.get(t);const e=yk(t);return e!==t&&(ay.set(t,e),g0.set(e,t)),e}const oy=t=>g0.get(t);function HR(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=js(c);return i&&c.addEventListener("upgradeneeded",d=>{i(js(c.result),d.oldVersion,d.newVersion,js(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const vk=["get","getKey","getAll","getAllKeys","count"],_k=["put","add","delete","clear"],ly=new Map;function Ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=_k.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||vk.includes(n)))return;const l=async function(c,...f){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&d.done]))[0]};return ly.set(e,l),l}pk(t=>({...t,get:(e,n,i)=>Ow(e,n)||t.get(e,n,i),has:(e,n)=>!!Ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ek(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Ek(t){return t.getComponent()?.type==="VERSION"}const tv="@firebase/app",kw="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new mm("@firebase/app"),Tk="@firebase/app-compat",wk="@firebase/analytics-compat",Sk="@firebase/analytics",Ak="@firebase/app-check-compat",xk="@firebase/app-check",Rk="@firebase/auth",Ck="@firebase/auth-compat",Ik="@firebase/database",Dk="@firebase/data-connect",Pk="@firebase/database-compat",Nk="@firebase/functions",Mk="@firebase/functions-compat",Ok="@firebase/installations",kk="@firebase/installations-compat",Vk="@firebase/messaging",Lk="@firebase/messaging-compat",Uk="@firebase/performance",jk="@firebase/performance-compat",Bk="@firebase/remote-config",zk="@firebase/remote-config-compat",Fk="@firebase/storage",Hk="@firebase/storage-compat",qk="@firebase/firestore",Gk="@firebase/ai",$k="@firebase/firestore-compat",Kk="firebase",Yk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="[DEFAULT]",Wk={[tv]:"fire-core",[Tk]:"fire-core-compat",[Sk]:"fire-analytics",[wk]:"fire-analytics-compat",[xk]:"fire-app-check",[Ak]:"fire-app-check-compat",[Rk]:"fire-auth",[Ck]:"fire-auth-compat",[Ik]:"fire-rtdb",[Dk]:"fire-data-connect",[Pk]:"fire-rtdb-compat",[Nk]:"fire-fn",[Mk]:"fire-fn-compat",[Ok]:"fire-iid",[kk]:"fire-iid-compat",[Vk]:"fire-fcm",[Lk]:"fire-fcm-compat",[Uk]:"fire-perf",[jk]:"fire-perf-compat",[Bk]:"fire-rc",[zk]:"fire-rc-compat",[Fk]:"fire-gcs",[Hk]:"fire-gcs-compat",[qk]:"fire-fst",[$k]:"fire-fst-compat",[Gk]:"fire-vertex","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,Xk=new Map,iv=new Map;function Vw(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){const e=t.name;if(iv.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;iv.set(e,t);for(const n of Od.values())Vw(n,t);for(const n of Xk.values())Vw(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new co("app","Firebase",Qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=Yk;function qR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:nv,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=OR()),!n)throw Bs.create("no-options");const l=Od.get(a);if(l){if(Gs(n,l.options)&&Gs(i,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new sk(a);for(const d of iv.values())c.addComponent(d);const f=new Zk(n,i,c);return Od.set(a,f),f}function y0(t=nv){const e=Od.get(t);if(!e&&t===nv&&OR())return qR();if(!e)throw Bs.create("no-app",{appName:t});return e}function hi(t,e,n){let i=Wk[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(c.join(" "));return}or(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebase-heartbeat-database",eV=1,Fu="firebase-heartbeat-store";let cy=null;function GR(){return cy||(cy=HR(Jk,eV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),cy}async function tV(t){try{const n=(await GR()).transaction(Fu),i=await n.objectStore(Fu).get($R(t));return await n.done,i}catch(e){if(e instanceof Pi)Gr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}}async function Lw(t,e){try{const i=(await GR()).transaction(Fu,"readwrite");await i.objectStore(Fu).put(e,$R(t)),await i.done}catch(n){if(n instanceof Pi)Gr.warn(n.message);else{const i=Bs.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(i.message)}}}function $R(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=1024,iV=30;class rV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Uw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>iV){const a=oV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uw(),{heartbeatsToSend:n,unsentEntries:i}=sV(this._heartbeatsCache.heartbeats),a=Md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gr.warn(e),""}}}function Uw(){return new Date().toISOString().substring(0,10)}function sV(t,e=nV){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),jw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class aV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?BR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jw(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function oV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){or(new xi("platform-logger",e=>new bk(e),"PRIVATE")),or(new xi("heartbeat",e=>new rV(e),"PRIVATE")),hi(tv,kw,t),hi(tv,kw,"esm2020"),hi("fire-js","")}lV("");var cV="firebase",uV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(cV,uV,"app");const KR="@firebase/installations",v0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e4,WR=`w:${v0}`,XR="FIS_v2",fV="https://firebaseinstallations.googleapis.com/v1",hV=3600*1e3,dV="installations",mV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eo=new co(dV,mV,pV);function QR(t){return t instanceof Pi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR({projectId:t}){return`${fV}/projects/${t}/installations`}function JR(t){return{token:t.token,requestStatus:2,expiresIn:yV(t.expiresIn),creationTime:Date.now()}}async function eC(t,e){const i=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function tC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gV(t,{refreshToken:e}){const n=tC(t);return n.append("Authorization",vV(e)),n}async function nC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yV(t){return Number(t.replace("s","000"))}function vV(t){return`${XR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=ZR(t),a=tC(t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:n,authVersion:XR,appId:t.appId,sdkVersion:WR},f={method:"POST",headers:a,body:JSON.stringify(c)},d=await nC(()=>fetch(i,f));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:JR(m.authToken)}}else throw await eC("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^[cdef][\w-]{21}$/,rv="";function TV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wV(t);return EV.test(n)?n:rv}catch{return rv}}function wV(t){return bV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new Map;function sC(t,e){const n=pm(t);aC(n,e),SV(n,e)}function aC(t,e){const n=rC.get(t);if(n)for(const i of n)i(e)}function SV(t,e){const n=AV();n&&n.postMessage({key:t,fid:e}),xV()}let $a=null;function AV(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=t=>{aC(t.data.key,t.data.fid)}),$a}function xV(){rC.size===0&&$a&&($a.close(),$a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="firebase-installations-database",CV=1,to="firebase-installations-store";let uy=null;function _0(){return uy||(uy=HR(RV,CV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),uy}async function kd(t,e){const n=pm(t),a=(await _0()).transaction(to,"readwrite"),l=a.objectStore(to),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&sC(t,e.fid),e}async function oC(t){const e=pm(t),i=(await _0()).transaction(to,"readwrite");await i.objectStore(to).delete(e),await i.done}async function gm(t,e){const n=pm(t),a=(await _0()).transaction(to,"readwrite"),l=a.objectStore(to),c=await l.get(n),f=e(c);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!c||c.fid!==f.fid)&&sC(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(t){let e;const n=await gm(t.appConfig,i=>{const a=IV(i),l=DV(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===rv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IV(t){const e=t||{fid:TV(),registrationStatus:0};return lC(e)}function DV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=PV(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NV(t)}:{installationEntry:e}}async function PV(t,e){try{const n=await _V(t,e);return kd(t.appConfig,n)}catch(n){throw QR(n)&&n.customData.serverCode===409?await oC(t.appConfig):await kd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NV(t){let e=await Bw(t.appConfig);for(;e.registrationStatus===1;)await iC(100),e=await Bw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await b0(t);return i||n}return e}function Bw(t){return gm(t,e=>{if(!e)throw eo.create("installation-not-found");return lC(e)})}function lC(t){return MV(t)?{fid:t.fid,registrationStatus:0}:t}function MV(t){return t.registrationStatus===1&&t.registrationTime+YR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV({appConfig:t,heartbeatServiceProvider:e},n){const i=kV(t,n),a=gV(t,n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:WR,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},d=await nC(()=>fetch(i,f));if(d.ok){const m=await d.json();return JR(m)}else throw await eC("Generate Auth Token",d)}function kV(t,{fid:e}){return`${ZR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(t,e=!1){let n;const i=await gm(t.appConfig,l=>{if(!cC(l))throw eo.create("not-registered");const c=l.authToken;if(!e&&UV(c))return l;if(c.requestStatus===1)return n=VV(t,e),l;{if(!navigator.onLine)throw eo.create("app-offline");const f=BV(l);return n=LV(t,f),f}});return n?await n:i.authToken}async function VV(t,e){let n=await zw(t.appConfig);for(;n.authToken.requestStatus===1;)await iC(100),n=await zw(t.appConfig);const i=n.authToken;return i.requestStatus===0?E0(t,e):i}function zw(t){return gm(t,e=>{if(!cC(e))throw eo.create("not-registered");const n=e.authToken;return zV(n)?{...e,authToken:{requestStatus:0}}:e})}async function LV(t,e){try{const n=await OV(t,e),i={...e,authToken:n};return await kd(t.appConfig,i),n}catch(n){if(QR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oC(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await kd(t.appConfig,i)}throw n}}function cC(t){return t!==void 0&&t.registrationStatus===2}function UV(t){return t.requestStatus===2&&!jV(t)}function jV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hV}function BV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zV(t){return t.requestStatus===1&&t.requestTime+YR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t){const e=t,{installationEntry:n,registrationPromise:i}=await b0(e);return i?i.catch(console.error):E0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e=!1){const n=t;return await qV(n),(await E0(n,e)).token}async function qV(t){const{registrationPromise:e}=await b0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){if(!t||!t.options)throw fy("App Configuration");if(!t.name)throw fy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fy(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="installations",$V="installations-internal",KV=t=>{const e=t.getProvider("app").getImmediate(),n=GV(e),i=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},YV=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,uC).getImmediate();return{getId:()=>FV(n),getToken:a=>HV(n,a)}};function WV(){or(new xi(uC,KV,"PUBLIC")),or(new xi($V,YV,"PRIVATE"))}WV();hi(KR,v0);hi(KR,v0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="analytics",XV="firebase_id",QV="origin",ZV=60*1e3,JV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new mm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new co("analytics","Analytics",eL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){if(!t.startsWith(T0)){const e=Yn.create("invalid-gtag-resource",{gtagURL:t});return kn.warn(e.message),""}return t}function fC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function iL(t,e){const n=nL("firebase-js-sdk-policy",{createScriptURL:tL}),i=document.createElement("script"),a=`${T0}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function rL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sL(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const d=(await fC(n)).find(m=>m.measurementId===a);d&&await e[d.appId]}}catch(f){kn.error(f)}t("config",a,l)}async function aL(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await fC(n);for(const d of c){const m=f.find(v=>v.measurementId===d),g=m&&e[m.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){kn.error(l)}}function oL(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[f,d]=c;await aL(t,e,n,f,d)}else if(l==="config"){const[f,d]=c;await sL(t,e,n,i,f,d)}else if(l==="consent"){const[f,d]=c;t("consent",f,d)}else if(l==="get"){const[f,d,m]=c;t("get",f,d,m)}else if(l==="set"){const[f]=c;t("set",f)}else t(l,...c)}catch(f){kn.error(f)}}return a}function lL(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=oL(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function cL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(T0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=30,fL=1e3;class hL{constructor(e={},n=fL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hC=new hL;function dL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mL(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:dL(n)},a=JV.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function pL(t,e=hC,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw Yn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Yn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new vL;return setTimeout(async()=>{f.abort()},ZV),dC({appId:i,apiKey:a,measurementId:l},c,f,e)}async function dC(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=hC){const{appId:l,measurementId:c}=t;try{await gL(i,e)}catch(f){if(c)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await mL(t);return a.deleteThrottleMetadata(l),f}catch(f){const d=f;if(!yL(d)){if(a.deleteThrottleMetadata(l),c)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw f}const m=Number(d?.customData?.httpStatus)===503?Pw(n,a.intervalMillis,uL):Pw(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return a.setThrottleMetadata(l,g),kn.debug(`Calling attemptFetch again in ${m} millis`),dC(t,g,i,a)}}function gL(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yL(t){if(!(t instanceof Pi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _L(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c={...i,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(){if(jR())try{await BR()}catch(t){return kn.warn(Yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return kn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EL(t,e,n,i,a,l,c){const f=pL(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>kn.error(b)),e.push(f);const d=bL().then(b=>{if(b)return i.getId()}),[m,g]=await Promise.all([f,d]);cL(l)||iL(l,m.measurementId),a("js",new Date);const v=c?.config??{};return v[QV]="firebase",v.update=!0,g!=null&&(v[XV]=g),a("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.app=e}_delete(){return delete Du[this.app.options.appId],Promise.resolve()}}let Du={},Fw=[];const Hw={};let hy="dataLayer",wL="gtag",qw,mC,Gw=!1;function SL(){const t=[];if(UR()&&t.push("This is a browser extension environment."),q2()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function AL(t,e,n){SL();const i=t.options.appId;if(!i)throw Yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(Du[i]!=null)throw Yn.create("already-exists",{id:i});if(!Gw){rL(hy);const{wrappedGtag:l,gtagCore:c}=lL(Du,Fw,Hw,hy,wL);mC=l,qw=c,Gw=!0}return Du[i]=EL(t,Fw,Hw,e,qw,hy,n),new TL(t)}function xL(t=y0()){t=Bt(t);const e=uo(t,Vd);return e.isInitialized()?e.getImmediate():RL(t)}function RL(t,e={}){const n=uo(t,Vd);if(n.isInitialized()){const a=n.getImmediate();if(Gs(e,n.getOptions()))return a;throw Yn.create("already-initialized")}return n.initialize({options:e})}function CL(t,e,n,i){t=Bt(t),_L(mC,Du[t.app.options.appId],e,n,i).catch(a=>kn.error(a))}const $w="@firebase/analytics",Kw="0.10.18";function IL(){or(new xi(Vd,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return AL(i,a,n)},"PUBLIC")),or(new xi("analytics-internal",t,"PRIVATE")),hi($w,Kw),hi($w,Kw,"esm2020");function t(e){try{const n=e.getProvider(Vd).getImmediate();return{logEvent:(i,a,l)=>CL(n,i,a,l)}}catch(n){throw Yn.create("interop-component-reg-failed",{reason:n})}}}IL();var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,pC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function k(){}k.prototype=x.prototype,M.D=x.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(U,F,j){for(var L=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)L[Ee-2]=arguments[Ee];return x.prototype[F].apply(U,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,x,k){k||(k=0);var U=Array(16);if(typeof x=="string")for(var F=0;16>F;++F)U[F]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(F=0;16>F;++F)U[F]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=M.g[0],k=M.g[1],F=M.g[2];var j=M.g[3],L=x+(j^k&(F^j))+U[0]+3614090360&4294967295;x=k+(L<<7&4294967295|L>>>25),L=j+(F^x&(k^F))+U[1]+3905402710&4294967295,j=x+(L<<12&4294967295|L>>>20),L=F+(k^j&(x^k))+U[2]+606105819&4294967295,F=j+(L<<17&4294967295|L>>>15),L=k+(x^F&(j^x))+U[3]+3250441966&4294967295,k=F+(L<<22&4294967295|L>>>10),L=x+(j^k&(F^j))+U[4]+4118548399&4294967295,x=k+(L<<7&4294967295|L>>>25),L=j+(F^x&(k^F))+U[5]+1200080426&4294967295,j=x+(L<<12&4294967295|L>>>20),L=F+(k^j&(x^k))+U[6]+2821735955&4294967295,F=j+(L<<17&4294967295|L>>>15),L=k+(x^F&(j^x))+U[7]+4249261313&4294967295,k=F+(L<<22&4294967295|L>>>10),L=x+(j^k&(F^j))+U[8]+1770035416&4294967295,x=k+(L<<7&4294967295|L>>>25),L=j+(F^x&(k^F))+U[9]+2336552879&4294967295,j=x+(L<<12&4294967295|L>>>20),L=F+(k^j&(x^k))+U[10]+4294925233&4294967295,F=j+(L<<17&4294967295|L>>>15),L=k+(x^F&(j^x))+U[11]+2304563134&4294967295,k=F+(L<<22&4294967295|L>>>10),L=x+(j^k&(F^j))+U[12]+1804603682&4294967295,x=k+(L<<7&4294967295|L>>>25),L=j+(F^x&(k^F))+U[13]+4254626195&4294967295,j=x+(L<<12&4294967295|L>>>20),L=F+(k^j&(x^k))+U[14]+2792965006&4294967295,F=j+(L<<17&4294967295|L>>>15),L=k+(x^F&(j^x))+U[15]+1236535329&4294967295,k=F+(L<<22&4294967295|L>>>10),L=x+(F^j&(k^F))+U[1]+4129170786&4294967295,x=k+(L<<5&4294967295|L>>>27),L=j+(k^F&(x^k))+U[6]+3225465664&4294967295,j=x+(L<<9&4294967295|L>>>23),L=F+(x^k&(j^x))+U[11]+643717713&4294967295,F=j+(L<<14&4294967295|L>>>18),L=k+(j^x&(F^j))+U[0]+3921069994&4294967295,k=F+(L<<20&4294967295|L>>>12),L=x+(F^j&(k^F))+U[5]+3593408605&4294967295,x=k+(L<<5&4294967295|L>>>27),L=j+(k^F&(x^k))+U[10]+38016083&4294967295,j=x+(L<<9&4294967295|L>>>23),L=F+(x^k&(j^x))+U[15]+3634488961&4294967295,F=j+(L<<14&4294967295|L>>>18),L=k+(j^x&(F^j))+U[4]+3889429448&4294967295,k=F+(L<<20&4294967295|L>>>12),L=x+(F^j&(k^F))+U[9]+568446438&4294967295,x=k+(L<<5&4294967295|L>>>27),L=j+(k^F&(x^k))+U[14]+3275163606&4294967295,j=x+(L<<9&4294967295|L>>>23),L=F+(x^k&(j^x))+U[3]+4107603335&4294967295,F=j+(L<<14&4294967295|L>>>18),L=k+(j^x&(F^j))+U[8]+1163531501&4294967295,k=F+(L<<20&4294967295|L>>>12),L=x+(F^j&(k^F))+U[13]+2850285829&4294967295,x=k+(L<<5&4294967295|L>>>27),L=j+(k^F&(x^k))+U[2]+4243563512&4294967295,j=x+(L<<9&4294967295|L>>>23),L=F+(x^k&(j^x))+U[7]+1735328473&4294967295,F=j+(L<<14&4294967295|L>>>18),L=k+(j^x&(F^j))+U[12]+2368359562&4294967295,k=F+(L<<20&4294967295|L>>>12),L=x+(k^F^j)+U[5]+4294588738&4294967295,x=k+(L<<4&4294967295|L>>>28),L=j+(x^k^F)+U[8]+2272392833&4294967295,j=x+(L<<11&4294967295|L>>>21),L=F+(j^x^k)+U[11]+1839030562&4294967295,F=j+(L<<16&4294967295|L>>>16),L=k+(F^j^x)+U[14]+4259657740&4294967295,k=F+(L<<23&4294967295|L>>>9),L=x+(k^F^j)+U[1]+2763975236&4294967295,x=k+(L<<4&4294967295|L>>>28),L=j+(x^k^F)+U[4]+1272893353&4294967295,j=x+(L<<11&4294967295|L>>>21),L=F+(j^x^k)+U[7]+4139469664&4294967295,F=j+(L<<16&4294967295|L>>>16),L=k+(F^j^x)+U[10]+3200236656&4294967295,k=F+(L<<23&4294967295|L>>>9),L=x+(k^F^j)+U[13]+681279174&4294967295,x=k+(L<<4&4294967295|L>>>28),L=j+(x^k^F)+U[0]+3936430074&4294967295,j=x+(L<<11&4294967295|L>>>21),L=F+(j^x^k)+U[3]+3572445317&4294967295,F=j+(L<<16&4294967295|L>>>16),L=k+(F^j^x)+U[6]+76029189&4294967295,k=F+(L<<23&4294967295|L>>>9),L=x+(k^F^j)+U[9]+3654602809&4294967295,x=k+(L<<4&4294967295|L>>>28),L=j+(x^k^F)+U[12]+3873151461&4294967295,j=x+(L<<11&4294967295|L>>>21),L=F+(j^x^k)+U[15]+530742520&4294967295,F=j+(L<<16&4294967295|L>>>16),L=k+(F^j^x)+U[2]+3299628645&4294967295,k=F+(L<<23&4294967295|L>>>9),L=x+(F^(k|~j))+U[0]+4096336452&4294967295,x=k+(L<<6&4294967295|L>>>26),L=j+(k^(x|~F))+U[7]+1126891415&4294967295,j=x+(L<<10&4294967295|L>>>22),L=F+(x^(j|~k))+U[14]+2878612391&4294967295,F=j+(L<<15&4294967295|L>>>17),L=k+(j^(F|~x))+U[5]+4237533241&4294967295,k=F+(L<<21&4294967295|L>>>11),L=x+(F^(k|~j))+U[12]+1700485571&4294967295,x=k+(L<<6&4294967295|L>>>26),L=j+(k^(x|~F))+U[3]+2399980690&4294967295,j=x+(L<<10&4294967295|L>>>22),L=F+(x^(j|~k))+U[10]+4293915773&4294967295,F=j+(L<<15&4294967295|L>>>17),L=k+(j^(F|~x))+U[1]+2240044497&4294967295,k=F+(L<<21&4294967295|L>>>11),L=x+(F^(k|~j))+U[8]+1873313359&4294967295,x=k+(L<<6&4294967295|L>>>26),L=j+(k^(x|~F))+U[15]+4264355552&4294967295,j=x+(L<<10&4294967295|L>>>22),L=F+(x^(j|~k))+U[6]+2734768916&4294967295,F=j+(L<<15&4294967295|L>>>17),L=k+(j^(F|~x))+U[13]+1309151649&4294967295,k=F+(L<<21&4294967295|L>>>11),L=x+(F^(k|~j))+U[4]+4149444226&4294967295,x=k+(L<<6&4294967295|L>>>26),L=j+(k^(x|~F))+U[11]+3174756917&4294967295,j=x+(L<<10&4294967295|L>>>22),L=F+(x^(j|~k))+U[2]+718787259&4294967295,F=j+(L<<15&4294967295|L>>>17),L=k+(j^(F|~x))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var k=x-this.blockSize,U=this.B,F=this.h,j=0;j<x;){if(F==0)for(;j<=k;)a(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<x;)if(U[F++]=M.charCodeAt(j++),F==this.blockSize){a(this,U),F=0;break}}else for(;j<x;)if(U[F++]=M[j++],F==this.blockSize){a(this,U),F=0;break}}this.h=F,this.o+=x},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var k=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=k&255,k/=256;for(this.u(M),M=Array(16),x=k=0;4>x;++x)for(var U=0;32>U;U+=8)M[k++]=this.g[x]>>>U&255;return M};function l(M,x){var k=f;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=x(M)}function c(M,x){this.h=x;for(var k=[],U=!0,F=M.length-1;0<=F;F--){var j=M[F]|0;U&&j==x||(k[F]=j,U=!1)}this.g=k}var f={};function d(M){return-128<=M&&128>M?l(M,function(x){return new c([x|0],0>x?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return A(m(-M));for(var x=[],k=1,U=0;M>=k;U++)x[U]=M/k|0,k*=4294967296;return new c(x,0)}function g(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return A(g(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(x,8)),U=v,F=0;F<M.length;F+=8){var j=Math.min(8,M.length-F),L=parseInt(M.substring(F,F+j),x);8>j?(j=m(Math.pow(x,j)),U=U.j(j).add(m(L))):(U=U.j(k),U=U.add(m(L)))}return U}var v=d(0),b=d(1),S=d(16777216);t=c.prototype,t.m=function(){if(R(this))return-A(this).m();for(var M=0,x=1,k=0;k<this.g.length;k++){var U=this.i(k);M+=(0<=U?U:4294967296+U)*x,x*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(R(this))return"-"+A(this).toString(M);for(var x=m(Math.pow(M,6)),k=this,U="";;){var F=$(k,x).g;k=O(k,F.j(x));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=F,C(k))return j+U;for(;6>j.length;)j="0"+j;U=j+U}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=O(this,M),R(M)?-1:C(M)?0:1};function A(M){for(var x=M.g.length,k=[],U=0;U<x;U++)k[U]=~M.g[U];return new c(k,~M.h).add(b)}t.abs=function(){return R(this)?A(this):this},t.add=function(M){for(var x=Math.max(this.g.length,M.g.length),k=[],U=0,F=0;F<=x;F++){var j=U+(this.i(F)&65535)+(M.i(F)&65535),L=(j>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);U=L>>>16,j&=65535,L&=65535,k[F]=L<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function O(M,x){return M.add(A(x))}t.j=function(M){if(C(this)||C(M))return v;if(R(this))return R(M)?A(this).j(A(M)):A(A(this).j(M));if(R(M))return A(this.j(A(M)));if(0>this.l(S)&&0>M.l(S))return m(this.m()*M.m());for(var x=this.g.length+M.g.length,k=[],U=0;U<2*x;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<M.g.length;F++){var j=this.i(U)>>>16,L=this.i(U)&65535,Ee=M.i(F)>>>16,Te=M.i(F)&65535;k[2*U+2*F]+=L*Te,N(k,2*U+2*F),k[2*U+2*F+1]+=j*Te,N(k,2*U+2*F+1),k[2*U+2*F+1]+=L*Ee,N(k,2*U+2*F+1),k[2*U+2*F+2]+=j*Ee,N(k,2*U+2*F+2)}for(U=0;U<x;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=x;U<2*x;U++)k[U]=0;return new c(k,0)};function N(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function V(M,x){this.g=M,this.h=x}function $(M,x){if(C(x))throw Error("division by zero");if(C(M))return new V(v,v);if(R(M))return x=$(A(M),x),new V(A(x.g),A(x.h));if(R(x))return x=$(M,A(x)),new V(A(x.g),x.h);if(30<M.g.length){if(R(M)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var k=b,U=x;0>=U.l(M);)k=q(k),U=q(U);var F=ie(k,1),j=ie(U,1);for(U=ie(U,2),k=ie(k,2);!C(U);){var L=j.add(U);0>=L.l(M)&&(F=F.add(k),j=L),U=ie(U,1),k=ie(k,1)}return x=O(M,F.j(x)),new V(F,x)}for(F=v;0<=M.l(x);){for(k=Math.max(1,Math.floor(M.m()/x.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),j=m(k),L=j.j(x);R(L)||0<L.l(M);)k-=U,j=m(k),L=j.j(x);C(j)&&(j=b),F=F.add(j),M=O(M,L)}return new V(F,M)}t.A=function(M){return $(this,M).h},t.and=function(M){for(var x=Math.max(this.g.length,M.g.length),k=[],U=0;U<x;U++)k[U]=this.i(U)&M.i(U);return new c(k,this.h&M.h)},t.or=function(M){for(var x=Math.max(this.g.length,M.g.length),k=[],U=0;U<x;U++)k[U]=this.i(U)|M.i(U);return new c(k,this.h|M.h)},t.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),k=[],U=0;U<x;U++)k[U]=this.i(U)^M.i(U);return new c(k,this.h^M.h)};function q(M){for(var x=M.g.length+1,k=[],U=0;U<x;U++)k[U]=M.i(U)<<1|M.i(U-1)>>>31;return new c(k,M.h)}function ie(M,x){var k=x>>5;x%=32;for(var U=M.g.length-k,F=[],j=0;j<U;j++)F[j]=0<x?M.i(j+k)>>>x|M.i(j+k+1)<<32-x:M.i(j+k);return new c(F,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,pC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,zs=c}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gC,Tu,yC,pd,sv,vC,_C,bC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,E){return h==Array.prototype||h==Object.prototype||(h[_]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var E=i;h=h.split(".");for(var P=0;P<h.length-1;P++){var Y=h[P];if(!(Y in E))break e;E=E[Y]}h=h[h.length-1],P=E[h],_=_(P),_!=P&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var E=0,P=!1,Y={next:function(){if(!P&&E<h.length){var ne=E++;return{value:_(ne,h[ne]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,E){return h.call.apply(h.bind,arguments)}function v(h,_,E){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),h.apply(_,Y)}}return function(){return h.apply(_,arguments)}}function b(h,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function S(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function C(h,_){function E(){}E.prototype=_.prototype,h.aa=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(P,Y,ne){for(var de=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)de[Ke-2]=arguments[Ke];return _.prototype[Y].apply(P,de)}}function R(h){const _=h.length;if(0<_){const E=Array(_);for(let P=0;P<_;P++)E[P]=h[P];return E}return[]}function A(h,_){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(d(P)){const Y=h.length||0,ne=P.length||0;h.length=Y+ne;for(let de=0;de<ne;de++)h[Y+de]=P[de]}else h.push(P)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){return/^[\s\xa0]*$/.test(h)}function V(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function $(h){return $[" "](h),h}$[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function ie(h,_,E){for(const P in h)_.call(E,h[P],P,h)}function M(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function x(h){const _={};for(const E in h)_[E]=h[E];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,_){let E,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(E in P)h[E]=P[E];for(let ne=0;ne<k.length;ne++)E=k[ne],Object.prototype.hasOwnProperty.call(P,E)&&(h[E]=P[E])}}function F(h){var _=1;h=h.split(":");const E=[];for(;0<_&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function j(h){f.setTimeout(()=>{throw h},0)}function L(){var h=me;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Ee{constructor(){this.h=this.g=null}add(_,E){const P=Te.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Te=new O(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,me=new Ee,z=()=>{const h=f.Promise.resolve(void 0);re=()=>{h.then(ae)}};var ae=()=>{for(var h;h=L();){try{h.h.call(h.g)}catch(E){j(E)}var _=Te;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}X=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return h})();function we(h,_){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(q){e:{try{$(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ge[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&we.aa.h.call(this)}}C(we,te);var ge={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function He(h,_,E,P,Y){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function Ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h){this.src=h,this.g={},this.h=0}je.prototype.add=function(h,_,E,P,Y){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var de=Pt(h,_,P,Y);return-1<de?(_=h[de],E||(_.fa=!1)):(_=new He(_,this.src,ne,!!P,Y),_.fa=E,h.push(_)),_};function Qe(h,_){var E=_.type;if(E in h.g){var P=h.g[E],Y=Array.prototype.indexOf.call(P,_,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(P,Y,1),ne&&(Ve(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Pt(h,_,E,P){for(var Y=0;Y<h.length;++Y){var ne=h[Y];if(!ne.da&&ne.listener==_&&ne.capture==!!E&&ne.ha==P)return Y}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),dr={};function es(h,_,E,P,Y){if(Array.isArray(_)){for(var ne=0;ne<_.length;ne++)es(h,_[ne],E,P,Y);return null}return E=Af(E),h&&h[he]?h.K(_,E,m(P)?!!P.capture:!1,Y):dn(h,_,E,!1,P,Y)}function dn(h,_,E,P,Y,ne){if(!_)throw Error("Invalid event type");var de=m(Y)?!!Y.capture:!!Y,Ke=go(h);if(Ke||(h[wn]=Ke=new je(h)),E=Ke.add(_,E,P,de,ne),E.proxy)return E;if(P=Qm(),E.proxy=P,P.src=h,P.listener=E,h.addEventListener)fe||(Y=de),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),P,Y);else if(h.attachEvent)h.attachEvent(la(_.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qm(){function h(E){return _.call(h.src,h.listener,E)}const _=Zm;return h}function oc(h,_,E,P,Y){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)oc(h,_[ne],E,P,Y);else P=m(P)?!!P.capture:!!P,E=Af(E),h&&h[he]?(h=h.i,_=String(_).toString(),_ in h.g&&(ne=h.g[_],E=Pt(ne,E,P,Y),-1<E&&(Ve(ne[E]),Array.prototype.splice.call(ne,E,1),ne.length==0&&(delete h.g[_],h.h--)))):h&&(h=go(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Pt(_,E,P,Y)),(E=-1<h?_[h]:null)&&po(E))}function po(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[he])Qe(_.i,h);else{var E=h.type,P=h.proxy;_.removeEventListener?_.removeEventListener(E,P,h.capture):_.detachEvent?_.detachEvent(la(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=go(_))?(Qe(E,h),E.h==0&&(E.src=null,_[wn]=null)):Ve(h)}}}function la(h){return h in dr?dr[h]:dr[h]="on"+h}function Zm(h,_){if(h.da)h=!0;else{_=new we(_,this);var E=h.listener,P=h.ha||h.src;h.fa&&po(h),h=E.call(P,_)}return h}function go(h){return h=h[wn],h instanceof je?h:null}var lc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(h){return typeof h=="function"?h:(h[lc]||(h[lc]=function(_){return h.handleEvent(_)}),h[lc])}function Et(){ee.call(this),this.i=new je(this),this.M=this,this.F=null}C(Et,ee),Et.prototype[he]=!0,Et.prototype.removeEventListener=function(h,_,E,P){oc(this,h,_,E,P)};function nt(h,_){var E,P=h.F;if(P)for(E=[];P;P=P.F)E.push(P);if(h=h.M,P=_.type||_,typeof _=="string")_=new te(_,h);else if(_ instanceof te)_.target=_.target||h;else{var Y=_;_=new te(P,h),U(_,Y)}if(Y=!0,E)for(var ne=E.length-1;0<=ne;ne--){var de=_.g=E[ne];Y=Ln(de,P,!0,_)&&Y}if(de=_.g=h,Y=Ln(de,P,!0,_)&&Y,Y=Ln(de,P,!1,_)&&Y,E)for(ne=0;ne<E.length;ne++)de=_.g=E[ne],Y=Ln(de,P,!1,_)&&Y}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var E=h.g[_],P=0;P<E.length;P++)Ve(E[P]);delete h.g[_],h.h--}}this.F=null},Et.prototype.K=function(h,_,E,P){return this.i.add(String(h),_,!1,E,P)},Et.prototype.L=function(h,_,E,P){return this.i.add(String(h),_,!0,E,P)};function Ln(h,_,E,P){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ne=0;ne<_.length;++ne){var de=_[ne];if(de&&!de.da&&de.capture==E){var Ke=de.listener,Ft=de.ha||de.src;de.fa&&Qe(h.i,de),Y=Ke.call(Ft,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function mn(h,_,E){if(typeof h=="function")E&&(h=b(h,E));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(h,_||0)}function xf(h){h.g=mn(()=>{h.g=null,h.i&&(h.i=!1,xf(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Jm extends ee{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xf(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(h){ee.call(this),this.h=h,this.g={}}C(ca,ee);var ua=[];function fa(h){ie(h.g,function(_,E){this.g.hasOwnProperty(E)&&po(_)},h),h.g={}}ca.prototype.N=function(){ca.aa.N.call(this),fa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=f.JSON.stringify,yo=f.JSON.parse,ha=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function cc(){}cc.prototype.h=null;function uc(h){return h.h||(h.h=h.i())}function fc(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){te.call(this,"d")}C(pr,te);function hc(){te.call(this,"c")}C(hc,te);var Ni={},dc=null;function ts(){return dc=dc||new Et}Ni.La="serverreachability";function vo(h){te.call(this,Ni.La,h)}C(vo,te);function ns(h){const _=ts();nt(_,new vo(_))}Ni.STAT_EVENT="statevent";function Rf(h,_){te.call(this,Ni.STAT_EVENT,h),this.stat=_}C(Rf,te);function mt(h){const _=ts();nt(_,new Rf(_,h))}Ni.Ma="timingevent";function zt(h,_){te.call(this,Ni.Ma,h),this.size=_}C(zt,te);function Nt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},_)}function Xn(){this.g=!0}Xn.prototype.xa=function(){this.g=!1};function mc(h,_,E,P,Y,ne){h.info(function(){if(h.g)if(ne)for(var de="",Ke=ne.split("&"),Ft=0;Ft<Ke.length;Ft++){var Ye=Ke[Ft].split("=");if(1<Ye.length){var Qt=Ye[0];Ye=Ye[1];var Ht=Qt.split("_");de=2<=Ht.length&&Ht[1]=="type"?de+(Qt+"="+Ye+"&"):de+(Qt+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+_+`
`+E+`
`+de})}function ep(h,_,E,P,Y,ne,de){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+_+`
`+E+`
`+ne+" "+de})}function is(h,_,E,P){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+da(h,E)+(P?" "+P:"")})}function Cf(h,_){h.info(function(){return"TIMEOUT: "+_})}Xn.prototype.info=function(){};function da(h,_){if(!h.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var P=E[h];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<Y.length;de++)Y[de]=""}}}}return mi(E)}catch{return _}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mi;function Oi(){}C(Oi,cc),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Mi=new Oi;function Sn(h,_,E,P){this.j=h,this.i=_,this.l=E,this.R=P||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var pc={},_o={};function pi(h,_,E){h.L=1,h.v=va(Un(_)),h.m=E,h.P=!0,yr(h,null)}function yr(h,_){h.F=Date.now(),ma(h),h.A=Un(h.v);var E=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),Ec(E.i,"t",P),h.C=0,E=h.j.J,h.h=new At,h.g=qf(h.j,E?_:null,!h.m),0<h.O&&(h.M=new Jm(b(h.Y,h,h.g),h.O)),_=h.U,E=h.g,P=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ua[0]=Y.toString()),Y=ua);for(var ne=0;ne<Y.length;ne++){var de=es(E,Y[ne],P||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),ns(),mc(h.i,h.u,h.A,h.l,h.R,h.m)}Sn.prototype.ca=function(h){h=h.target;const _=this.M;_&&ei(h)==3?_.j():this.Y(h)},Sn.prototype.Y=function(h){try{if(h==this.g)e:{const Ht=ei(this.g);var _=this.g.Ba();const Ar=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Vf(this.g)))){this.J||Ht!=4||_==7||(_==8||0>=Ar?ns(3):ns(2)),ss(this);var E=this.g.Z();this.X=E;t:if(If(this)){var P=Vf(this.g);h="";var Y=P.length,ne=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ki(this);var de="";break t}this.h.i=new f.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,h+=this.h.i.decode(P[_],{stream:!(ne&&_==Y-1)});P.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,ep(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ft=this.g;if((Ke=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ke)){var Ye=Ke;break t}}Ye=null}if(E=Ye)is(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,E);else{this.o=!1,this.s=3,mt(12),nn(this),ki(this);break e}}if(this.P){E=!0;let rn;for(;!this.J&&this.C<de.length;)if(rn=Df(this,de),rn==_o){Ht==4&&(this.s=4,mt(14),E=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==pc){this.s=4,mt(15),is(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else is(this.i,this.l,rn,null),pa(this,rn);if(If(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||de.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)is(this.i,this.l,de,"[Invalid Chunked Response]"),nn(this),ki(this);else if(0<de.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),xa(Qt),Qt.M=!0,mt(11))}}else is(this.i,this.l,de,null),pa(this,de);Ht==4&&nn(this),this.o&&!this.J&&(Ht==4?zf(this.j,this):(this.o=!1,ma(this)))}else sp(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),nn(this),ki(this)}}}catch{}finally{}};function If(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Df(h,_){var E=h.C,P=_.indexOf(`
`,E);return P==-1?_o:(E=Number(_.substring(E,P)),isNaN(E)?pc:(P+=1,P+E>_.length?_o:(_=_.slice(P,P+E),h.C=P+E,_)))}Sn.prototype.cancel=function(){this.J=!0,nn(this)};function ma(h){h.S=Date.now()+h.I,Pf(h,h.I)}function Pf(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Nt(b(h.ba,h),_)}function ss(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Sn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cf(this.i,this.A),this.L!=2&&(ns(),mt(17)),nn(this),this.s=2,ki(this)):Pf(this,this.S-h)};function ki(h){h.j.G==0||h.J||zf(h.j,h)}function nn(h){ss(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,fa(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function pa(h,_){try{var E=h.j;if(E.G!=0&&(E.g==h||gc(E.h,h))){if(!h.K&&gc(E.h,h)&&E.G==3){try{var P=E.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Po(E),Io(E);else break e;xc(E),mt(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=Nt(b(E.Za,E),6e3));if(1>=Eo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Sr(E,11)}else if((h.K||E.g==h)&&Po(E),!N(_))for(Y=E.Da.g.parse(_),_=0;_<Y.length;_++){let Ye=Y[_];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Qt=Ye[3];Qt!=null&&(E.la=Qt,E.j.info("VER="+E.la));const Ht=Ye[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const Ar=Ye[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(P=1.5*Ar,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const rn=h.g;if(rn){const Fi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var ne=P.h;ne.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(To(ne,ne.h),ne.h=null))}if(P.D){const Cc=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(P.ya=Cc,st(P.I,P.D,Cc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var de=h;if(P.qa=Hf(P,P.J?P.ia:null,P.W),de.K){An(P.h,de);var Ke=de,Ft=P.L;Ft&&(Ke.I=Ft),Ke.B&&(ss(Ke),ma(Ke)),P.g=de}else jf(P);0<E.i.length&&Do(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Sr(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Sr(E,7):Sc(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}ns(4)}catch{}}var Nf=class{constructor(h,_){this.g=h,this.map=_}};function vr(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Eo(h){return h.h?1:h.g?h.g.size:0}function gc(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function To(h,_){h.g?h.g.add(_):h.h=_}function An(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}vr.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.D);return _}return R(h.i)}function tp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],E=h.length,P=0;P<E;P++)_.push(h[P]);return _}_=[],E=0;for(P in h)_[E++]=h[P];return _}function wo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var E=0;E<h;E++)_.push(E);return _}_=[],E=0;for(const P in h)_[E++]=P;return _}}}function vc(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var E=wo(h),P=tp(h),Y=P.length,ne=0;ne<Y;ne++)_.call(void 0,P[ne],E&&E[ne],h)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function np(h,_){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var P=h[E].indexOf("="),Y=null;if(0<=P){var ne=h[E].substring(0,P);Y=h[E].substring(P+1)}else ne=h[E];_(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Mt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mt){this.h=h.h,ya(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var _=h.i,E=new br;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),_r(this,E),this.m=h.m}else h&&(_=String(h).match(ga))?(this.h=!1,ya(this,_[1]||"",!0),this.o=Qn(_[2]||""),this.g=Qn(_[3]||"",!0),as(this,_[4]),this.l=Qn(_[5]||"",!0),_r(this,_[6]||"",!0),this.m=Qn(_[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Mt.prototype.toString=function(){var h=[],_=this.j;_&&h.push(_a(_,_c,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(_a(_,_c,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(_a(E,E.charAt(0)=="/"?ip:bc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",_a(E,So)),h.join("")};function Un(h){return new Mt(h)}function ya(h,_,E){h.j=E?Qn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function _r(h,_,E){_ instanceof br?(h.i=_,Of(h.i,h.h)):(E||(_=_a(_,rp)),h.i=new br(_,h.h))}function st(h,_,E){h.i.set(_,E)}function va(h){return st(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _a(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Mf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _c=/[#\/\?@]/g,bc=/[#\?:]/g,ip=/[#\?]/g,rp=/[#\?@]/g,So=/#/g;function br(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Zn(h){h.g||(h.g=new Map,h.h=0,h.i&&np(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=br.prototype,t.add=function(h,_){Zn(this),this.i=null,h=Vi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function Er(h,_){Zn(h),_=Vi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Tr(h,_){return Zn(h),_=Vi(h,_),h.g.has(_)}t.forEach=function(h,_){Zn(this),this.g.forEach(function(E,P){E.forEach(function(Y){h.call(_,Y,P,this)},this)},this)},t.na=function(){Zn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let P=0;P<_.length;P++){const Y=h[P];for(let ne=0;ne<Y.length;ne++)E.push(_[P])}return E},t.V=function(h){Zn(this);let _=[];if(typeof h=="string")Tr(this,h)&&(_=_.concat(this.g.get(Vi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)_=_.concat(h[E])}return _},t.set=function(h,_){return Zn(this),this.i=null,h=Vi(this,h),Tr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ec(h,_,E){Er(h,_),0<E.length&&(h.i=null,h.g.set(Vi(h,_),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var P=_[E];const ne=encodeURIComponent(String(P)),de=this.V(P);for(P=0;P<de.length;P++){var Y=ne;de[P]!==""&&(Y+="="+encodeURIComponent(String(de[P]))),h.push(Y)}}return this.i=h.join("&")};function Vi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Of(h,_){_&&!h.j&&(Zn(h),h.i=null,h.g.forEach(function(E,P){var Y=P.toLowerCase();P!=Y&&(Er(this,P),Ec(this,Y,E))},h)),h.j=_}function ba(h,_){const E=new Xn;if(f.Image){const P=new Image;P.onload=S(Jn,E,"TestLoadImage: loaded",!0,_,P),P.onerror=S(Jn,E,"TestLoadImage: error",!1,_,P),P.onabort=S(Jn,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=S(Jn,E,"TestLoadImage: timeout",!1,_,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else _(!1)}function gi(h,_){const E=new Xn,P=new AbortController,Y=setTimeout(()=>{P.abort(),Jn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:P.signal}).then(ne=>{clearTimeout(Y),ne.ok?Jn(E,"TestPingServer: ok",!0,_):Jn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Jn(E,"TestPingServer: error",!1,_)})}function Jn(h,_,E,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(E)}catch{}}function Ea(){this.g=new ha}function Li(h,_,E){const P=E||"";try{vc(h,function(Y,ne){let de=Y;m(Y)&&(de=mi(Y)),_.push(P+ne+"="+encodeURIComponent(de))})}catch(Y){throw _.push(P+"type="+encodeURIComponent("_badmap")),Y}}function os(h){this.l=h.Ub||null,this.j=h.eb||!1}C(os,cc),os.prototype.g=function(){return new wr(this.l,this.j)},os.prototype.i=(function(h){return function(){return h}})({});function wr(h,_){Et.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(wr,Et),t=wr.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,ji(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ui(this):ji(this),this.readyState==3&&Tc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ui(this))},t.Qa=function(h){this.g&&(this.response=h,Ui(this))},t.ga=function(){this.g&&Ui(this)};function Ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ji(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function ji(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wc(h){let _="";return ie(h,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function Xt(h,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=wc(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):st(h,_,E))}function et(h){Et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(et,Et);var Ao=/^https?$/i,Ta=["POST","PUT"];t=et.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mi.g(),this.v=this.o?uc(this.o):uc(Mi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){kf(this,ne);return}if(h=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)E.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())E.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ta,_,void 0))||P||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of E)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){kf(this,ne)}};function kf(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,xo(h),Bi(h)}function xo(h){h.A||(h.A=!0,nt(h,"complete"),nt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,nt(this,"complete"),nt(this,"abort"),Bi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ei(h)!=4||h.Z()!=2)){if(h.u&&ei(h)==4)mn(h.Ea,0,h);else if(nt(h,"readystatechange"),ei(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=de===0){var Y=String(h.D).match(ga)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),P=!Ao.test(Y?Y.toLowerCase():"")}E=P}if(E)nt(h,"complete"),nt(h,"success");else{h.m=6;try{var ne=2<ei(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",xo(h)}}finally{Bi(h)}}}}function Bi(h,_){if(h.g){wa(h);const E=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||nt(h,"ready");try{E.onreadystatechange=P}catch{}}}function wa(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),yo(_)}};function Vf(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sp(h){const _={};h=(h.g&&2<=ei(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(N(h[P]))continue;var E=F(h[P]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ne=_[Y]||[];_[Y]=ne,ne.push(E)}M(_,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Co(h){this.Aa=0,this.i=[],this.j=new Xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,h),this.cb=Sa("retryDelaySeedMs",1e4,h),this.Wa=Sa("forwardChannelMaxRetries",2,h),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(h&&h.concurrentRequestLimit),this.Da=new Ea,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Co.prototype,t.la=8,t.G=1,t.connect=function(h,_,E,P){mt(0),this.W=h,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Hf(this,null,this.W),Do(this)};function Sc(h){if(Lf(h),h.G==3){var _=h.U++,E=Un(h.I);if(st(E,"SID",h.K),st(E,"RID",_),st(E,"TYPE","terminate"),Aa(h,E),_=new Sn(h,h.j,_),_.L=2,_.v=va(Un(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=qf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ma(_)}Ff(h)}function Io(h){h.g&&(xa(h),h.g.cancel(),h.g=null)}function Lf(h){Io(h),h.u&&(f.clearTimeout(h.u),h.u=null),Po(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Do(h){if(!bo(h.h)&&!h.s){h.s=!0;var _=h.Ga;re||z(),X||(re(),X=!0),me.add(_,h),h.B=0}}function ap(h,_){return Eo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Nt(b(h.Ga,h,_),Rc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Sn(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=x(ne),U(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Uf(this,Y,_),E=Un(this.I),st(E,"RID",h),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),Aa(this,E),ne&&(this.O?_="headers="+encodeURIComponent(String(wc(ne)))+"&"+_:this.m&&Xt(E,this.m,ne)),To(this.h,Y),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",_),st(E,"SID","null"),Y.T=!0,pi(Y,E,null)):pi(Y,E,_),this.G=2}}else this.G==3&&(h?Ac(this,h):this.i.length==0||bo(this.h)||Ac(this))};function Ac(h,_){var E;_?E=_.l:E=h.U++;const P=Un(h.I);st(P,"SID",h.K),st(P,"RID",E),st(P,"AID",h.T),Aa(h,P),h.m&&h.o&&Xt(P,h.m,h.o),E=new Sn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Uf(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),To(h.h,E),pi(E,P,_)}function Aa(h,_){h.H&&ie(h.H,function(E,P){st(_,P,E)}),h.l&&vc({},function(E,P){st(_,P,E)})}function Uf(h,_,E){E=Math.min(h.i.length,E);var P=h.l?b(h.l.Na,h.l,h):null;e:{var Y=h.i;let ne=-1;for(;;){const de=["count="+E];ne==-1?0<E?(ne=Y[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let Ke=!0;for(let Ft=0;Ft<E;Ft++){let Ye=Y[Ft].g;const Qt=Y[Ft].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Y[Ft].g-100),Ke=!1;else try{Li(Qt,de,"req"+Ye+"_")}catch{P&&P(Qt)}}if(Ke){P=de.join("&");break e}}}return h=h.i.splice(0,E),_.D=h,P}function jf(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;re||z(),X||(re(),X=!0),me.add(_,h),h.v=0}}function xc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Nt(b(h.Fa,h),Rc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Nt(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Io(this),Bf(this))};function xa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Bf(h){h.g=new Sn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Un(h.qa);st(_,"RID","rpc"),st(_,"SID",h.K),st(_,"AID",h.T),st(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&st(_,"TO",h.ja),st(_,"TYPE","xmlhttp"),Aa(h,_),h.m&&h.o&&Xt(_,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=va(Un(_)),E.m=null,E.P=!0,yr(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Io(this),xc(this),mt(19))};function Po(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function zf(h,_){var E=null;if(h.g==_){Po(h),xa(h),h.g=null;var P=2}else if(gc(h.h,_))E=_.D,An(h.h,_),P=1;else return;if(h.G!=0){if(_.o)if(P==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var Y=h.B;P=ts(),nt(P,new zt(P,E)),Do(h)}else jf(h);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(P==1&&ap(h,_)||P==2&&xc(h)))switch(E&&0<E.length&&(_=h.h,_.i=_.i.concat(E)),Y){case 1:Sr(h,5);break;case 4:Sr(h,10);break;case 3:Sr(h,6);break;default:Sr(h,2)}}}function Rc(h,_){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*_}function Sr(h,_){if(h.j.info("Error code "+_),_==2){var E=b(h.fb,h),P=h.Xa;const Y=!P;P=new Mt(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ya(P,"https"),va(P),Y?ba(P.toString(),E):gi(P.toString(),E)}else mt(2);h.G=0,h.l&&h.l.sa(_),Ff(h),Lf(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Ff(h){if(h.G=0,h.ka=[],h.l){const _=yc(h.h);(_.length!=0||h.i.length!=0)&&(A(h.ka,_),A(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function Hf(h,_,E){var P=E instanceof Mt?Un(E):new Mt(E);if(P.g!="")_&&(P.g=_+"."+P.g),as(P,P.s);else{var Y=f.location;P=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new Mt(null);P&&ya(ne,P),_&&(ne.g=_),Y&&as(ne,Y),E&&(ne.l=E),P=ne}return E=h.D,_=h.ya,E&&_&&st(P,E,_),st(P,"VER",h.la),Aa(h,P),P}function qf(h,_,E){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new et(new os({eb:E})):new et(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gf(){}t=Gf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function No(){}No.prototype.g=function(h,_){return new xn(h,_)};function xn(h,_){Et.call(this),this.g=new Co(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!N(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new zi(this)}C(xn,Et),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Sc(this.g)},xn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=mi(h),h=E);_.i.push(new Nf(_.Ya++,h)),_.G==3&&Do(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,xn.aa.N.call(this)};function $f(h){pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C($f,pr);function Kf(){hc.call(this),this.status=1}C(Kf,hc);function zi(h){this.g=h}C(zi,Gf),zi.prototype.ua=function(){nt(this.g,"a")},zi.prototype.ta=function(h){nt(this.g,new $f(h))},zi.prototype.sa=function(h){nt(this.g,new Kf)},zi.prototype.ra=function(){nt(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,bC=function(){return new No},_C=function(){return ts()},vC=Ni,sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,pd=rs,gr.COMPLETE="complete",yC=gr,fc.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Tu=fc,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,gC=et}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore",Xw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new mm("@firebase/firestore");function hl(){return no.logLevel}function pe(t,...e){if(no.logLevel<=qe.DEBUG){const n=e.map(w0);no.debug(`Firestore (${Kl}): ${t}`,...n)}}function $r(t,...e){if(no.logLevel<=qe.ERROR){const n=e.map(w0);no.error(`Firestore (${Kl}): ${t}`,...n)}}function Pl(t,...e){if(no.logLevel<=qe.WARN){const n=e.map(w0);no.warn(`Firestore (${Kl}): ${t}`,...n)}}function w0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,EC(t,i,n)}function EC(t,e,n){let i=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw $r(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||EC(e,a,i)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class PL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NL{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xa,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},f=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xa)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new TC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class ML{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ML(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=VL(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ge(t,e){return t<e?-1:t>e?1:0}function av(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return dy(a)===dy(l)?Ge(a,l):dy(a)?1:-1}return Ge(t.length,e.length)}const LL=55296,UL=57343;function dy(t){const e=t.charCodeAt(0);return e>=LL&&e<=UL}function Nl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__name__";class Yi{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&De(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Yi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ge(e.length,n.length)}static compareSegments(e,n){const i=Yi.isNumericId(e),a=Yi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class ht extends Yi{construct(e,n,i){return new ht(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const jL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Yi{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return jL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zw}static keyField(){return new un([Zw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ht.fromString(e))}static fromName(e){return new xe(ht.fromString(e).popFirst(5))}static empty(){return new xe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BL(t,e,n,i){if(e===!0&&i===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jw(t){if(!xe.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eS(t){if(xe.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function A0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A0(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hf(t,e){if(!SC(t))throw new be(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new be(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=-62135596800,nS=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*nS);return new dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tS)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nS}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hf(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:jt("string",dt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new dt(0,0))}static max(){return new Me(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function zL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new $s(a,xe.empty(),e)}function FL(t){return new $s(t.readTime,t.key,Hu)}class $s{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $s(Me.min(),xe.empty(),Hu)}static max(){return new $s(Me.max(),xe.empty(),Hu)}}function HL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==qL)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(d=>i(d)))})),c=!0,l===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((a=>a?ce.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++f,f===l&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new ce(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function $L(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-1;function vm(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="";function YL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iS(e)),e=WL(t.get(n),e);return iS(e)}function WL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case AC:n+="";break;default:n+=l}}return n}function iS(t){return t+AC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sS(this.data.getIterator())}getIteratorFrom(e){return new sS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class sS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Wt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new RC("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const XL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=XL.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="server_timestamp",IC="__type__",DC="__previous_value__",PC="__local_write_time__";function R0(t){return(t?.mapValue?.fields||{})[IC]?.stringValue===CC}function _m(t){const e=t.mapValue.fields[DC];return R0(e)?_m(e):e}function qu(t){const e=Ks(t.mapValue.fields[PC].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,i,a,l,c,f,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const Ud="(default)";class Gu{constructor(e,n){this.projectId=e,this.database=n||Ud}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__type__",ZL="__max__",Qh={mapValue:{}},MC="__vector__",jd="value";function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:e4(t)?9007199254740991:JL(t)?10:11:De(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ks(a.timestampValue),f=Ks(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ys(a.bytesValue).isEqual(Ys(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),f=It(l.doubleValue);return c===f?Ld(c)===Ld(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Nl(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(rS(c)!==rS(f))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(f[d]===void 0||!lr(c[d],f[d])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function $u(t,e){return(t.values||[]).find((n=>lr(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=Ws(t),i=Ws(e);if(n!==i)return Ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=It(l.integerValue||l.doubleValue),d=It(c.integerValue||c.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return aS(t.timestampValue,e.timestampValue);case 4:return aS(qu(t),qu(e));case 5:return av(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ys(l),d=Ys(c);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),d=c.split("/");for(let m=0;m<f.length&&m<d.length;m++){const g=Ge(f[m],d[m]);if(g!==0)return g}return Ge(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ge(It(l.latitude),It(c.latitude));return f!==0?f:Ge(It(l.longitude),It(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return oS(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},d=c.fields||{},m=f[jd]?.arrayValue,g=d[jd]?.arrayValue,v=Ge(m?.values?.length||0,g?.values?.length||0);return v!==0?v:oS(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Qh.mapValue&&c===Qh.mapValue)return 0;if(l===Qh.mapValue)return 1;if(c===Qh.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const b=av(d[v],g[v]);if(b!==0)return b;const S=Ml(f[d[v]],m[g[v]]);if(S!==0)return S}return Ge(d.length,g.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function aS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Ks(t),i=Ks(e),a=Ge(n.seconds,i.seconds);return a!==0?a:Ge(n.nanos,i.nanos)}function oS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Ml(n[a],i[a]);if(l)return l}return Ge(n.length,i.length)}function Ol(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ks(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=ov(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ov(n.fields[c])}`;return a+"}"})(t.mapValue):De(61005,{value:t})}function gd(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_m(t);return e?16+gd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+gd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return na(i.fields,((l,c)=>{a+=l.length+gd(c)})),a})(t.mapValue);default:throw De(13486,{value:t})}}function lv(t){return!!t&&"integerValue"in t}function C0(t){return!!t&&"arrayValue"in t}function lS(t){return!!t&&"nullValue"in t}function cS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yd(t){return!!t&&"mapValue"in t}function JL(t){return(t?.mapValue?.fields||{})[NC]?.stringValue===MC}function Pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Pu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return{...t}}function e4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=Pu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];yd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){na(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Mn(Pu(this.value))}}function OC(t){const e=[];return na(t.fields,((n,i)=>{const a=new un([n]);if(yd(i)){const l=OC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new _n(e,0,Me.min(),Me.min(),Me.min(),Mn.empty(),0)}static newFoundDocument(e,n,i,a){return new _n(e,1,n,Me.min(),i,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Me.min(),Me.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Me.min(),Me.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function uS(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(c.referenceValue),n.key):i=Ml(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function fS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function t4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class Kt extends kC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new i4(e,n,i):n==="array-contains"?new a4(e,i):n==="in"?new o4(e,i):n==="not-in"?new l4(e,i):n==="array-contains-any"?new c4(e,i):new Kt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new r4(e,i):new s4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends kC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return VC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VC(t){return t.op==="and"}function LC(t){return n4(t)&&VC(t)}function n4(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function cv(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(LC(t))return t.filters.map((e=>cv(e))).join(",");{const e=t.filters.map((n=>cv(n))).join(",");return`${t.op}(${e})`}}function UC(t,e){return t instanceof Kt?(function(i,a){return a instanceof Kt&&i.op===a.op&&i.field.isEqual(a.field)&&lr(i.value,a.value)})(t,e):t instanceof cr?(function(i,a){return a instanceof cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&UC(c,a.filters[f])),!0):!1})(t,e):void De(19439)}function jC(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`})(t):t instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(jC).join(" ,")+"}"})(t):"Filter"}class i4 extends Kt{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class r4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BC(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class a4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C0(n)&&$u(n.arrayValue,this.value)}}class o4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class l4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$u(this.value.arrayValue,n)}}class c4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>$u(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function hS(t,e=null,n=[],i=[],a=null,l=null,c=null){return new u4(t,e,n,i,a,l,c)}function I0(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>cv(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ol(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ol(i))).join(",")),e.Te=n}return e.Te}function D0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fS(t.startAt,e.startAt)&&fS(t.endAt,e.endAt)}function uv(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f4(t,e,n,i,a,l,c,f){return new bm(t,e,n,i,a,l,c,f)}function P0(t){return new bm(t)}function dS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h4(t){return t.collectionGroup!==null}function Nu(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Wt(un.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new zd(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new zd(un.keyField(),i))}return e.Ie}function Qi(t){const e=Oe(t);return e.Ee||(e.Ee=d4(e,Nu(t))),e.Ee}function d4(t,e){if(t.limitType==="F")return hS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new zd(a.field,l)}));const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return hS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function fv(t,e,n){return new bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Em(t,e){return D0(Qi(t),Qi(e))&&t.limitType===e.limitType}function zC(t){return`${I0(Qi(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>jC(a))).join(", ")}]`),vm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Ol(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Ol(a))).join(",")),`Target(${i})`})(Qi(t))}; limitType=${t.limitType})`}function Tm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Nu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,d){const m=uS(c,f,d);return c.inclusive?m<=0:m<0})(i.startAt,Nu(i),a)||i.endAt&&!(function(c,f,d){const m=uS(c,f,d);return c.inclusive?m>=0:m>0})(i.endAt,Nu(i),a))})(t,e)}function m4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let i=!1;for(const a of Nu(t)){const l=p4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function p4(t,e,n){const i=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,c,f){const d=c.data.field(l),m=f.data.field(l);return d!==null&&m!==null?Ml(d,m):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return xC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new bt(xe.comparator);function Kr(){return g4}const HC=new bt(xe.comparator);function wu(...t){let e=HC;for(const n of t)e=e.insert(n.key,n);return e}function qC(t){let e=HC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ka(){return Mu()}function GC(){return Mu()}function Mu(){return new fo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y4=new bt(xe.comparator),v4=new Wt(xe.comparator);function $e(...t){let e=v4;for(const n of t)e=e.add(n);return e}const _4=new Wt(Ge);function b4(){return _4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function $C(t){return{integerValue:""+t}}function E4(t,e){return KL(e)?$C(e):N0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this._=void 0}}function T4(t,e,n){return t instanceof Ku?(function(a,l){const c={fields:{[IC]:{stringValue:CC},[PC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&R0(l)&&(l=_m(l)),l&&(c.fields[DC]=l),{mapValue:c}})(n,e):t instanceof Yu?YC(t,e):t instanceof Wu?WC(t,e):(function(a,l){const c=KC(a,l),f=mS(c)+mS(a.Ae);return lv(c)&&lv(a.Ae)?$C(f):N0(a.serializer,f)})(t,e)}function w4(t,e,n){return t instanceof Yu?YC(t,e):t instanceof Wu?WC(t,e):n}function KC(t,e){return t instanceof Fd?(function(i){return lv(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ku extends wm{}class Yu extends wm{constructor(e){super(),this.elements=e}}function YC(t,e){const n=XC(e);for(const i of t.elements)n.some((a=>lr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Wu extends wm{constructor(e){super(),this.elements=e}}function WC(t,e){let n=XC(e);for(const i of t.elements)n=n.filter((a=>!lr(a,i)));return{arrayValue:{values:n}}}class Fd extends wm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mS(t){return It(t.integerValue||t.doubleValue)}function XC(t){return C0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.field=e,this.transform=n}}function A4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Yu&&a instanceof Yu||i instanceof Wu&&a instanceof Wu?Nl(i.elements,a.elements,lr):i instanceof Fd&&a instanceof Fd?lr(i.Ae,a.Ae):i instanceof Ku&&a instanceof Ku})(t.transform,e.transform)}class x4{constructor(e,n){this.version=e,this.transformResults=n}}class Si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sm{}function QC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M0(t.key,Si.none()):new df(t.key,t.data,Si.none());{const n=t.data,i=Mn.empty();let a=new Wt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ia(t.key,i,new Kn(a.toArray()),Si.none())}}function R4(t,e,n){t instanceof df?(function(a,l,c){const f=a.value.clone(),d=gS(a.fieldTransforms,l,c.transformResults);f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,l,c){if(!vd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=gS(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(ZC(a)),d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ou(t,e,n,i){return t instanceof df?(function(l,c,f,d){if(!vd(l.precondition,c))return f;const m=l.value.clone(),g=yS(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof ia?(function(l,c,f,d){if(!vd(l.precondition,c))return f;const m=yS(l.fieldTransforms,d,c),g=c.data;return g.setAll(ZC(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,c,f){return vd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function C4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=KC(i.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(i.field,l))}return n||null}function pS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Nl(i,a,((l,c)=>A4(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class df extends Sm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Sm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ZC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function gS(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,w4(c,f,n[a]))}return i}function yS(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,T4(l,c,e))}return i}class M0 extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I4 extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&R4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ou(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ou(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=GC();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const d=QC(c,f);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,((n,i)=>pS(n,i)))&&Nl(this.baseMutations,e.baseMutations,((n,i)=>pS(n,i)))}}class O0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return y4})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new O0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Xe;function M4(t){switch(t){case ue.OK:return De(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function JC(t){if(t===void 0)return $r("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Vt.OK:return ue.OK;case Vt.CANCELLED:return ue.CANCELLED;case Vt.UNKNOWN:return ue.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ue.INTERNAL;case Vt.UNAVAILABLE:return ue.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ue.NOT_FOUND;case Vt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Vt.ABORTED:return ue.ABORTED;case Vt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Vt.DATA_LOSS:return ue.DATA_LOSS;default:return De(39323,{code:t})}}(Xe=Vt||(Vt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new zs([4294967295,4294967295],0);function vS(t){const e=O4().encode(t),n=new pC;return n.update(e),new Uint8Array(n.digest())}function _S(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zs([n,i],0),new zs([a,l],0)]}class k0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(i<0)throw new Su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zs.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(zs.fromNumber(i)));return a.compare(k4)===1&&(a=new zs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vS(e),[i,a]=_S(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new k0(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=vS(e),[i,a]=_S(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Am(Me.min(),a,new bt(Ge),Kr(),$e())}}class mf{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new mf(i,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class e1{constructor(e,n){this.targetId=e,this.Ce=n}}class t1{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class bS{constructor(){this.ve=0,this.Fe=ES(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),i=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new mf(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=ES()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Kr(),this.Je=Zh(),this.He=Zh(),this.Ye=new bt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(uv(l))if(i===0){const c=new xe(l.path);this.et(n,c,_n.newNoDocument(c,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),d=f?this.ct(f,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ys(i).toUint8Array()}catch(d){if(d instanceof RC)return Pl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new k0(c,a,l)}catch(d){return Pl(d instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&uv(f.target)){const d=new xe(f.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,_n.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=$e();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Am(e,n,this.Ye,this.je,i);return this.je=Kr(),this.Je=Zh(),this.He=Zh(),this.Ye=new bt(Ge),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zh(){return new bt(xe.comparator)}function ES(){return new bt(xe.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},U4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j4={and:"AND",or:"OR"};class B4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hv(t,e){return t.useProto3Json||vm(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z4(t,e){return Hd(t,e.toTimestamp())}function Zi(t){return tt(!!t,49232),Me.fromTimestamp((function(n){const i=Ks(n);return new dt(i.seconds,i.nanos)})(t))}function V0(t,e){return dv(t,e).canonicalString()}function dv(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function i1(t){const e=ht.fromString(t);return tt(l1(e),10190,{key:e.toString()}),e}function mv(t,e){return V0(t.databaseId,e.path)}function my(t,e){const n=i1(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(s1(n))}function r1(t,e){return V0(t.databaseId,e)}function F4(t){const e=i1(t);return e.length===4?ht.emptyPath():s1(e)}function pv(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s1(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TS(t,e,n){return{name:mv(t,e),fields:n.value.mapValue.fields}}function H4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(tt(g===void 0||typeof g=="string",58123),fn.fromBase64String(g||"")):(tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),fn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const g=m.code===void 0?ue.UNKNOWN:JC(m.code);return new be(g,m.message||"")})(c);n=new t1(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=my(t,i.document.name),l=Zi(i.document.updateTime),c=i.document.createTime?Zi(i.document.createTime):Me.min(),f=new Mn({mapValue:{fields:i.document.fields}}),d=_n.newFoundDocument(a,l,c,f),m=i.targetIds||[],g=i.removedTargetIds||[];n=new _d(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=my(t,i.document),l=i.readTime?Zi(i.readTime):Me.min(),c=_n.newNoDocument(a,l),f=i.removedTargetIds||[];n=new _d([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=my(t,i.document),l=i.removedTargetIds||[];n=new _d([],l,a,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new N4(a,l),f=i.targetId;n=new e1(f,c)}}return n}function q4(t,e){let n;if(e instanceof df)n={update:TS(t,e.key,e.value)};else if(e instanceof M0)n={delete:mv(t,e.key)};else if(e instanceof ia)n={update:TS(t,e.key,e.data),updateMask:J4(e.fieldMask)};else{if(!(e instanceof I4))return De(16599,{Vt:e.type});n={verify:mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw De(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(t,e.precondition)),n}function G4(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(Me.min())&&(c=Zi(l)),new x4(c,a.transformResults||[])})(n,e)))):[]}function $4(t,e){return{documents:[r1(t,e.path)]}}function K4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=r1(t,a);const l=(function(m){if(m.length!==0)return o1(cr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(b){return{field:ml(b.field),direction:X4(b.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=hv(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function Y4(t){let e=F4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const b=a1(v);return b instanceof cr&&LC(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(C){return new zd(pl(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let b;return b=typeof v=="object"?v.value:v,vm(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(v){const b=!!v.before,S=v.values||[];return new Bd(S,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const b=!v.before,S=v.values||[];return new Bd(S,b)})(n.endAt)),f4(e,a,c,l,f,"F",d,m)}function W4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=pl(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=pl(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pl(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=pl(n.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(pl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((i=>a1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function X4(t){return L4[t]}function Q4(t){return U4[t]}function Z4(t){return j4[t]}function ml(t){return{fieldPath:t.canonicalString()}}function pl(t){return un.fromServerFormat(t.fieldPath)}function o1(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(cS(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(lS(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cS(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(lS(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:Q4(n.op),value:n.value}}})(t):t instanceof cr?(function(n){const i=n.getFilters().map((a=>o1(a)));return i.length===1?i[0]:{compositeFilter:{op:Z4(n.op),filters:i}}})(t):De(54877,{filter:t})}function J4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function l1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,i,a,l=Me.min(),c=Me.min(),f=fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.yt=e}}function tU(t){const e=Y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.Cn=new iU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve($s.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class iU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Wt(ht.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Wt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(c1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kl(0)}static cr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="LruGarbageCollector",rU=1048576;function AS([t,e],[n,i]){const a=Ge(t,n);return a===0?Ge(e,i):a}class sU{constructor(e){this.Ir=e,this.buffer=new Wt(AS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();AS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(SS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?pe(SS,"Ignoring IndexedDB error during garbage collection: ",n):await Yl(n)}await this.Vr(3e5)}))}}class oU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(ym.ce);const i=new sU(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(wS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,f,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),hl()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function lU(t,e){return new oU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.changes=new fo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Ou(i.mutation,a,Kn.empty(),dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,$e()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=$e()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=wu();return l.forEach(((f,d)=>{c=c.insert(f,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,$e())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,i,a){let l=Kr();const c=Mu(),f=(function(){return Mu()})();return n.forEach(((d,m)=>{const g=i.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof ia)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Ou(g.mutation,m,g.mutation.getFieldMask(),dt.now())):c.set(m.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>f.set(m,new uU(g,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Mu();let a=new bt(((c,f)=>c-f)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=i.get(d)||Kn.empty();g=f.applyToLocalView(m,g),i.set(d,g);const v=(a.get(f.batchId)||$e()).add(d);a=a.insert(f.batchId,v)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,g=d.value,v=GC();g.forEach((b=>{if(!l.has(b)){const S=QC(n.get(b),i.get(b));S!==null&&v.set(b,S),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ce.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ce.resolve(Ka());let f=Hu,d=l;return c.next((m=>ce.forEach(m,((g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(g)?ce.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{d=d.insert(g,b)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,$e()))).next((g=>({batchId:f,changes:qC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((i=>{let a=wu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(e,l).next((f=>ce.forEach(f,(d=>{const m=(function(v,b){return new bm(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((g=>{g.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,_n.newInvalidDocument(g)))}));let f=wu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Ou(g.mutation,m,Kn.empty(),dt.now()),Tm(n,m)&&(f=f.insert(d,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:tU(a.bundledQuery),readTime:Zi(a.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.overlays=new bt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ka();return ce.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const a=Ka(),l=n.length+1,c=new xe(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=l.get(m.largestBatchId);g===null&&(g=Ka(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Ka(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=a)););return ce.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new P4(n,i));let l=this.qr.get(n);l===void 0&&(l=$e(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Qr=new Wt(tn.$r),this.Ur=new Wt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new xe(new ht([])),i=new tn(n,e),a=new tn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ht([])),i=new tn(n,e),a=new tn(n,e+1);let l=$e();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new tn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(tn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new D4(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new tn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?x0:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(Ge);return n.forEach((a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const c=new tn(new xe(l),0);let f=new Wt(Ge);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(d.Yr)),!0)}),c),ce.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(n.mutations,(a=>{const l=new tn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new tn(n,0),a=this.Zr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.ri=e,this.docs=(function(){return new bt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let i=Kr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Kr();const c=n.path,f=new xe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||HL(FL(g),i)<=0||(a.has(g.key)||Tm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,i,a){De(9500)}ii(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new yU(this)}getSize(e){return ce.resolve(this.size)}}class yU extends cU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.persistence=e,this.si=new fo((n=>I0(n)),D0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new L0,this.targetCount=0,this.ai=kl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new mU,this.referenceDelegate=e(this),this.Pi=new vU(this),this.indexManager=new nU,this.remoteDocumentCache=(function(a){return new gU(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new eU(n),this.Ii=new hU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new pU(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const a=new _U(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ce.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class _U extends GL{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ri=new L0,this.Vi=null}static mi(e){return new U0(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(i=>{const a=xe.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qd{constructor(e,n){this.persistence=e,this.pi=new fo((i=>YL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=lU(this,n)}static mi(e,n){return new qd(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ce.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gd(e.data.value)),n}br(e,n,i){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=$e(),a=$e();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new j0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H2()?8:$L(En())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new bU;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(hl()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(hl()<=qe.DEBUG&&pe("QueryEngine","Query:",dl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(hl()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ce.resolve())}ys(e,n){if(dS(n))return ce.resolve(null);let i=Qi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fv(n,null,"F"),i=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=$e(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.Ds(n,f);return this.Cs(n,m,c,d.readTime)?this.ys(e,fv(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,i,a){return dS(n)||a.isEqual(Me.min())?ce.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?ce.resolve(null):(hl()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(n)),this.vs(e,c,n,zL(a,Hu)).next((f=>f)))}))}Ds(e,n){let i=new Wt(FC(e));return n.forEach(((a,l)=>{Tm(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return hl()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ps.getDocumentsMatchingQuery(e,n,$s.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LocalStore",TU=3e8;class wU{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new bt(Ge),this.xs=new fo((l=>I0(l)),D0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SU(t,e,n,i){return new wU(t,e,n,i)}async function f1(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let d=$e();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){f.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function AU(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,m,g){const v=m.batch,b=v.keys();let S=ce.resolve();return b.forEach((C=>{S=S.next((()=>g.getEntry(d,C))).next((R=>{const A=m.docVersions.get(C);tt(A!==null,48541),R.version.compareTo(A)<0&&(v.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),g.addEntry(R)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(d,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let d=$e();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function h1(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xU(t,e){const n=Oe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((g,v)=>{const b=a.get(v);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,g.addedDocuments,v))));let S=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),a=a.insert(v,S),(function(R,A,O){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=TU?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,S,g)&&f.push(n.Pi.updateTargetData(l,S))}));let d=Kr(),m=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(RU(l,c,e.documentUpdates).next((g=>{d=g.ks,m=g.qs}))),!i.isEqual(Me.min())){const g=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(g)}return ce.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function RU(t,e,n){let i=$e(),a=$e();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Kr();return n.forEach(((f,d)=>{const m=l.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(f,d.readTime),c=c.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(f,d)):pe(B0,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function CU(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=x0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function IU(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ce.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Us(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function gv(t,e,n){const i=Oe(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Wl(c))throw c;pe(B0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function xS(t,e,n){const i=Oe(t);let a=Me.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const v=Oe(d),b=v.xs.get(g);return b!==void 0?ce.resolve(v.Ms.get(b)):v.Pi.getTargetData(m,g)})(i,c,Qi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?l:$e()))).next((f=>(DU(i,m4(e),f),{documents:f,Qs:l})))))}function DU(t,e,n){let i=t.Os.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class RS{constructor(){this.activeTargetIds=b4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PU{constructor(){this.Mo=new RS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="ConnectivityMonitor";class IS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(CS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(CS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function yv(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",MU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Ud?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=yv(),f=this.zo(e,n.toUriEncodedString());pe(py,`Sending RPC '${e}' ${c}:`,f,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:m}=new URL(f),g=Gl(m);return this.Jo(e,f,d,i,g).then((v=>(pe(py,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Pl(py,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",i),v}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=MU[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class VU extends OU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=yv();return new Promise(((f,d)=>{const m=new gC;m.setWithCredentials(!0),m.listenOnce(yC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case pd.NO_ERROR:const v=m.getResponseJson();pe(yn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case pd.TIMEOUT:pe(yn,`RPC '${e}' ${c} timed out`),d(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const b=m.getStatus();if(pe(yn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S?.error;if(C&&C.status&&C.message){const R=(function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(N)>=0?N:ue.UNKNOWN})(C.status);d(new be(R,C.message))}else d(new be(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new be(ue.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(yn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);pe(yn,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=yv(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bC(),f=_C(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=l.join("");pe(yn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,S=!1;const C=new kU({Yo:A=>{S?pe(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(b||(pe(yn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),pe(yn,`RPC '${e}' stream ${a} sending:`,A),v.send(A))},Zo:()=>v.close()}),R=(A,O,N)=>{A.listen(O,(V=>{try{N(V)}catch($){setTimeout((()=>{throw $}),0)}}))};return R(v,Tu.EventType.OPEN,(()=>{S||(pe(yn,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),R(v,Tu.EventType.CLOSE,(()=>{S||(S=!0,pe(yn,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(v))})),R(v,Tu.EventType.ERROR,(A=>{S||(S=!0,Pl(yn,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),C.a_(new be(ue.UNAVAILABLE,"The operation could not be completed")))})),R(v,Tu.EventType.MESSAGE,(A=>{if(!S){const O=A.data[0];tt(!!O,16349);const N=O,V=N?.error||N[0]?.error;if(V){pe(yn,`RPC '${e}' stream ${a} received error:`,V);const $=V.status;let q=(function(x){const k=Vt[x];if(k!==void 0)return JC(k)})($),ie=V.message;q===void 0&&(q=ue.INTERNAL,ie="Unknown error status: "+$+" with message "+V.message),S=!0,C.a_(new be(q,ie)),v.close()}else pe(yn,`RPC '${e}' stream ${a} received:`,O),C.u_(O)}})),R(f,vC.STAT_EVENT,(A=>{A.stat===sv.PROXY?pe(yn,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===sv.NOPROXY&&pe(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){return new B4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="PersistentStream";class m1{constructor(e,n,i,a,l,c,f,d){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new be(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(DS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(DS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LU extends m1{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Zi(c.readTime):Me.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=pv(this.serializer),n.addTarget=(function(l,c){let f;const d=c.target;if(f=uv(d)?{documents:$4(l,d)}:{query:K4(l,d).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=n1(l,c.resumeToken);const m=hv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=Hd(l,c.snapshotVersion.toTimestamp());const m=hv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=W4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=pv(this.serializer),n.removeTarget=e,this.q_(n)}}class UU extends m1{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G4(e.writeResults,e.commitTime),i=Zi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=pv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>q4(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{}class BU extends jU{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,dv(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ue.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,dv(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($r(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class FU{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{ho(this)&&(pe(io,"Restarting streams for network reachability change."),await(async function(d){const m=Oe(d);m.Ea.add(4),await pf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Rm(m)})(this))}))})),this.Ra=new zU(i,a)}}async function Rm(t){if(ho(t))for(const e of t.da)await e(!0)}async function pf(t){for(const e of t.da)await e(!1)}function p1(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),q0(n)?H0(n):Xl(n).O_()&&F0(n,e))}function z0(t,e){const n=Oe(t),i=Xl(n);n.Ia.delete(e),i.O_()&&g1(n,e),n.Ia.size===0&&(i.O_()?i.L_():ho(n)&&n.Ra.set("Unknown"))}function F0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).Y_(e)}function g1(t,e){t.Va.Ue(e),Xl(t).Z_(e)}function H0(t){t.Va=new V4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.Ra.ua()}function q0(t){return ho(t)&&!Xl(t).x_()&&t.Ia.size>0}function ho(t){return Oe(t).Ea.size===0}function y1(t){t.Va=void 0}async function HU(t){t.Ra.set("Online")}async function qU(t){t.Ia.forEach(((e,n)=>{F0(t,e)}))}async function GU(t,e){y1(t),q0(t)?(t.Ra.ha(e),H0(t)):t.Ra.set("Unknown")}async function $U(t,e,n){if(t.Ra.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){pe(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gd(t,i)}else if(e instanceof _d?t.Va.Ze(e):e instanceof e1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const i=await h1(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),f.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(fn.EMPTY_BYTE_STRING,g.snapshotVersion)),g1(l,d);const v=new Us(g.target,d,m,g.sequenceNumber);F0(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){pe(io,"Failed to raise snapshot:",i),await Gd(t,i)}}async function Gd(t,e,n){if(!Wl(e))throw e;t.Ea.add(1),await pf(t),t.Ra.set("Offline"),n||(n=()=>h1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rm(t)}))}function v1(t,e){return e().catch((n=>Gd(t,n,e)))}async function Cm(t){const e=Oe(t),n=Xs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x0;for(;KU(e);)try{const a=await CU(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,YU(e,a)}catch(a){await Gd(e,a)}_1(e)&&b1(e)}function KU(t){return ho(t)&&t.Ta.length<10}function YU(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _1(t){return ho(t)&&!Xs(t).x_()&&t.Ta.length>0}function b1(t){Xs(t).start()}async function WU(t){Xs(t).ra()}async function XU(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function QU(t,e,n){const i=t.Ta.shift(),a=O0.from(i,e,n);await v1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cm(t)}async function ZU(t,e){e&&Xs(t).X_&&await(async function(i,a){if((function(c){return M4(c)&&c!==ue.ABORTED})(a.code)){const l=i.Ta.shift();Xs(i).B_(),await v1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cm(i)}})(t,e),_1(t)&&b1(t)}async function PS(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe(io,"RemoteStore received new credentials");const i=ho(n);n.Ea.add(3),await pf(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rm(n)}async function JU(t,e){const n=Oe(t);e?(n.Ea.delete(2),await Rm(n)):e||(n.Ea.add(2),await pf(n),n.Ra.set("Unknown"))}function Xl(t){return t.ma||(t.ma=(function(n,i,a){const l=Oe(n);return l.sa(),new LU(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:HU.bind(null,t),t_:qU.bind(null,t),r_:GU.bind(null,t),H_:$U.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),q0(t)?H0(t):t.Ra.set("Unknown")):(await t.ma.stop(),y1(t))}))),t.ma}function Xs(t){return t.fa||(t.fa=(function(n,i,a){const l=Oe(n);return l.sa(),new UU(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WU.bind(null,t),r_:ZU.bind(null,t),ta:XU.bind(null,t),na:QU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cm(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new G0(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(t,e){if($r("AsyncQueue",`${e}: ${t}`),Wl(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=wu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new wl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.ga=new bt(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Vl{constructor(e,n,i,a,l,c,f,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Vl(e,n,wl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class t6{constructor(){this.queries=MS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Oe(n),l=a.queries;a.queries=MS(),l.forEach(((c,f)=>{for(const d of f.Sa)d.onError(i)}))})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function MS(){return new fo((t=>zC(t)),Em)}async function n6(t,e){const n=Oe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new e6,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=$0(c,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&K0(n)}async function i6(t,e){const n=Oe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function r6(t,e){const n=Oe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&K0(n)}function s6(t,e,n){const i=Oe(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function K0(t){t.Ca.forEach((e=>{e.next()}))}var vv,OS;(OS=vv||(vv={})).Ma="default",OS.Cache="cache";class a6{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.key=e}}class T1{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=FC(e),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new NS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const b=a.get(g),S=Tm(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;b&&S?b.data.isEqual(S.data)?C!==R&&(i.track({type:3,doc:S}),A=!0):this.su(b,S)||(i.track({type:2,doc:S}),A=!0,(d&&this.eu(S,d)>0||m&&this.eu(S,m)<0)&&(f=!0)):!b&&S?(i.track({type:0,doc:S}),A=!0):b&&!S&&(i.track({type:1,doc:b}),A=!0,(d||m)&&(f=!0)),A&&(S?(c=c.add(S),l=R?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(S,C){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:A})}};return R(S)-R(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,m=d!==this.Za;return this.Za=d,c.length!==0||m?{snapshot:new Vl(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new T1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new E1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y0="SyncEngine";class l6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class c6{constructor(e){this.key=e,this.hu=!1}}class u6{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new fo((f=>zC(f)),Em),this.Iu=new Map,this.Eu=new Set,this.du=new bt(xe.comparator),this.Au=new Map,this.Ru=new L0,this.Vu={},this.mu=new Map,this.fu=kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f6(t,e,n=!0){const i=C1(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await w1(i,e,n,!0),a}async function h6(t,e){const n=C1(t);await w1(n,e,!0,!1)}async function w1(t,e,n,i){const a=await IU(t.localStore,Qi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await d6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&p1(t.remoteStore,a),f}async function d6(t,e,n,i,a){t.pu=(v,b,S)=>(async function(R,A,O,N){let V=A.view.ru(O);V.Cs&&(V=await xS(R.localStore,A.query,!1).then((({documents:M})=>A.view.ru(M,V))));const $=N&&N.targetChanges.get(A.targetId),q=N&&N.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(V,R.isPrimaryClient,$,q);return VS(R,A.targetId,ie.au),ie.snapshot})(t,v,b,S);const l=await xS(t.localStore,e,!0),c=new o6(e,l.Qs),f=c.ru(l.documents),d=mf.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(f,t.isPrimaryClient,d);VS(t,n,m.au);const g=new l6(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function m6(t,e,n){const i=Oe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Em(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await gv(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&z0(i.remoteStore,a.targetId),_v(i,a.targetId)})).catch(Yl)):(_v(i,a.targetId),await gv(i.localStore,a.targetId,!0))}async function p6(t,e){const n=Oe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),z0(n.remoteStore,i.targetId))}async function g6(t,e,n){const i=w6(t);try{const a=await(function(c,f){const d=Oe(c),m=dt.now(),g=f.reduce(((S,C)=>S.add(C.key)),$e());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=Kr(),R=$e();return d.Ns.getEntries(S,g).next((A=>{C=A,C.forEach(((O,N)=>{N.isValidDocument()||(R=R.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,C))).next((A=>{v=A;const O=[];for(const N of f){const V=C4(N,v.get(N.key).overlayedDocument);V!=null&&O.push(new ia(N.key,V,OC(V.value.mapValue),Si.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,O,f)})).next((A=>{b=A;const O=A.applyToLocalDocumentSet(v,R);return d.documentOverlayCache.saveOverlays(S,A.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:qC(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,d){let m=c.Vu[c.currentUser.toKey()];m||(m=new bt(Ge)),m=m.insert(f,d),c.Vu[c.currentUser.toKey()]=m})(i,a.batchId,n),await gf(i,a.changes),await Cm(i.remoteStore)}catch(a){const l=$0(a,"Failed to persist write");n.reject(l)}}async function S1(t,e){const n=Oe(t);try{const i=await xU(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await gf(n,i,e)}catch(i){await Yl(i)}}function kS(t,e,n){const i=Oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const d=Oe(c);d.onlineState=f;let m=!1;d.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(f)&&(m=!0)})),m&&K0(d)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function y6(t,e,n){const i=Oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new bt(xe.comparator);c=c.insert(l,_n.newNoDocument(l,Me.min()));const f=$e().add(l),d=new Am(Me.min(),new Map,new bt(Ge),c,f);await S1(i,d),i.du=i.du.remove(l),i.Au.delete(e),W0(i)}else await gv(i.localStore,e,!1).then((()=>_v(i,e,n))).catch(Yl)}async function v6(t,e){const n=Oe(t),i=e.batch.batchId;try{const a=await AU(n.localStore,e);x1(n,i,null),A1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gf(n,a)}catch(a){await Yl(a)}}async function _6(t,e,n){const i=Oe(t);try{const a=await(function(c,f){const d=Oe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,f).next((v=>(tt(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(i.localStore,e);x1(i,e,n),A1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await gf(i,a)}catch(a){await Yl(a)}}function A1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function x1(t,e,n){const i=Oe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||R1(t,i)}))}function R1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(z0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W0(t))}function VS(t,e,n){for(const i of n)i instanceof E1?(t.Ru.addReference(i.key,e),b6(t,i)):i instanceof T1?(pe(Y0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||R1(t,i.key)):De(19791,{wu:i})}function b6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(pe(Y0,"New document in limbo: "+n),t.Eu.add(i),W0(t))}function W0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ht.fromString(e)),i=t.fu.next();t.Au.set(i,new c6(n)),t.du=t.du.insert(n,i),p1(t.remoteStore,new Us(Qi(P0(n.path)),i,"TargetPurposeLimboResolution",ym.ce))}}async function gf(t,e,n){const i=Oe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,d)=>{c.push(i.pu(d,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=j0.As(d.targetId,m);l.push(g)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(d,m){const g=Oe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(m,(b=>ce.forEach(b.Es,(S=>g.persistence.referenceDelegate.addReference(v,b.targetId,S))).next((()=>ce.forEach(b.ds,(S=>g.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))))))}catch(v){if(!Wl(v))throw v;pe(B0,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const S=g.Ms.get(b),C=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(b,R)}}})(i.localStore,l))}async function E6(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe(Y0,"User change. New user:",e.toKey());const i=await f1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((d=>{d.reject(new be(ue.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gf(n,i.Ls)}}function T6(t,e){const n=Oe(t),i=n.Au.get(e);if(i&&i.hu)return $e().add(i.key);{let a=$e();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function C1(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y6.bind(null,e),e.Pu.H_=r6.bind(null,e.eventManager),e.Pu.yu=s6.bind(null,e.eventManager),e}function w6(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_6.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SU(this.persistence,new EU,e.initialUser,this.serializer)}Cu(e){return new u1(U0.mi,this.serializer)}Du(e){return new PU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class S6 extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new aU(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new u1((i=>qd.mi(i,n)),this.serializer)}}class bv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E6.bind(null,this.syncEngine),await JU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t6})()}createDatastore(e){const n=xm(e.databaseInfo.databaseId),i=(function(l){return new VU(l)})(e.databaseInfo);return(function(l,c,f,d){return new BU(l,c,f,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,f){return new FU(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>kS(this.syncEngine,n,0)),(function(){return IS.v()?new IS:new NU})())}createSyncEngine(e,n){return(function(a,l,c,f,d,m,g){const v=new u6(a,l,c,f,d,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Oe(n);pe(io,"RemoteStore shutting down."),i.Ea.add(5),await pf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bv.provider={build:()=>new bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class x6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=S0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{pe(Qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pe(Qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=$0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yy(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await f1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function LS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R6(t);pe(Qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>PS(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>PS(e.remoteStore,a))),t._onlineComponents=e}async function R6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Qs,"Using user provided OfflineComponentProvider");try{await yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await yy(t,new $d)}}else pe(Qs,"Using default OfflineComponentProvider"),await yy(t,new S6(void 0));return t._offlineComponents}async function I1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Qs,"Using user provided OnlineComponentProvider"),await LS(t,t._uninitializedComponentsProvider._online)):(pe(Qs,"Using default OnlineComponentProvider"),await LS(t,new bv))),t._onlineComponents}function C6(t){return I1(t).then((e=>e.syncEngine))}async function US(t){const e=await I1(t),n=e.eventManager;return n.onListen=f6.bind(null,e.syncEngine),n.onUnlisten=m6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p6.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firestore.googleapis.com",BS=!0;class zS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=BS}else this.host=e.host,this.ssl=e.ssl??BS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rU)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new DL;switch(i.type){case"firstParty":return new OL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=jS.get(n);i&&(pe("ComponentProvider","Removing Datastore"),jS.delete(n),i.terminate())})(this),Promise.resolve()}}function I6(t,e,n,i={}){t=Fs(t,Im);const a=Gl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(VR(`https://${f}`),LR("Firestore",!0)),l.host!==P1&&l.host!==f&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:a,emulatorOptions:i};if(!Gs(d,c)&&(t._setSettings(d),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=vn.MOCK_USER;else{m=k2(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vn(v)}t._authCredentials=new PL(new TC(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dm(this.firestore,e,this._query)}}class Yt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hf(n,Yt._jsonSchema))return new Yt(e,i||null,new xe(ht.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:jt("string",Yt._jsonSchemaVersion),referencePath:jt("string")};class Hs extends Dm{constructor(e,n,i){super(e,n,P0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new xe(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function ed(t,e,...n){if(t=Bt(t),wC("collection","path",e),t instanceof Im){const i=ht.fromString(e,...n);return eS(i),new Hs(t,null,i)}{if(!(t instanceof Yt||t instanceof Hs))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return eS(i),new Hs(t.firestore,null,i)}}function Au(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=S0.newId()),wC("doc","path",e),t instanceof Im){const i=ht.fromString(e,...n);return Jw(i),new Yt(t,null,new xe(i))}{if(!(t instanceof Yt||t instanceof Hs))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return Jw(i),new Yt(t.firestore,t instanceof Hs?t.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="AsyncQueue";class HS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d1(this,"async_queue_retry"),this._c=()=>{const i=gy();i&&pe(FS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=gy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;pe(FS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,$r("INTERNAL UNHANDLED ERROR: ",qS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=G0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:qS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Ll extends Im{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new HS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HS(e),this._firestoreClient=void 0,await e}}}function D6(t,e){const n=typeof t=="object"?t:y0(),i=typeof t=="string"?t:Ud,a=uo(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=M2("firestore");l&&I6(a,...l)}return a}function N1(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P6(t),t._firestoreClient}function P6(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new QL(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,D1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new x6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(fn.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ui(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hf(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:jt("string",ui._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(hf(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:jt("string",Ji._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hf(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new er(e.vectorValues);throw new be(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:jt("string",er._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class M6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new df(e,this.data,n,this.fieldTransforms)}}class M1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class X0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new X0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O1(this.Ac)&&N6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xm(e)}Cc(e,n,i,a=!1){return new X0({Ac:e,methodName:n,Dc:i,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(t){const e=t._freezeSettings(),n=xm(t._databaseId);return new O6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k6(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Z0("Data must be an object, but it was:",c,i);const f=V1(i,c);let d,m;if(l.merge)d=new Kn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const b=Ev(e,v,n);if(!c.contains(b))throw new be(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);U1(g,b)||g.push(b)}d=new Kn(g),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new M6(new Mn(f),d,m)}class Mm extends Nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}class Q0 extends Nm{_toFieldTransform(e){return new S4(e.path,new Ku)}isEqual(e){return e instanceof Q0}}function V6(t,e,n,i){const a=t.Cc(1,e,n);Z0("Data must be an object, but it was:",a,i);const l=[],c=Mn.empty();na(i,((d,m)=>{const g=J0(e,d,n);m=Bt(m);const v=a.yc(g);if(m instanceof Mm)l.push(g);else{const b=Om(m,v);b!=null&&(l.push(g),c.set(g,b))}}));const f=new Kn(l);return new M1(c,f,a.fieldTransforms)}function L6(t,e,n,i,a,l){const c=t.Cc(1,e,n),f=[Ev(e,i,n)],d=[a];if(l.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Ev(e,l[b])),d.push(l[b+1]);const m=[],g=Mn.empty();for(let b=f.length-1;b>=0;--b)if(!U1(m,f[b])){const S=f[b];let C=d[b];C=Bt(C);const R=c.yc(S);if(C instanceof Mm)m.push(S);else{const A=Om(C,R);A!=null&&(m.push(S),g.set(S,A))}}const v=new Kn(m);return new M1(g,v,c.fieldTransforms)}function Om(t,e){if(L1(t=Bt(t)))return Z0("Unsupported field value:",e,t),V1(t,e);if(t instanceof Nm)return(function(i,a){if(!O1(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let d=Om(f,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return E4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:Hd(a.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hd(a.serializer,l)}}if(i instanceof Ji)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ui)return{bytesValue:n1(a.serializer,i._byteString)};if(i instanceof Yt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:V0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof er)return(function(c,f){return{mapValue:{fields:{[NC]:{stringValue:MC},[jd]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return N0(f.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${A0(i)}`)})(t,e)}function V1(t,e){const n={};return xC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,((i,a)=>{const l=Om(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function L1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Ji||t instanceof ui||t instanceof Yt||t instanceof Nm||t instanceof er)}function Z0(t,e,n){if(!L1(n)||!SC(n)){const i=A0(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Ev(t,e,n){if((e=Bt(e))instanceof Pm)return e._internalPath;if(typeof e=="string")return J0(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const U6=new RegExp("[~\\*/\\[\\]]");function J0(t,e,n){if(e.search(U6)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pm(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new be(ue.INVALID_ARGUMENT,f+t+d)}function U1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j6 extends j1{data(){return super.data()}}function B1(t,e){return typeof e=="string"?J0(t,e):e instanceof Pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z6{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return na(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[jd].arrayValue?.values?.map((i=>It(i.doubleValue)));return new er(n)}convertGeoPoint(e){return new Ji(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_m(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ht.fromString(e);tt(l1(i),9688,{name:e});const a=new Gu(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return a.isEqual(n)||$r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends j1{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:jt("string",Qa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class bd extends Qa{data(e={}){return super.data(e)}}class Sl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new xu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new bd(this._firestore,this._userDataWriter,i.key,i,new xu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const d=new bd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const d=new bd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:H6(f.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:jt("string",Sl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class z1 extends z6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function $S(t,e,n,...i){t=Fs(t,Yt);const a=Fs(t.firestore,Ll),l=k1(a);let c;return c=typeof(e=Bt(e))=="string"||e instanceof Pm?L6(l,"updateDoc",t._key,e,n,i):V6(l,"updateDoc",t._key,e),e_(a,[c.toMutation(t._key,Si.exists(!0))])}function KS(t){return e_(Fs(t.firestore,Ll),[new M0(t._key,Si.none())])}function YS(t,e){const n=Fs(t.firestore,Ll),i=Au(t),a=F6(t.converter,e);return e_(n,[k6(k1(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Si.exists(!1))]).then((()=>i))}function WS(t,...e){t=Bt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||GS(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GS(e[i])){const d=e[i];e[i]=d.next?.bind(d),e[i+1]=d.error?.bind(d),e[i+2]=d.complete?.bind(d)}let l,c,f;if(t instanceof Yt)c=Fs(t.firestore,Ll),f=P0(t._key.path),l={next:d=>{e[i]&&e[i](q6(c,t,d))},error:e[i+1],complete:e[i+2]};else{const d=Fs(t,Dm);c=Fs(d.firestore,Ll),f=d._query;const m=new z1(c);l={next:g=>{e[i]&&e[i](new Sl(c,m,d,g))},error:e[i+1],complete:e[i+2]},B6(t._query)}return(function(m,g,v,b){const S=new A6(b),C=new a6(g,S,v);return m.asyncQueue.enqueueAndForget((async()=>n6(await US(m),C))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>i6(await US(m),C)))}})(N1(c),f,a,l)}function e_(t,e){return(function(i,a){const l=new Xa;return i.asyncQueue.enqueueAndForget((async()=>g6(await C6(i),a,l))),l.promise})(N1(t),e)}function q6(t,e,n){const i=n.docs.get(e._key),a=new z1(t);return new Qa(t,a,e._key,i,new xu(n.hasPendingWrites,n.fromCache),e.converter)}function ol(){return new Q0("serverTimestamp")}(function(e,n=!0){(function(a){Kl=a})($l),or(new xi("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ll(new NL(i.getProvider("auth-internal")),new kL(c,i.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(m.options.projectId,g)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),hi(Ww,Xw,e),hi(Ww,Xw,"esm2020")})();function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G6=F1,H1=new co("auth","Firebase",F1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new mm("@firebase/auth");function $6(t,...e){Yd.logLevel<=qe.WARN&&Yd.warn(`Auth (${$l}): ${t}`,...e)}function Ed(t,...e){Yd.logLevel<=qe.ERROR&&Yd.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw t_(t,...e)}function tr(t,...e){return t_(t,...e)}function q1(t,e,n){const i={...G6(),[e]:n};return new co("auth","Firebase",i).create(e,{appName:t.name})}function qs(t){return q1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return H1.create(t,...e)}function Ie(t,e,...n){if(!t)throw t_(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function Yr(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){return typeof self<"u"&&self.location?.href||""}function K6(){return XS()==="http:"||XS()==="https:"}function XS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K6()||UR()||"connection"in navigator)?navigator.onLine:!0}function W6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=U2()||z2()}get(){return Y6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z6=new yf(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ra(t,e,n,i,a={}){return $1(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=ff({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return B2()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Gl(t.emulatorConfig.host)&&(m.credentials="include"),G1.fetch()(await K1(t,t.config.apiHost,n,f),m)})}async function $1(t,e,n){t._canInitEmulator=!1;const i={...X6,...e};try{const a=new e3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw td(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[d,m]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw td(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw td(t,"user-disabled",c);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw q1(t,g,m);Ri(t,g)}}catch(a){if(a instanceof Pi)throw a;Ri(t,"network-request-failed",{message:String(a)})}}async function km(t,e,n,i,a={}){const l=await ra(t,e,n,i,a);return"mfaPendingCredential"in l&&Ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function K1(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?n_(t.config,a):`${t.config.apiScheme}://${a}`;return Q6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function J6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),Z6.get())})}}function td(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=tr(t,e,i);return a.customData._tokenResponse=n,a}function QS(t){return t!==void 0&&t.enterprise!==void 0}class t3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n3(t,e){return ra(t,"GET","/v2/recaptchaConfig",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){return ra(t,"POST","/v1/accounts:delete",e)}async function Wd(t,e){return ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r3(t,e=!1){const n=Bt(t),i=await n.getIdToken(e),a=i_(i);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ku(vy(a.auth_time)),issuedAtTime:ku(vy(a.iat)),expirationTime:ku(vy(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vy(t){return Number(t)*1e3}function i_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const a=NR(n);return a?JSON.parse(a):(Ed("Failed to decode base64 JWT payload"),null)}catch(a){return Ed("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ZS(t){const e=i_(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Pi&&s3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function s3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t){const e=t.auth,n=await t.getIdToken(),i=await Xu(t,Wd(e,{idToken:n}));Ie(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Y1(a.providerUserInfo):[],c=l3(t.providerData,l),f=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=f?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new wv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function o3(t){const e=Bt(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l3(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Y1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){const n=await $1(t,{},async()=>{const i=ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await K1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:i};return t.emulatorConfig&&Gl(t.emulatorConfig.host)&&(d.credentials="include"),G1.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u3(t,e){return ra(t,"POST","/v2/accounts:revokeToken",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=ZS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await c3(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Al;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new a3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r3(this,e)}reload(){return o3(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await Xu(this,i3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:S,providerData:C,stsTokenManager:R}=n;Ie(v&&R,e,"internal-error");const A=Al.fromJSON(this.name,R);Ie(typeof v=="string",e,"internal-error"),Is(i,e.name),Is(a,e.name),Ie(typeof b=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),Is(l,e.name),Is(c,e.name),Is(f,e.name),Is(d,e.name),Is(m,e.name),Is(g,e.name);const O=new wi({uid:v,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:A,createdAt:m,lastLoginAt:g});return C&&Array.isArray(C)&&(O.providerData=C.map(N=>({...N}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,i=!1){const a=new Al;a.updateFromServerResponse(n);const l=new wi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Y1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Al;f.updateFromIdToken(i);const d=new wi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function Fr(t){Yr(t instanceof Function,"Expected a class definition");let e=JS.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W1.type="NONE";const eA=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e,n){return`firebase:${t}:${e}:${n}`}class xl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Td(this.userKey,a.apiKey,l),this.fullPersistenceKey=Td("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wd(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new xl(Fr(eA),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Fr(eA);const c=Td(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const b=await Wd(e,{idToken:g}).catch(()=>{});if(!b)break;v=await wi._fromGetAccountInfoResponse(e,b,g)}else v=wi._fromJSON(e,g);m!==l&&(f=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new xl(l,e,i):(l=d[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new xl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(Q1(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function X1(t=En()){return/firefox\//i.test(t)}function Q1(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=En()){return/crios\//i.test(t)}function J1(t=En()){return/iemobile/i.test(t)}function eI(t=En()){return/android/i.test(t)}function tI(t=En()){return/blackberry/i.test(t)}function nI(t=En()){return/webos/i.test(t)}function r_(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f3(t=En()){return r_(t)&&!!window.navigator?.standalone}function h3(){return F2()&&document.documentMode===10}function iI(t=En()){return r_(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||J1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e=[]){let n;switch(t){case"Browser":n=tA(En());break;case"Worker":n=`${tA(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const d=e(l);c(d)}catch(d){f(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return ra(t,"GET","/v2/passwordPolicy",mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=6;class g3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nA(this),this.idTokenSubscription=new nA(this),this.beforeStateQueue=new d3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wd(this,{idToken:e}),i=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(qs(this));const n=e?Bt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m3(this),n=new g3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await u3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ql(t){return Bt(t)}class nA{constructor(e){this.auth=e,this.observer=null,this.addObserver=W2(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v3(t){Vm=t}function sI(t){return Vm.loadJS(t)}function _3(){return Vm.recaptchaEnterpriseScript}function b3(){return Vm.gapiScript}function E3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class T3{constructor(){this.enterprise=new w3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S3="recaptcha-enterprise",aI="NO_RECAPTCHA";class A3{constructor(e){this.type=S3,this.auth=Ql(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{n3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new t3(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(d=>{f(d)})})}function a(l,c,f){const d=window.grecaptcha;QS(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(aI)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T3().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!n&&QS(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_3();d.length!==0&&(d+=f),sI(d).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function iA(t,e,n,i=!1,a=!1){const l=new A3(t);let c;if(a)c=aI;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function rA(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iA(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await iA(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){const n=uo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Gs(l,e??{}))return a;Ri(a,"already-initialized")}return n.initialize({options:e})}function R3(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function C3(t,e,n){const i=Ql(t);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=oI(e),{host:c,port:f}=I3(e),d=f===null?"":`:${f}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Gs(m,i.config.emulator)&&Gs(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Gl(c)?(VR(`${l}//${c}${d}`),LR("Auth",!0)):D3()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I3(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:sA(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:sA(c)}}}function sA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function P3(t,e){return ra(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t,e){return km(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function O3(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends s_{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Qu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Qu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rA(e,n,"signInWithPassword",N3);case"emailLink":return M3(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rA(e,i,"signUpPassword",P3);case"emailLink":return O3(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return km(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="http://localhost";class ro extends s_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new ro(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Rl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Rl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rl(e,n)}buildRequest(){const e={requestUri:k3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ff(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L3(t){const e=bu(Eu(t)).link,n=e?bu(Eu(e)).deep_link_id:null,i=bu(Eu(t)).deep_link_id;return(i?bu(Eu(i)).link:null)||i||n||e||t}class a_{constructor(e){const n=bu(Eu(e)),i=n.apiKey??null,a=n.oobCode??null,l=V3(n.mode??null);Ie(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=L3(e);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,n){return Qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=a_.parseLink(n);return Ie(i,"argument-error"),Qu._fromEmailAndCode(e,i.code,i.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends lI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends vf{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ks.credential(n,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends vf{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends vf{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ls.credential(n,i)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await wi._fromIdTokenResponse(e,i,a),c=aA(i);return new Ul({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=aA(i);return new Ul({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function aA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Pi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Qd(e,n,i,a)}}function cI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(t,l,e,i):l})}async function U3(t,e,n=!1){const i=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ul._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e,n=!1){const{auth:i}=t;if(Ti(i.app))return Promise.reject(qs(i));const a="reauthenticate";try{const l=await Xu(t,cI(i,a,e,t),n);Ie(l.idToken,i,"internal-error");const c=i_(l.idToken);Ie(c,i,"internal-error");const{sub:f}=c;return Ie(t.uid===f,i,"user-mismatch"),Ul._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e,n=!1){if(Ti(t.app))return Promise.reject(qs(t));const i="signIn",a=await cI(t,i,e),l=await Ul._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function B3(t,e){return uI(Ql(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t){const e=Ql(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function F3(t,e,n){return Ti(t.app)?Promise.reject(qs(t)):B3(Bt(t),Zl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&z3(t),i})}function H3(t,e,n,i){return Bt(t).onIdTokenChanged(e,n,i)}function q3(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function G3(t,e,n,i){return Bt(t).onAuthStateChanged(e,n,i)}function $3(t){return Bt(t).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1e3,Y3=10;class hI extends fI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);h3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Y3):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const W3=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends fI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dI.type="SESSION";const mI=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Lm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),d=await X3(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,d)=>{const m=o_("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function Z3(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function J3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ej(){return navigator?.serviceWorker?.controller||null}function tj(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",nj=1,Jd="firebaseLocalStorage",yI="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Um(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function ij(){const t=indexedDB.deleteDatabase(gI);return new _f(t).toPromise()}function Sv(){const t=indexedDB.open(gI,nj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jd,{keyPath:yI})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jd)?e(i):(i.close(),await ij(),e(await Sv()))})})}async function oA(t,e,n){const i=Um(t,!0).put({[yI]:e,value:n});return new _f(i).toPromise()}async function rj(t,e){const n=Um(t,!1).get(e),i=await new _f(n).toPromise();return i===void 0?null:i.value}function lA(t,e){const n=Um(t,!0).delete(e);return new _f(n).toPromise()}const sj=800,aj=3;class vI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>aj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(tj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await J3(),!this.activeServiceWorker)return;this.sender=new Q3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ej()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await oA(e,Zd,"1"),await lA(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>oA(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>rj(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Um(a,!1).getAll();return new _f(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vI.type="LOCAL";const oj=vI;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e){return e?Fr(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends s_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cj(t){return uI(t.auth,new l_(t),t.bypassAuthState)}function uj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),j3(n,new l_(t),t.bypassAuthState)}async function fj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),U3(n,new l_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cj;case"linkViaPopup":case"linkViaRedirect":return fj;case"reauthViaPopup":case"reauthViaRedirect":return uj;default:Ri(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new yf(2e3,1e4);class gl extends _I{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=o_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hj.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="pendingRedirect",wd=new Map;class mj extends _I{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const i=await pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pj(t,e){const n=vj(e),i=yj(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function gj(t,e){wd.set(t._key(),e)}function yj(t){return Fr(t._redirectPersistence)}function vj(t){return Td(dj,t.config.apiKey,t.name)}async function _j(t,e,n=!1){if(Ti(t.app))return Promise.reject(qs(t));const i=Ql(t),a=lj(i,e),c=await new mj(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=600*1e3;class Ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bI(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(cA(e))}saveEventToCache(e){this.cachedEventUids.add(cA(e)),this.lastProcessedEventTime=Date.now()}}function cA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Tj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e={}){return ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aj=/^https?/;async function xj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wj(t);for(const n of e)try{if(Rj(n))return}catch{}Ri(t,"unauthorized-domain")}function Rj(t){const e=Tv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!Aj.test(n))return!1;if(Sj.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new yf(3e4,6e4);function uA(){const t=nr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ij(t){return new Promise((e,n)=>{function i(){uA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uA(),n(tr(t,"network-request-failed"))},timeout:Cj.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)i();else{const a=E3("iframefcb");return nr()[a]=()=>{gapi.load?i():n(tr(t,"network-request-failed"))},sI(`${b3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function Dj(t){return Sd=Sd||Ij(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new yf(5e3,15e3),Nj="__/auth/iframe",Mj="emulator/auth/iframe",Oj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vj(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n_(e,Mj):`https://${t.config.authDomain}/${Nj}`,i={apiKey:e.apiKey,appName:t.name,v:$l},a=kj.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ff(i).slice(1)}`}async function Lj(t){const e=await Dj(t),n=nr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:Vj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oj,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=tr(t,"network-request-failed"),f=nr().setTimeout(()=>{l(c)},Pj.get());function d(){nr().clearTimeout(f),a(i)}i.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jj=500,Bj=600,zj="_blank",Fj="http://localhost";class fA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hj(t,e,n,i=jj,a=Bj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d={...Uj,width:i.toString(),height:a.toString(),top:l,left:c},m=En().toLowerCase();n&&(f=Z1(m)?zj:n),X1(m)&&(e=e||Fj,d.scrollbars="yes");const g=Object.entries(d).reduce((b,[S,C])=>`${b}${S}=${C},`,"");if(f3(m)&&f!=="_self")return qj(e||"",f),new fA(null);const v=window.open(e||"",f,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new fA(v)}function qj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="__/auth/handler",$j="emulator/auth/handler",Kj=encodeURIComponent("fac");async function hA(t,e,n,i,a,l){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:$l,eventId:a};if(e instanceof lI){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Y2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof vf){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const d=await t._getAppCheckToken(),m=d?`#${Kj}=${encodeURIComponent(d)}`:"";return`${Yj(t)}?${ff(f).slice(1)}${m}`}function Yj({config:t}){return t.emulator?n_(t,$j):`https://${t.authDomain}/${Gj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class Wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mI,this._completeRedirectFn=_j,this._overrideRedirectResult=gj}async _openPopup(e,n,i,a){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hA(e,n,i,Tv(),a);return Hj(e,l,o_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await hA(e,n,i,Tv(),a);return Z3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Lj(e),i=new Ej(e);return n.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_y,{type:_y},a=>{const l=a?.[0]?.[_y];l!==void 0&&n(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||Q1()||r_()}}const Xj=Wj;var dA="@firebase/auth",mA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jj(t){or(new xi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},m=new y3(i,a,l,d);return R3(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),or(new xi("auth-internal",e=>{const n=Ql(e.getProvider("auth").getImmediate());return(i=>new Qj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(dA,mA,Zj(t)),hi(dA,mA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=300,t9=kR("authIdTokenMaxAge")||e9;let pA=null;const n9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>t9)return;const a=n?.token;pA!==a&&(pA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function i9(t=y0()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x3(t,{popupRedirectResolver:Xj,persistence:[oj,W3,mI]}),i=kR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=n9(l.toString());q3(n,c,()=>c(n.currentUser)),H3(n,f=>c(f))}}const a=MR("auth");return a&&C3(n,`http://${a}`),n}function r9(){return document.getElementsByTagName("head")?.[0]??document}v3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=tr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",r9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jj("Browser");const s9={apiKey:"AIzaSyDUK53kiF3T-sih9KHgLE1vacWVZnsEhl0",authDomain:"agenda-terapias-3f6b6.firebaseapp.com",projectId:"agenda-terapias-3f6b6",storageBucket:"agenda-terapias-3f6b6.firebasestorage.app",messagingSenderId:"352538854602",appId:"1:352538854602:web:19e8b7405bdbf7ab97a033",measurementId:"G-RJRKY7YELN"},c_=qR(s9);xL(c_);const Ds=D6(c_),by=i9(c_);function a9({onLogin:t}){const[e,n]=w.useState(""),[i,a]=w.useState(""),[l,c]=w.useState(""),f=fm(),d=async m=>{m.preventDefault();try{await t(e,i),f("/horario")}catch{c("Usuario o contraseña incorrectos")}};return D.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-red-200 to-purple-300",children:D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-96",children:[D.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"Iniciar Sesión"}),l&&D.jsx("p",{className:"text-red-500 text-center mb-4",children:l}),D.jsxs("form",{onSubmit:d,className:"space-y-4",children:[D.jsx("input",{required:!0,type:"email",placeholder:"Correo electrónico",value:e,onChange:m=>n(m.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400"}),D.jsx("input",{type:"password",required:!0,placeholder:"Contraseña",value:i,onChange:m=>a(m.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400"}),D.jsx("button",{type:"submit",className:"cursor-pointer w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition",children:"Entrar"})]})]})})}function gA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EI(...t){return e=>{let n=!1;const i=t.map(a=>{const l=gA(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():gA(t[a],null)}}}}function hn(...t){return w.useCallback(EI(...t),t)}function Zu(t){const e=l9(t),n=w.forwardRef((i,a)=>{const{children:l,...c}=i,f=w.Children.toArray(l),d=f.find(u9);if(d){const m=d.props.children,g=f.map(v=>v===d?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:v);return D.jsx(e,{...c,ref:a,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return D.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}var o9=Zu("Slot");function l9(t){const e=w.forwardRef((n,i)=>{const{children:a,...l}=n;if(w.isValidElement(a)){const c=h9(a),f=f9(l,a.props);return a.type!==w.Fragment&&(f.ref=i?EI(i,c):c),w.cloneElement(a,f)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c9=Symbol("radix.slottable");function u9(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c9}function f9(t,e){const n={...e};for(const i in e){const a=t[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const d=l(...f);return a(...f),d}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function h9(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function TI(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=TI(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function wI(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=TI(t))&&(i&&(i+=" "),i+=e);return i}const yA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vA=wI,d9=(t,e)=>n=>{var i;if(e?.variants==null)return vA(t,n?.class,n?.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(m=>{const g=n?.[m],v=l?.[m];if(g===null)return null;const b=yA(g)||yA(v);return a[m][b]}),f=n&&Object.entries(n).reduce((m,g)=>{let[v,b]=g;return b===void 0||(m[v]=b),m},{}),d=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,g)=>{let{class:v,className:b,...S}=g;return Object.entries(S).every(C=>{let[R,A]=C;return Array.isArray(A)?A.includes({...l,...f}[R]):{...l,...f}[R]===A})?[...m,v,b]:m},[]);return vA(t,c,d,n?.class,n?.className)},u_="-",m9=t=>{const e=g9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{const f=c.split(u_);return f[0]===""&&f.length!==1&&f.shift(),SI(f,e)||p9(c)},getConflictingClassGroupIds:(c,f)=>{const d=n[c]||[];return f&&i[c]?[...d,...i[c]]:d}}},SI=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?SI(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(u_);return e.validators.find(({validator:c})=>c(l))?.classGroupId},_A=/^\[(.+)\]$/,p9=t=>{if(_A.test(t)){const e=_A.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g9=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)Av(n[a],i,a,e);return i},Av=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:bA(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(y9(a)){Av(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{Av(c,bA(e,l),n,i)})})},bA=(t,e)=>{let n=t;return e.split(u_).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},y9=t=>t.isThemeGetter,v9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},xv="!",Rv=":",_9=Rv.length,b9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,f=0,d=0,m;for(let C=0;C<a.length;C++){let R=a[C];if(c===0&&f===0){if(R===Rv){l.push(a.slice(d,C)),d=C+_9;continue}if(R==="/"){m=C;continue}}R==="["?c++:R==="]"?c--:R==="("?f++:R===")"&&f--}const g=l.length===0?a:a.substring(d),v=E9(g),b=v!==g,S=m&&m>d?m-d:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const a=e+Rv,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},E9=t=>t.endsWith(xv)?t.substring(0,t.length-1):t.startsWith(xv)?t.substring(1):t,T9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},w9=t=>({cache:v9(t.cacheSize),parseClassName:b9(t),sortModifiers:T9(t),...m9(t)}),S9=/\s+/,A9=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split(S9);let d="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:v,modifiers:b,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:R}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let A=!!R,O=i(A?C.substring(0,R):C);if(!O){if(!A){d=g+(d.length>0?" "+d:d);continue}if(O=i(C),!O){d=g+(d.length>0?" "+d:d);continue}A=!1}const N=l(b).join(":"),V=S?N+xv:N,$=V+O;if(c.includes($))continue;c.push($);const q=a(O,A);for(let ie=0;ie<q.length;++ie){const M=q[ie];c.push(V+M)}d=g+(d.length>0?" "+d:d)}return d};function x9(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AI(e))&&(i&&(i+=" "),i+=n);return i}const AI=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=AI(t[i]))&&(n&&(n+=" "),n+=e);return n};function R9(t,...e){let n,i,a,l=c;function c(d){const m=e.reduce((g,v)=>v(g),t());return n=w9(m),i=n.cache.get,a=n.cache.set,l=f,f(d)}function f(d){const m=i(d);if(m)return m;const g=A9(d,n);return a(d,g),g}return function(){return l(x9.apply(null,arguments))}}const $t=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C9=/^\d+\/\d+$/,I9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,N9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ll=t=>C9.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),Ps=t=>!!t&&Number.isInteger(Number(t)),Ey=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),jr=t=>I9.test(t),O9=()=>!0,k9=t=>D9.test(t)&&!P9.test(t),CI=()=>!1,V9=t=>N9.test(t),L9=t=>M9.test(t),U9=t=>!ve(t)&&!_e(t),j9=t=>Jl(t,PI,CI),ve=t=>xI.test(t),Fa=t=>Jl(t,NI,k9),Ty=t=>Jl(t,q9,Ue),EA=t=>Jl(t,II,CI),B9=t=>Jl(t,DI,L9),nd=t=>Jl(t,MI,V9),_e=t=>RI.test(t),yu=t=>ec(t,NI),z9=t=>ec(t,G9),TA=t=>ec(t,II),F9=t=>ec(t,PI),H9=t=>ec(t,DI),id=t=>ec(t,MI,!0),Jl=(t,e,n)=>{const i=xI.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},ec=(t,e,n=!1)=>{const i=RI.exec(t);return i?i[1]?e(i[1]):n:!1},II=t=>t==="position"||t==="percentage",DI=t=>t==="image"||t==="url",PI=t=>t==="length"||t==="size"||t==="bg-size",NI=t=>t==="length",q9=t=>t==="number",G9=t=>t==="family-name",MI=t=>t==="shadow",$9=()=>{const t=$t("color"),e=$t("font"),n=$t("text"),i=$t("font-weight"),a=$t("tracking"),l=$t("leading"),c=$t("breakpoint"),f=$t("container"),d=$t("spacing"),m=$t("radius"),g=$t("shadow"),v=$t("inset-shadow"),b=$t("text-shadow"),S=$t("drop-shadow"),C=$t("blur"),R=$t("perspective"),A=$t("aspect"),O=$t("ease"),N=$t("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...$(),_e,ve],ie=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],x=()=>[_e,ve,d],k=()=>[ll,"full","auto",...x()],U=()=>[Ps,"none","subgrid",_e,ve],F=()=>["auto",{span:["full",Ps,_e,ve]},Ps,_e,ve],j=()=>[Ps,"auto",_e,ve],L=()=>["auto","min","max","fr",_e,ve],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...x()],re=()=>[ll,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],X=()=>[t,_e,ve],me=()=>[...$(),TA,EA,{position:[_e,ve]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",F9,j9,{size:[_e,ve]}],ee=()=>[Ey,yu,Fa],te=()=>["","none","full",m,_e,ve],fe=()=>["",Ue,yu,Fa],we=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Ue,Ey,TA,EA],Ae=()=>["","none",C,_e,ve],He=()=>["none",Ue,_e,ve],Ve=()=>["none",Ue,_e,ve],je=()=>[Ue,_e,ve],Qe=()=>[ll,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jr],breakpoint:[jr],color:[O9],container:[jr],"drop-shadow":[jr],ease:["in","out","in-out"],font:[U9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jr],shadow:[jr],spacing:["px",Ue],text:[jr],"text-shadow":[jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ll,ve,_e,A]}],container:["container"],columns:[{columns:[Ue,ve,_e,f]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",_e,ve]}],basis:[{basis:[ll,"full","auto",f,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,ll,"auto","initial","none",ve]}],grow:[{grow:["",Ue,_e,ve]}],shrink:[{shrink:["",Ue,_e,ve]}],order:[{order:[Ps,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[f,"screen",...re()]}],"min-w":[{"min-w":[f,"screen","none",...re()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,yu,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,Ty]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ey,ve]}],"font-family":[{font:[z9,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,ve]}],"line-clamp":[{"line-clamp":[Ue,"none",_e,Ty]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",_e,Fa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Ue,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,_e,ve],radial:["",_e,ve],conic:[Ps,_e,ve]},H9,B9]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,_e,ve]}],"outline-w":[{outline:["",Ue,yu,Fa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",g,id,nd]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",v,id,nd]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Ue,Fa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",b,id,nd]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Ue,_e,ve]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:Ae()}],brightness:[{brightness:[Ue,_e,ve]}],contrast:[{contrast:[Ue,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",S,id,nd]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Ue,_e,ve]}],"hue-rotate":[{"hue-rotate":[Ue,_e,ve]}],invert:[{invert:["",Ue,_e,ve]}],saturate:[{saturate:[Ue,_e,ve]}],sepia:[{sepia:["",Ue,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ue,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",_e,ve]}],ease:[{ease:["linear","initial",O,_e,ve]}],delay:[{delay:[Ue,_e,ve]}],animate:[{animate:["none",N,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,_e,ve]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Ue,yu,Fa,Ty]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},K9=R9($9);function Tn(...t){return K9(wI(t))}const Y9=d9("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ut({className:t,variant:e,size:n,asChild:i=!1,...a}){const l=i?o9:"button";return D.jsx(l,{"data-slot":"button",className:Tn(Y9({variant:e,size:n,className:t})),...a})}const W9=({onLogout:t})=>{const e=fm(),n="bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 text-white hover:from-purple-500 hover:via-purple-500 hover:to-blue-600",i="bg-gray-300 text-black hover:bg-gray-300";return D.jsxs("header",{className:"bg-white shadow-md px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Panel de Administración"}),D.jsxs("nav",{className:"flex items-center gap-4",children:[D.jsx(Zy,{to:"/horario",children:({isActive:a})=>D.jsx(ut,{className:`cursor-pointer ${a?n:i}`,children:"Horario"})}),D.jsx(Zy,{to:"/clientes",children:({isActive:a})=>D.jsx(ut,{className:`cursor-pointer ${a?n:i}`,children:"Clientes"})}),D.jsx(ut,{variant:"ghost",className:"text-red-600 hover:bg-red-100 transition-colors cursor-pointer",onClick:()=>{t?.(),e("/login")},children:"Salir"})]})]})};function Cv({className:t,...e}){return D.jsx("div",{"data-slot":"card",className:Tn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Iv({className:t,...e}){return D.jsx("div",{"data-slot":"card-content",className:Tn("px-6",t),...e})}function X9({className:t,...e}){return D.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:D.jsx("table",{"data-slot":"table",className:Tn("w-full caption-bottom text-sm",t),...e})})}function Q9({className:t,...e}){return D.jsx("thead",{"data-slot":"table-header",className:Tn("[&_tr]:border-b",t),...e})}function Z9({className:t,...e}){return D.jsx("tbody",{"data-slot":"table-body",className:Tn("[&_tr:last-child]:border-0",t),...e})}function wA({className:t,...e}){return D.jsx("tr",{"data-slot":"table-row",className:Tn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function wy({className:t,...e}){return D.jsx("th",{"data-slot":"table-head",className:Tn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Sy({className:t,...e}){return D.jsx("td",{"data-slot":"table-cell",className:Tn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function fi({className:t,type:e,...n}){return D.jsx("input",{type:e,"data-slot":"input",className:Tn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const J9=t=>{switch(t){case"programada":return"text-blue-500";case"completada":return"text-green-500";case"cancelada":return"text-red-500";case"no vino":return"text-orange-500";default:return"text-gray-500"}},e5=({clientes:t,citas:e,onAddClient:n,onUpdateClient:i,onDeleteClient:a})=>{const[l,c]=w.useState(!1),[f,d]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState(!1),[S,C]=w.useState(!1),[R,A]=w.useState(null),[O,N]=w.useState({id:"",nombre:""}),V=()=>{N({id:"",nombre:""}),c(!0)},$=j=>{A(j),N({id:j.id,nombre:j.nombre}),d(!0)},q=j=>{A(j),g(!0)},ie=j=>{A(j),C(!0)},M=j=>{j.preventDefault(),n(O),c(!1)},x=j=>{j.preventDefault(),d(!1),b(!0)},k=()=>{i(O),b(!1)},U=()=>{a(R.id),g(!1)},F=R?e.filter(j=>j.clienteId===R.id):[];return D.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[D.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-800",children:"Administración de Clientes"}),D.jsx(Cv,{className:"mb-6",children:D.jsxs(Iv,{className:"p-4 flex justify-between items-center",children:[D.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Lista de Clientes"}),D.jsx(ut,{className:"cursor-pointer",onClick:V,children:"Añadir Nuevo Cliente"})]})}),D.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:D.jsxs(X9,{children:[D.jsx(Q9,{children:D.jsxs(wA,{children:[D.jsx(wy,{className:"w-[150px]",children:"Documento"}),D.jsx(wy,{children:"Nombre"}),D.jsx(wy,{className:"text-right w-[250px]",children:"Acciones"})]})}),D.jsx(Z9,{children:t.map(j=>D.jsxs(wA,{children:[D.jsx(Sy,{className:"font-medium",children:j.id}),D.jsx(Sy,{children:j.nombre}),D.jsxs(Sy,{className:"flex justify-end space-x-2",children:[D.jsx(ut,{className:"cursor-pointer",variant:"outline",size:"sm",onClick:()=>ie(j),children:"Historial"}),D.jsx(ut,{className:"cursor-pointer",variant:"outline",size:"sm",onClick:()=>$(j),children:"Editar"}),D.jsx(ut,{className:"cursor-pointer",variant:"destructive",size:"sm",onClick:()=>q(j),children:"Eliminar"})]})]},j.id))})]})}),l&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[D.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Añadir Nuevo Cliente"}),D.jsxs("form",{onSubmit:M,className:"space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),D.jsx(fi,{type:"text",value:O.id,onChange:j=>N({...O,id:j.target.value}),required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre completo"}),D.jsx(fi,{type:"text",value:O.nombre,onChange:j=>N({...O,nombre:j.target.value}),required:!0})]}),D.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[D.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),D.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar"})]})]})]})}),f&&R&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[D.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Editar Cliente"}),D.jsxs("form",{onSubmit:x,className:"space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),D.jsx(fi,{type:"text",value:O.id,onChange:j=>N({...O,id:j.target.value}),required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre completo"}),D.jsx(fi,{type:"text",value:O.nombre,onChange:j=>N({...O,nombre:j.target.value}),required:!0})]}),D.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[D.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),D.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar Cambios"})]})]})]})}),v&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 text-center",children:[D.jsx("h3",{className:"font-bold mb-4 text-gray-800",children:"Confirmar Edición"}),D.jsx("p",{className:"text-gray-700 mb-6",children:"¿Estás seguro de que deseas guardar los cambios para este cliente?"}),D.jsxs("div",{className:"flex justify-end space-x-2",children:[D.jsx(ut,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),D.jsx(ut,{onClick:k,children:"Confirmar"})]})]})}),m&&R&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 text-center",children:[D.jsx("h3",{className:"font-bold mb-4 text-gray-800",children:"Confirmar Eliminación"}),D.jsxs("p",{className:"text-gray-700 mb-6",children:["¿Estás seguro de que deseas eliminar a **",R.nombre,"**?"]}),D.jsxs("div",{className:"flex justify-end space-x-2",children:[D.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>g(!1),children:"No"}),D.jsx(ut,{className:"cursor-pointer",variant:"destructive",onClick:U,children:"Sí, eliminar"})]})]})}),S&&R&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-[600px]",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsxs("h3",{className:"font-bold text-gray-800 text-2xl",children:["Historial de Citas de ",R.nombre]}),D.jsx(ut,{variant:"ghost",onClick:()=>C(!1),className:"cursor-pointer hover:text-white bg-black text-white hover:bg-gray-800",children:"Cerrar"})]}),D.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:F.length>0?F.map((j,L)=>D.jsx(Cv,{className:"p-4 bg-gray-50",children:D.jsx(Iv,{className:"p-0",children:D.jsx("div",{className:"flex justify-between items-center",children:D.jsxs("div",{className:"text-sm text-gray-700",children:[D.jsxs("p",{children:[D.jsx("strong",{children:"Fecha:"})," ",j.fecha]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Hora:"})," ",j.hora]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Estado:"})," ",D.jsx("span",{className:J9(j.estado),children:j.estado})]})]})})})},L)):D.jsx("div",{className:"text-center text-gray-500",children:D.jsx("p",{children:"No se encontraron citas para este cliente."})})})]})})]})};function SA(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ut(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function f_(t,e=[]){let n=[];function i(l,c){const f=w.createContext(c),d=n.length;n=[...n,c];const m=v=>{const{scope:b,children:S,...C}=v,R=b?.[t]?.[d]||f,A=w.useMemo(()=>C,Object.values(C));return D.jsx(R.Provider,{value:A,children:S})};m.displayName=l+"Provider";function g(v,b){const S=b?.[t]?.[d]||f,C=w.useContext(S);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,g]}const a=()=>{const l=n.map(c=>w.createContext(c));return function(f){const d=f?.[t]||l;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[i,t5(a,...e)]}function t5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:d,scopeName:m})=>{const v=d(l)[`__scope${m}`];return{...f,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function n5(t){const e=t+"CollectionProvider",[n,i]=f_(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:A,children:O}=R,N=Br.useRef(null),V=Br.useRef(new Map).current;return D.jsx(a,{scope:A,itemMap:V,collectionRef:N,children:O})};c.displayName=e;const f=t+"CollectionSlot",d=Zu(f),m=Br.forwardRef((R,A)=>{const{scope:O,children:N}=R,V=l(f,O),$=hn(A,V.collectionRef);return D.jsx(d,{ref:$,children:N})});m.displayName=f;const g=t+"CollectionItemSlot",v="data-radix-collection-item",b=Zu(g),S=Br.forwardRef((R,A)=>{const{scope:O,children:N,...V}=R,$=Br.useRef(null),q=hn(A,$),ie=l(g,O);return Br.useEffect(()=>(ie.itemMap.set($,{ref:$,...V}),()=>void ie.itemMap.delete($))),D.jsx(b,{[v]:"",ref:q,children:N})});S.displayName=g;function C(R){const A=l(t+"CollectionConsumer",R);return Br.useCallback(()=>{const N=A.collectionRef.current;if(!N)return[];const V=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(A.itemMap.values()).sort((ie,M)=>V.indexOf(ie.ref.current)-V.indexOf(M.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:c,Slot:m,ItemSlot:S},C,i]}var i5=w.createContext(void 0);function r5(t){const e=w.useContext(i5);return t||e||"ltr"}var s5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=s5.reduce((t,e)=>{const n=Zu(`Primitive.${e}`),i=w.forwardRef((a,l)=>{const{asChild:c,...f}=a,d=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),D.jsx(d,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function a5(t,e){t&&uf.flushSync(()=>t.dispatchEvent(e))}function so(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function o5(t,e=globalThis?.document){const n=so(t);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var l5="DismissableLayer",Dv="dismissableLayer.update",c5="dismissableLayer.pointerDownOutside",u5="dismissableLayer.focusOutside",AA,OI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...d}=t,m=w.useContext(OI),[g,v]=w.useState(null),b=g?.ownerDocument??globalThis?.document,[,S]=w.useState({}),C=hn(e,M=>v(M)),R=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=R.indexOf(A),N=g?R.indexOf(g):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,$=N>=O,q=d5(M=>{const x=M.target,k=[...m.branches].some(U=>U.contains(x));!$||k||(a?.(M),c?.(M),M.defaultPrevented||f?.())},b),ie=m5(M=>{const x=M.target;[...m.branches].some(U=>U.contains(x))||(l?.(M),c?.(M),M.defaultPrevented||f?.())},b);return o5(M=>{N===m.layers.size-1&&(i?.(M),!M.defaultPrevented&&f&&(M.preventDefault(),f()))},b),w.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(AA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),xA(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=AA)}},[g,b,n,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),xA())},[g,m]),w.useEffect(()=>{const M=()=>S({});return document.addEventListener(Dv,M),()=>document.removeEventListener(Dv,M)},[]),D.jsx(Dt.div,{...d,ref:C,style:{pointerEvents:V?$?"auto":"none":void 0,...t.style},onFocusCapture:Ut(t.onFocusCapture,ie.onFocusCapture),onBlurCapture:Ut(t.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:Ut(t.onPointerDownCapture,q.onPointerDownCapture)})});kI.displayName=l5;var f5="DismissableLayerBranch",h5=w.forwardRef((t,e)=>{const n=w.useContext(OI),i=w.useRef(null),a=hn(e,i);return w.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),D.jsx(Dt.div,{...t,ref:a})});h5.displayName=f5;function d5(t,e=globalThis?.document){const n=so(t),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let d=function(){VI(c5,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function m5(t,e=globalThis?.document){const n=so(t),i=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!i.current&&VI(u5,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function xA(){const t=new CustomEvent(Dv);document.dispatchEvent(t)}function VI(t,e,n,{discrete:i}){const a=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?a5(a,l):a.dispatchEvent(l)}var Ay=0;function p5(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??RA()),document.body.insertAdjacentElement("beforeend",t[1]??RA()),Ay++,()=>{Ay===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ay--}},[])}function RA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xy="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",CA={bubbles:!1,cancelable:!0},g5="FocusScope",LI=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=t,[f,d]=w.useState(null),m=so(a),g=so(l),v=w.useRef(null),b=hn(e,R=>d(R)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let R=function(V){if(S.paused||!f)return;const $=V.target;f.contains($)?v.current=$:Ns(v.current,{select:!0})},A=function(V){if(S.paused||!f)return;const $=V.relatedTarget;$!==null&&(f.contains($)||Ns(v.current,{select:!0}))},O=function(V){if(document.activeElement===document.body)for(const q of V)q.removedNodes.length>0&&Ns(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",A);const N=new MutationObserver(O);return f&&N.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",A),N.disconnect()}}},[i,f,S.paused]),w.useEffect(()=>{if(f){DA.add(S);const R=document.activeElement;if(!f.contains(R)){const O=new CustomEvent(xy,CA);f.addEventListener(xy,m),f.dispatchEvent(O),O.defaultPrevented||(y5(T5(UI(f)),{select:!0}),document.activeElement===R&&Ns(f))}return()=>{f.removeEventListener(xy,m),setTimeout(()=>{const O=new CustomEvent(Ry,CA);f.addEventListener(Ry,g),f.dispatchEvent(O),O.defaultPrevented||Ns(R??document.body,{select:!0}),f.removeEventListener(Ry,g),DA.remove(S)},0)}}},[f,m,g,S]);const C=w.useCallback(R=>{if(!n&&!i||S.paused)return;const A=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,O=document.activeElement;if(A&&O){const N=R.currentTarget,[V,$]=v5(N);V&&$?!R.shiftKey&&O===$?(R.preventDefault(),n&&Ns(V,{select:!0})):R.shiftKey&&O===V&&(R.preventDefault(),n&&Ns($,{select:!0})):O===N&&R.preventDefault()}},[n,i,S.paused]);return D.jsx(Dt.div,{tabIndex:-1,...c,ref:b,onKeyDown:C})});LI.displayName=g5;function y5(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Ns(i,{select:e}),document.activeElement!==n)return}function v5(t){const e=UI(t),n=IA(e,t),i=IA(e.reverse(),t);return[n,i]}function UI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IA(t,e){for(const n of t)if(!_5(n,{upTo:e}))return n}function _5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function b5(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&b5(t)&&e&&t.select()}}var DA=E5();function E5(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=PA(t,e),t.unshift(e)},remove(e){t=PA(t,e),t[0]?.resume()}}}function PA(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function T5(t){return t.filter(e=>e.tagName!=="A")}var Vn=globalThis?.document?w.useLayoutEffect:()=>{},w5=fR[" useId ".trim().toString()]||(()=>{}),S5=0;function h_(t){const[e,n]=w.useState(w5());return Vn(()=>{n(i=>i??String(S5++))},[t]),t||(e?`radix-${e}`:"")}const A5=["top","right","bottom","left"],Zs=Math.min,$n=Math.max,em=Math.round,rd=Math.floor,ir=t=>({x:t,y:t}),x5={left:"right",right:"left",bottom:"top",top:"bottom"},R5={start:"end",end:"start"};function Pv(t,e,n){return $n(t,Zs(e,n))}function Wr(t,e){return typeof t=="function"?t(e):t}function Xr(t){return t.split("-")[0]}function tc(t){return t.split("-")[1]}function d_(t){return t==="x"?"y":"x"}function m_(t){return t==="y"?"height":"width"}const C5=new Set(["top","bottom"]);function Xi(t){return C5.has(Xr(t))?"y":"x"}function p_(t){return d_(Xi(t))}function I5(t,e,n){n===void 0&&(n=!1);const i=tc(t),a=p_(t),l=m_(a);let c=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=tm(c)),[c,tm(c)]}function D5(t){const e=tm(t);return[Nv(t),e,Nv(e)]}function Nv(t){return t.replace(/start|end/g,e=>R5[e])}const NA=["left","right"],MA=["right","left"],P5=["top","bottom"],N5=["bottom","top"];function M5(t,e,n){switch(t){case"top":case"bottom":return n?e?MA:NA:e?NA:MA;case"left":case"right":return e?P5:N5;default:return[]}}function O5(t,e,n,i){const a=tc(t);let l=M5(Xr(t),n==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Nv)))),l}function tm(t){return t.replace(/left|right|bottom|top/g,e=>x5[e])}function k5(t){return{top:0,right:0,bottom:0,left:0,...t}}function jI(t){return typeof t!="number"?k5(t):{top:t,right:t,bottom:t,left:t}}function nm(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function OA(t,e,n){let{reference:i,floating:a}=t;const l=Xi(e),c=p_(e),f=m_(c),d=Xr(e),m=l==="y",g=i.x+i.width/2-a.width/2,v=i.y+i.height/2-a.height/2,b=i[f]/2-a[f]/2;let S;switch(d){case"top":S={x:g,y:i.y-a.height};break;case"bottom":S={x:g,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:v};break;case"left":S={x:i.x-a.width,y:v};break;default:S={x:i.x,y:i.y}}switch(tc(e)){case"start":S[c]-=b*(n&&m?-1:1);break;case"end":S[c]+=b*(n&&m?-1:1);break}return S}const V5=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,f=l.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:g,y:v}=OA(m,i,d),b=i,S={},C=0;for(let R=0;R<f.length;R++){const{name:A,fn:O}=f[R],{x:N,y:V,data:$,reset:q}=await O({x:g,y:v,initialPlacement:i,placement:b,strategy:a,middlewareData:S,rects:m,platform:c,elements:{reference:t,floating:e}});g=N??g,v=V??v,S={...S,[A]:{...S[A],...$}},q&&C<=50&&(C++,typeof q=="object"&&(q.placement&&(b=q.placement),q.rects&&(m=q.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):q.rects),{x:g,y:v}=OA(m,b,d)),R=-1)}return{x:g,y:v,placement:b,strategy:a,middlewareData:S}};async function Ju(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=Wr(e,t),C=jI(S),A=f[b?v==="floating"?"reference":"floating":v],O=nm(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(A)))==null||n?A:A.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:d})),N=v==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),$=await(l.isElement==null?void 0:l.isElement(V))?await(l.getScale==null?void 0:l.getScale(V))||{x:1,y:1}:{x:1,y:1},q=nm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:V,strategy:d}):N);return{top:(O.top-q.top+C.top)/$.y,bottom:(q.bottom-O.bottom+C.bottom)/$.y,left:(O.left-q.left+C.left)/$.x,right:(q.right-O.right+C.right)/$.x}}const L5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:d}=e,{element:m,padding:g=0}=Wr(t,e)||{};if(m==null)return{};const v=jI(g),b={x:n,y:i},S=p_(a),C=m_(S),R=await c.getDimensions(m),A=S==="y",O=A?"top":"left",N=A?"bottom":"right",V=A?"clientHeight":"clientWidth",$=l.reference[C]+l.reference[S]-b[S]-l.floating[C],q=b[S]-l.reference[S],ie=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=ie?ie[V]:0;(!M||!await(c.isElement==null?void 0:c.isElement(ie)))&&(M=f.floating[V]||l.floating[C]);const x=$/2-q/2,k=M/2-R[C]/2-1,U=Zs(v[O],k),F=Zs(v[N],k),j=U,L=M-R[C]-F,Ee=M/2-R[C]/2+x,Te=Pv(j,Ee,L),K=!d.arrow&&tc(a)!=null&&Ee!==Te&&l.reference[C]/2-(Ee<j?U:F)-R[C]/2<0,re=K?Ee<j?Ee-j:Ee-L:0;return{[S]:b[S]+re,data:{[S]:Te,centerOffset:Ee-Te-re,...K&&{alignmentOffset:re}},reset:K}}}),U5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:d,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0,...A}=Wr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const O=Xr(a),N=Xi(f),V=Xr(f)===f,$=await(d.isRTL==null?void 0:d.isRTL(m.floating)),q=b||(V||!R?[tm(f)]:D5(f)),ie=C!=="none";!b&&ie&&q.push(...O5(f,R,C,$));const M=[f,...q],x=await Ju(e,A),k=[];let U=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&k.push(x[O]),v){const Ee=I5(a,c,$);k.push(x[Ee[0]],x[Ee[1]])}if(U=[...U,{placement:a,overflows:k}],!k.every(Ee=>Ee<=0)){var F,j;const Ee=(((F=l.flip)==null?void 0:F.index)||0)+1,Te=M[Ee];if(Te&&(!(v==="alignment"?N!==Xi(Te):!1)||U.every(X=>Xi(X.placement)===N?X.overflows[0]>0:!0)))return{data:{index:Ee,overflows:U},reset:{placement:Te}};let K=(j=U.filter(re=>re.overflows[0]<=0).sort((re,X)=>re.overflows[1]-X.overflows[1])[0])==null?void 0:j.placement;if(!K)switch(S){case"bestFit":{var L;const re=(L=U.filter(X=>{if(ie){const me=Xi(X.placement);return me===N||me==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(me=>me>0).reduce((me,z)=>me+z,0)]).sort((X,me)=>X[1]-me[1])[0])==null?void 0:L[0];re&&(K=re);break}case"initialPlacement":K=f;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function kA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VA(t){return A5.some(e=>t[e]>=0)}const j5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=Wr(t,e);switch(i){case"referenceHidden":{const l=await Ju(e,{...a,elementContext:"reference"}),c=kA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:VA(c)}}}case"escaped":{const l=await Ju(e,{...a,altBoundary:!0}),c=kA(l,n.floating);return{data:{escapedOffsets:c,escaped:VA(c)}}}default:return{}}}}},BI=new Set(["left","top"]);async function B5(t,e){const{placement:n,platform:i,elements:a}=t,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Xr(n),f=tc(n),d=Xi(n)==="y",m=BI.has(c)?-1:1,g=l&&d?-1:1,v=Wr(e,t);let{mainAxis:b,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*g,y:b*m}:{x:b*m,y:S*g}}const z5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:l,placement:c,middlewareData:f}=e,d=await B5(e,t);return c===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+d.x,y:l+d.y,data:{...d,placement:c}}}}},F5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:A=>{let{x:O,y:N}=A;return{x:O,y:N}}},...d}=Wr(t,e),m={x:n,y:i},g=await Ju(e,d),v=Xi(Xr(a)),b=d_(v);let S=m[b],C=m[v];if(l){const A=b==="y"?"top":"left",O=b==="y"?"bottom":"right",N=S+g[A],V=S-g[O];S=Pv(N,S,V)}if(c){const A=v==="y"?"top":"left",O=v==="y"?"bottom":"right",N=C+g[A],V=C-g[O];C=Pv(N,C,V)}const R=f.fn({...e,[b]:S,[v]:C});return{...R,data:{x:R.x-n,y:R.y-i,enabled:{[b]:l,[v]:c}}}}}},H5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:d=!0,crossAxis:m=!0}=Wr(t,e),g={x:n,y:i},v=Xi(a),b=d_(v);let S=g[b],C=g[v];const R=Wr(f,e),A=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(d){const V=b==="y"?"height":"width",$=l.reference[b]-l.floating[V]+A.mainAxis,q=l.reference[b]+l.reference[V]-A.mainAxis;S<$?S=$:S>q&&(S=q)}if(m){var O,N;const V=b==="y"?"width":"height",$=BI.has(Xr(a)),q=l.reference[v]-l.floating[V]+($&&((O=c.offset)==null?void 0:O[v])||0)+($?0:A.crossAxis),ie=l.reference[v]+l.reference[V]+($?0:((N=c.offset)==null?void 0:N[v])||0)-($?A.crossAxis:0);C<q?C=q:C>ie&&(C=ie)}return{[b]:S,[v]:C}}}},q5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:d=()=>{},...m}=Wr(t,e),g=await Ju(e,m),v=Xr(a),b=tc(a),S=Xi(a)==="y",{width:C,height:R}=l.floating;let A,O;v==="top"||v==="bottom"?(A=v,O=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(O=v,A=b==="end"?"top":"bottom");const N=R-g.top-g.bottom,V=C-g.left-g.right,$=Zs(R-g[A],N),q=Zs(C-g[O],V),ie=!e.middlewareData.shift;let M=$,x=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=V),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(M=N),ie&&!b){const U=$n(g.left,0),F=$n(g.right,0),j=$n(g.top,0),L=$n(g.bottom,0);S?x=C-2*(U!==0||F!==0?U+F:$n(g.left,g.right)):M=R-2*(j!==0||L!==0?j+L:$n(g.top,g.bottom))}await d({...e,availableWidth:x,availableHeight:M});const k=await c.getDimensions(f.floating);return C!==k.width||R!==k.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function nc(t){return zI(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hr(t){var e;return(e=(zI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zI(t){return jm()?t instanceof Node||t instanceof Wn(t).Node:!1}function Ci(t){return jm()?t instanceof Element||t instanceof Wn(t).Element:!1}function ur(t){return jm()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function LA(t){return!jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}const G5=new Set(["inline","contents"]);function bf(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=Ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!G5.has(a)}const $5=new Set(["table","td","th"]);function K5(t){return $5.has(nc(t))}const Y5=[":popover-open",":modal"];function Bm(t){return Y5.some(e=>{try{return t.matches(e)}catch{return!1}})}const W5=["transform","translate","scale","rotate","perspective"],X5=["transform","translate","scale","rotate","perspective","filter"],Q5=["paint","layout","strict","content"];function g_(t){const e=y_(),n=Ci(t)?Ii(t):t;return W5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||X5.some(i=>(n.willChange||"").includes(i))||Q5.some(i=>(n.contain||"").includes(i))}function Z5(t){let e=Js(t);for(;ur(e)&&!jl(e);){if(g_(e))return e;if(Bm(e))return null;e=Js(e)}return null}function y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const J5=new Set(["html","body","#document"]);function jl(t){return J5.has(nc(t))}function Ii(t){return Wn(t).getComputedStyle(t)}function zm(t){return Ci(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Js(t){if(nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LA(t)&&t.host||hr(t);return LA(e)?e.host:e}function FI(t){const e=Js(t);return jl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ur(e)&&bf(e)?e:FI(e)}function ef(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=FI(t),l=a===((i=t.ownerDocument)==null?void 0:i.body),c=Wn(a);if(l){const f=Mv(c);return e.concat(c,c.visualViewport||[],bf(a)?a:[],f&&n?ef(f):[])}return e.concat(a,ef(a,[],n))}function Mv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HI(t){const e=Ii(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=ur(t),l=a?t.offsetWidth:n,c=a?t.offsetHeight:i,f=em(n)!==l||em(i)!==c;return f&&(n=l,i=c),{width:n,height:i,$:f}}function v_(t){return Ci(t)?t:t.contextElement}function Cl(t){const e=v_(t);if(!ur(e))return ir(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:l}=HI(e);let c=(l?em(n.width):n.width)/i,f=(l?em(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const eB=ir(0);function qI(t){const e=Wn(t);return!y_()||!e.visualViewport?eB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function ao(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=v_(t);let c=ir(1);e&&(i?Ci(i)&&(c=Cl(i)):c=Cl(t));const f=tB(l,n,i)?qI(l):ir(0);let d=(a.left+f.x)/c.x,m=(a.top+f.y)/c.y,g=a.width/c.x,v=a.height/c.y;if(l){const b=Wn(l),S=i&&Ci(i)?Wn(i):i;let C=b,R=Mv(C);for(;R&&i&&S!==C;){const A=Cl(R),O=R.getBoundingClientRect(),N=Ii(R),V=O.left+(R.clientLeft+parseFloat(N.paddingLeft))*A.x,$=O.top+(R.clientTop+parseFloat(N.paddingTop))*A.y;d*=A.x,m*=A.y,g*=A.x,v*=A.y,d+=V,m+=$,C=Wn(R),R=Mv(C)}}return nm({width:g,height:v,x:d,y:m})}function Fm(t,e){const n=zm(t).scrollLeft;return e?e.left+n:ao(hr(t)).left+n}function GI(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Fm(t,n),a=n.top+e.scrollTop;return{x:i,y:a}}function nB(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const l=a==="fixed",c=hr(i),f=e?Bm(e.floating):!1;if(i===c||f&&l)return n;let d={scrollLeft:0,scrollTop:0},m=ir(1);const g=ir(0),v=ur(i);if((v||!v&&!l)&&((nc(i)!=="body"||bf(c))&&(d=zm(i)),ur(i))){const S=ao(i);m=Cl(i),g.x=S.x+i.clientLeft,g.y=S.y+i.clientTop}const b=c&&!v&&!l?GI(c,d):ir(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+g.x+b.x,y:n.y*m.y-d.scrollTop*m.y+g.y+b.y}}function iB(t){return Array.from(t.getClientRects())}function rB(t){const e=hr(t),n=zm(t),i=t.ownerDocument.body,a=$n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=$n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-n.scrollLeft+Fm(t);const f=-n.scrollTop;return Ii(i).direction==="rtl"&&(c+=$n(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}const UA=25;function sB(t,e){const n=Wn(t),i=hr(t),a=n.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,d=0;if(a){l=a.width,c=a.height;const g=y_();(!g||g&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const m=Fm(i);if(m<=0){const g=i.ownerDocument,v=g.body,b=getComputedStyle(v),S=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-S);C<=UA&&(l-=C)}else m<=UA&&(l+=m);return{width:l,height:c,x:f,y:d}}const aB=new Set(["absolute","fixed"]);function oB(t,e){const n=ao(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,l=ur(t)?Cl(t):ir(1),c=t.clientWidth*l.x,f=t.clientHeight*l.y,d=a*l.x,m=i*l.y;return{width:c,height:f,x:d,y:m}}function jA(t,e,n){let i;if(e==="viewport")i=sB(t,n);else if(e==="document")i=rB(hr(t));else if(Ci(e))i=oB(e,n);else{const a=qI(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return nm(i)}function $I(t,e){const n=Js(t);return n===e||!Ci(n)||jl(n)?!1:Ii(n).position==="fixed"||$I(n,e)}function lB(t,e){const n=e.get(t);if(n)return n;let i=ef(t,[],!1).filter(f=>Ci(f)&&nc(f)!=="body"),a=null;const l=Ii(t).position==="fixed";let c=l?Js(t):t;for(;Ci(c)&&!jl(c);){const f=Ii(c),d=g_(c);!d&&f.position==="fixed"&&(a=null),(l?!d&&!a:!d&&f.position==="static"&&!!a&&aB.has(a.position)||bf(c)&&!d&&$I(t,c))?i=i.filter(g=>g!==c):a=f,c=Js(c)}return e.set(t,i),i}function cB(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const c=[...n==="clippingAncestors"?Bm(e)?[]:lB(e,this._c):[].concat(n),i],f=c[0],d=c.reduce((m,g)=>{const v=jA(e,g,a);return m.top=$n(v.top,m.top),m.right=Zs(v.right,m.right),m.bottom=Zs(v.bottom,m.bottom),m.left=$n(v.left,m.left),m},jA(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function uB(t){const{width:e,height:n}=HI(t);return{width:e,height:n}}function fB(t,e,n){const i=ur(e),a=hr(e),l=n==="fixed",c=ao(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const d=ir(0);function m(){d.x=Fm(a)}if(i||!i&&!l)if((nc(e)!=="body"||bf(a))&&(f=zm(e)),i){const S=ao(e,!0,l,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&m();l&&!i&&a&&m();const g=a&&!i&&!l?GI(a,f):ir(0),v=c.left+f.scrollLeft-d.x-g.x,b=c.top+f.scrollTop-d.y-g.y;return{x:v,y:b,width:c.width,height:c.height}}function Cy(t){return Ii(t).position==="static"}function BA(t,e){if(!ur(t)||Ii(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hr(t)===n&&(n=n.ownerDocument.body),n}function KI(t,e){const n=Wn(t);if(Bm(t))return n;if(!ur(t)){let a=Js(t);for(;a&&!jl(a);){if(Ci(a)&&!Cy(a))return a;a=Js(a)}return n}let i=BA(t,e);for(;i&&K5(i)&&Cy(i);)i=BA(i,e);return i&&jl(i)&&Cy(i)&&!g_(i)?n:i||Z5(t)||n}const hB=async function(t){const e=this.getOffsetParent||KI,n=this.getDimensions,i=await n(t.floating);return{reference:fB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function dB(t){return Ii(t).direction==="rtl"}const mB={convertOffsetParentRelativeRectToViewportRelativeRect:nB,getDocumentElement:hr,getClippingRect:cB,getOffsetParent:KI,getElementRects:hB,getClientRects:iB,getDimensions:uB,getScale:Cl,isElement:Ci,isRTL:dB};function YI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pB(t,e){let n=null,i;const a=hr(t);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function c(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),l();const m=t.getBoundingClientRect(),{left:g,top:v,width:b,height:S}=m;if(f||e(),!b||!S)return;const C=rd(v),R=rd(a.clientWidth-(g+b)),A=rd(a.clientHeight-(v+S)),O=rd(g),V={rootMargin:-C+"px "+-R+"px "+-A+"px "+-O+"px",threshold:$n(0,Zs(1,d))||1};let $=!0;function q(ie){const M=ie[0].intersectionRatio;if(M!==d){if(!$)return c();M?c(!1,M):i=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!YI(m,t.getBoundingClientRect())&&c(),$=!1}try{n=new IntersectionObserver(q,{...V,root:a.ownerDocument})}catch{n=new IntersectionObserver(q,V)}n.observe(t)}return c(!0),l}function gB(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,m=v_(t),g=a||l?[...m?ef(m):[],...ef(e)]:[];g.forEach(O=>{a&&O.addEventListener("scroll",n,{passive:!0}),l&&O.addEventListener("resize",n)});const v=m&&f?pB(m,n):null;let b=-1,S=null;c&&(S=new ResizeObserver(O=>{let[N]=O;N&&N.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var V;(V=S)==null||V.observe(e)})),n()}),m&&!d&&S.observe(m),S.observe(e));let C,R=d?ao(t):null;d&&A();function A(){const O=ao(t);R&&!YI(R,O)&&n(),R=O,C=requestAnimationFrame(A)}return n(),()=>{var O;g.forEach(N=>{a&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),v?.(),(O=S)==null||O.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const yB=z5,vB=F5,_B=U5,bB=q5,EB=j5,zA=L5,TB=H5,wB=(t,e,n)=>{const i=new Map,a={platform:mB,...n},l={...a.platform,_c:i};return V5(t,e,{...a,platform:l})};var SB=typeof document<"u",AB=function(){},Ad=SB?w.useLayoutEffect:AB;function im(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!im(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&t.$$typeof)&&!im(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function WI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FA(t,e){const n=WI(t);return Math.round(e*n)/n}function Iy(t){const e=w.useRef(t);return Ad(()=>{e.current=t}),e}function xB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:d,open:m}=t,[g,v]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(i);im(b,i)||S(i);const[C,R]=w.useState(null),[A,O]=w.useState(null),N=w.useCallback(X=>{X!==ie.current&&(ie.current=X,R(X))},[]),V=w.useCallback(X=>{X!==M.current&&(M.current=X,O(X))},[]),$=l||C,q=c||A,ie=w.useRef(null),M=w.useRef(null),x=w.useRef(g),k=d!=null,U=Iy(d),F=Iy(a),j=Iy(m),L=w.useCallback(()=>{if(!ie.current||!M.current)return;const X={placement:e,strategy:n,middleware:b};F.current&&(X.platform=F.current),wB(ie.current,M.current,X).then(me=>{const z={...me,isPositioned:j.current!==!1};Ee.current&&!im(x.current,z)&&(x.current=z,uf.flushSync(()=>{v(z)}))})},[b,e,n,F,j]);Ad(()=>{m===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,v(X=>({...X,isPositioned:!1})))},[m]);const Ee=w.useRef(!1);Ad(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Ad(()=>{if($&&(ie.current=$),q&&(M.current=q),$&&q){if(U.current)return U.current($,q,L);L()}},[$,q,L,U,k]);const Te=w.useMemo(()=>({reference:ie,floating:M,setReference:N,setFloating:V}),[N,V]),K=w.useMemo(()=>({reference:$,floating:q}),[$,q]),re=w.useMemo(()=>{const X={position:n,left:0,top:0};if(!K.floating)return X;const me=FA(K.floating,g.x),z=FA(K.floating,g.y);return f?{...X,transform:"translate("+me+"px, "+z+"px)",...WI(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:z}},[n,f,K.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:L,refs:Te,elements:K,floatingStyles:re}),[g,L,Te,K,re])}const RB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?zA({element:i.current,padding:a}).fn(n):{}:i?zA({element:i,padding:a}).fn(n):{}}}},CB=(t,e)=>({...yB(t),options:[t,e]}),IB=(t,e)=>({...vB(t),options:[t,e]}),DB=(t,e)=>({...TB(t),options:[t,e]}),PB=(t,e)=>({..._B(t),options:[t,e]}),NB=(t,e)=>({...bB(t),options:[t,e]}),MB=(t,e)=>({...EB(t),options:[t,e]}),OB=(t,e)=>({...RB(t),options:[t,e]});var kB="Arrow",XI=w.forwardRef((t,e)=>{const{children:n,width:i=10,height:a=5,...l}=t;return D.jsx(Dt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:D.jsx("polygon",{points:"0,0 30,0 15,10"})})});XI.displayName=kB;var VB=XI;function LB(t){const[e,n]=w.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const d=l.borderBoxSize,m=Array.isArray(d)?d[0]:d;c=m.inlineSize,f=m.blockSize}else c=t.offsetWidth,f=t.offsetHeight;n({width:c,height:f})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var __="Popper",[QI,ZI]=f_(__),[UB,JI]=QI(__),eD=t=>{const{__scopePopper:e,children:n}=t,[i,a]=w.useState(null);return D.jsx(UB,{scope:e,anchor:i,onAnchorChange:a,children:n})};eD.displayName=__;var tD="PopperAnchor",nD=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...a}=t,l=JI(tD,n),c=w.useRef(null),f=hn(e,c),d=w.useRef(null);return w.useEffect(()=>{const m=d.current;d.current=i?.current||c.current,m!==d.current&&l.onAnchorChange(d.current)}),i?null:D.jsx(Dt.div,{...a,ref:f})});nD.displayName=tD;var b_="PopperContent",[jB,BB]=QI(b_),iD=w.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:C,...R}=t,A=JI(b_,n),[O,N]=w.useState(null),V=hn(e,he=>N(he)),[$,q]=w.useState(null),ie=LB($),M=ie?.width??0,x=ie?.height??0,k=i+(l!=="center"?"-"+l:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(m)?m:[m],j=F.length>0,L={padding:U,boundary:F.filter(FB),altBoundary:j},{refs:Ee,floatingStyles:Te,placement:K,isPositioned:re,middlewareData:X}=xB({strategy:"fixed",placement:k,whileElementsMounted:(...he)=>gB(...he,{animationFrame:S==="always"}),elements:{reference:A.anchor},middleware:[CB({mainAxis:a+x,alignmentAxis:c}),d&&IB({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?DB():void 0,...L}),d&&PB({...L}),NB({...L,apply:({elements:he,rects:Ae,availableWidth:He,availableHeight:Ve})=>{const{width:je,height:Qe}=Ae.reference,Pt=he.floating.style;Pt.setProperty("--radix-popper-available-width",`${He}px`),Pt.setProperty("--radix-popper-available-height",`${Ve}px`),Pt.setProperty("--radix-popper-anchor-width",`${je}px`),Pt.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),$&&OB({element:$,padding:f}),HB({arrowWidth:M,arrowHeight:x}),b&&MB({strategy:"referenceHidden",...L})]}),[me,z]=aD(K),ae=so(C);Vn(()=>{re&&ae?.()},[re,ae]);const ee=X.arrow?.x,te=X.arrow?.y,fe=X.arrow?.centerOffset!==0,[we,ge]=w.useState();return Vn(()=>{O&&ge(window.getComputedStyle(O).zIndex)},[O]),D.jsx("div",{ref:Ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:re?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:D.jsx(jB,{scope:n,placedSide:me,onArrowChange:q,arrowX:ee,arrowY:te,shouldHideArrow:fe,children:D.jsx(Dt.div,{"data-side":me,"data-align":z,...R,ref:V,style:{...R.style,animation:re?void 0:"none"}})})})});iD.displayName=b_;var rD="PopperArrow",zB={top:"bottom",right:"left",bottom:"top",left:"right"},sD=w.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,l=BB(rD,i),c=zB[l.placedSide];return D.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:D.jsx(VB,{...a,ref:n,style:{...a.style,display:"block"}})})});sD.displayName=rD;function FB(t){return t!==null}var HB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:a}=e,c=a.arrow?.centerOffset!==0,f=c?0:t.arrowWidth,d=c?0:t.arrowHeight,[m,g]=aD(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let C="",R="";return m==="bottom"?(C=c?v:`${b}px`,R=`${-d}px`):m==="top"?(C=c?v:`${b}px`,R=`${i.floating.height+d}px`):m==="right"?(C=`${-d}px`,R=c?v:`${S}px`):m==="left"&&(C=`${i.floating.width+d}px`,R=c?v:`${S}px`),{data:{x:C,y:R}}}});function aD(t){const[e,n="center"]=t.split("-");return[e,n]}var qB=eD,GB=nD,$B=iD,KB=sD,YB="Portal",oD=w.forwardRef((t,e)=>{const{container:n,...i}=t,[a,l]=w.useState(!1);Vn(()=>l(!0),[]);const c=n||a&&globalThis?.document?.body;return c?S2.createPortal(D.jsx(Dt.div,{...i,ref:e}),c):null});oD.displayName=YB;var WB=fR[" useInsertionEffect ".trim().toString()]||Vn;function HA({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[a,l,c]=XB({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const g=w.useRef(t!==void 0);w.useEffect(()=>{const v=g.current;v!==f&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,i])}const m=w.useCallback(g=>{if(f){const v=QB(g)?g(t):g;v!==t&&c.current?.(v)}else l(g)},[f,t,l,c]);return[d,m]}function XB({defaultProp:t,onChange:e}){const[n,i]=w.useState(t),a=w.useRef(n),l=w.useRef(e);return WB(()=>{l.current=e},[e]),w.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,i,l]}function QB(t){return typeof t=="function"}function ZB(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JB="VisuallyHidden",ez=w.forwardRef((t,e)=>D.jsx(Dt.span,{...t,ref:e,style:{...lD,...t.style}}));ez.displayName=JB;var tz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},cl=new WeakMap,sd=new WeakMap,ad={},Dy=0,cD=function(t){return t&&(t.host||cD(t.parentNode))},nz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=cD(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iz=function(t,e,n,i){var a=nz(e,Array.isArray(t)?t:[t]);ad[n]||(ad[n]=new WeakMap);var l=ad[n],c=[],f=new Set,d=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var g=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(f.has(b))g(b);else try{var S=b.getAttribute(i),C=S!==null&&S!=="false",R=(cl.get(b)||0)+1,A=(l.get(b)||0)+1;cl.set(b,R),l.set(b,A),c.push(b),R===1&&C&&sd.set(b,!0),A===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(O){console.error("aria-hidden: cannot operate on ",b,O)}})};return g(e),f.clear(),Dy++,function(){c.forEach(function(v){var b=cl.get(v)-1,S=l.get(v)-1;cl.set(v,b),l.set(v,S),b||(sd.has(v)||v.removeAttribute(i),sd.delete(v)),S||v.removeAttribute(n)}),Dy--,Dy||(cl=new WeakMap,cl=new WeakMap,sd=new WeakMap,ad={})}},rz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),a=tz(t);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),iz(i,a,n,"aria-hidden")):function(){return null}},Wi=function(){return Wi=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Wi.apply(this,arguments)};function uD(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function sz(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}var xd="right-scroll-bar-position",Rd="width-before-scroll-bar",az="with-scroll-bars-hidden",oz="--removed-body-scroll-bar-size";function Py(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lz(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var a=n.value;a!==i&&(n.value=i,n.callback(i,a))}}}})[0];return n.callback=e,n.facade}var cz=typeof window<"u"?w.useLayoutEffect:w.useEffect,qA=new WeakMap;function uz(t,e){var n=lz(null,function(i){return t.forEach(function(a){return Py(a,i)})});return cz(function(){var i=qA.get(n);if(i){var a=new Set(i),l=new Set(t),c=n.current;a.forEach(function(f){l.has(f)||Py(f,null)}),l.forEach(function(f){a.has(f)||Py(f,c)})}qA.set(n,t)},[t]),n}function fz(t){return t}function hz(t,e){e===void 0&&(e=fz);var n=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,i);return n.push(c),function(){n=n.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var c=[];if(n.length){var f=n;n=[],f.forEach(l),c=n}var d=function(){var g=c;c=[],g.forEach(l)},m=function(){return Promise.resolve().then(d)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return a}function dz(t){t===void 0&&(t={});var e=hz(null);return e.options=Wi({async:!0,ssr:!1},t),e}var fD=function(t){var e=t.sideCar,n=uD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Wi({},n))};fD.isSideCarExport=!0;function mz(t,e){return t.useMedium(e),fD}var hD=dz(),Ny=function(){},Hm=w.forwardRef(function(t,e){var n=w.useRef(null),i=w.useState({onScrollCapture:Ny,onWheelCapture:Ny,onTouchMoveCapture:Ny}),a=i[0],l=i[1],c=t.forwardProps,f=t.children,d=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,b=t.sideCar,S=t.noRelative,C=t.noIsolation,R=t.inert,A=t.allowPinchZoom,O=t.as,N=O===void 0?"div":O,V=t.gapMode,$=uD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=b,ie=uz([n,e]),M=Wi(Wi({},$),a);return w.createElement(w.Fragment,null,g&&w.createElement(q,{sideCar:hD,removeScrollBar:m,shards:v,noRelative:S,noIsolation:C,inert:R,setCallbacks:l,allowPinchZoom:!!A,lockRef:n,gapMode:V}),c?w.cloneElement(w.Children.only(f),Wi(Wi({},M),{ref:ie})):w.createElement(N,Wi({},M,{className:d,ref:ie}),f))});Hm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hm.classNames={fullWidth:Rd,zeroRight:xd};var pz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pz();return e&&t.setAttribute("nonce",e),t}function yz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _z=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gz())&&(yz(e,n),vz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bz=function(){var t=_z();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dD=function(){var t=bz(),e=function(n){var i=n.styles,a=n.dynamic;return t(i,a),null};return e},Ez={left:0,top:0,right:0,gap:0},My=function(t){return parseInt(t||"",10)||0},Tz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[My(n),My(i),My(a)]},wz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ez;var e=Tz(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},Sz=dD(),Il="data-scroll-locked",Az=function(t,e,n,i){var a=t.left,l=t.top,c=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(az,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Il,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xd,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Rd,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Il,`] {
    `).concat(oz,": ").concat(f,`px;
  }
`)},GA=function(){var t=parseInt(document.body.getAttribute(Il)||"0",10);return isFinite(t)?t:0},xz=function(){w.useEffect(function(){return document.body.setAttribute(Il,(GA()+1).toString()),function(){var t=GA()-1;t<=0?document.body.removeAttribute(Il):document.body.setAttribute(Il,t.toString())}},[])},Rz=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,a=i===void 0?"margin":i;xz();var l=w.useMemo(function(){return wz(a)},[a]);return w.createElement(Sz,{styles:Az(l,!e,a,n?"":"!important")})},Ov=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return Ov=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Ov=!1}var ul=Ov?{passive:!1}:!1,Cz=function(t){return t.tagName==="TEXTAREA"},mD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Cz(t)&&n[e]==="visible")},Iz=function(t){return mD(t,"overflowY")},Dz=function(t){return mD(t,"overflowX")},$A=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=pD(t,i);if(a){var l=gD(t,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},Pz=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},Nz=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},pD=function(t,e){return t==="v"?Iz(e):Dz(e)},gD=function(t,e){return t==="v"?Pz(e):Nz(e)},Mz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Oz=function(t,e,n,i,a){var l=Mz(t,window.getComputedStyle(e).direction),c=l*i,f=n.target,d=e.contains(f),m=!1,g=c>0,v=0,b=0;do{if(!f)break;var S=gD(t,f),C=S[0],R=S[1],A=S[2],O=R-A-l*C;(C||O)&&pD(t,f)&&(v+=O,b+=C);var N=f.parentNode;f=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&f!==document.body||d&&(e.contains(f)||e===f));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(m=!0),m},ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KA=function(t){return[t.deltaX,t.deltaY]},YA=function(t){return t&&"current"in t?t.current:t},kz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Lz=0,fl=[];function Uz(t){var e=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),a=w.useState(Lz++)[0],l=w.useState(dD)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var R=sz([t.lockRef.current],(t.shards||[]).map(YA),!0).filter(Boolean);return R.forEach(function(A){return A.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),R.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=w.useCallback(function(R,A){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var O=ld(R),N=n.current,V="deltaX"in R?R.deltaX:N[0]-O[0],$="deltaY"in R?R.deltaY:N[1]-O[1],q,ie=R.target,M=Math.abs(V)>Math.abs($)?"h":"v";if("touches"in R&&M==="h"&&ie.type==="range")return!1;var x=$A(M,ie);if(!x)return!0;if(x?q=M:(q=M==="v"?"h":"v",x=$A(M,ie)),!x)return!1;if(!i.current&&"changedTouches"in R&&(V||$)&&(i.current=q),!q)return!0;var k=i.current||q;return Oz(k,A,R,k==="h"?V:$)},[]),d=w.useCallback(function(R){var A=R;if(!(!fl.length||fl[fl.length-1]!==l)){var O="deltaY"in A?KA(A):ld(A),N=e.current.filter(function(q){return q.name===A.type&&(q.target===A.target||A.target===q.shadowParent)&&kz(q.delta,O)})[0];if(N&&N.should){A.cancelable&&A.preventDefault();return}if(!N){var V=(c.current.shards||[]).map(YA).filter(Boolean).filter(function(q){return q.contains(A.target)}),$=V.length>0?f(A,V[0]):!c.current.noIsolation;$&&A.cancelable&&A.preventDefault()}}},[]),m=w.useCallback(function(R,A,O,N){var V={name:R,delta:A,target:O,should:N,shadowParent:jz(O)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function($){return $!==V})},1)},[]),g=w.useCallback(function(R){n.current=ld(R),i.current=void 0},[]),v=w.useCallback(function(R){m(R.type,KA(R),R.target,f(R,t.lockRef.current))},[]),b=w.useCallback(function(R){m(R.type,ld(R),R.target,f(R,t.lockRef.current))},[]);w.useEffect(function(){return fl.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,ul),document.addEventListener("touchmove",d,ul),document.addEventListener("touchstart",g,ul),function(){fl=fl.filter(function(R){return R!==l}),document.removeEventListener("wheel",d,ul),document.removeEventListener("touchmove",d,ul),document.removeEventListener("touchstart",g,ul)}},[]);var S=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(l,{styles:Vz(a)}):null,S?w.createElement(Rz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Bz=mz(hD,Uz);var yD=w.forwardRef(function(t,e){return w.createElement(Hm,Wi({},t,{ref:e,sideCar:Bz}))});yD.classNames=Hm.classNames;var zz=[" ","Enter","ArrowUp","ArrowDown"],Fz=[" ","Enter"],oo="Select",[qm,Gm,Hz]=n5(oo),[ic,xG]=f_(oo,[Hz,ZI]),$m=ZI(),[qz,sa]=ic(oo),[Gz,$z]=ic(oo),vD=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:d,dir:m,name:g,autoComplete:v,disabled:b,required:S,form:C}=t,R=$m(e),[A,O]=w.useState(null),[N,V]=w.useState(null),[$,q]=w.useState(!1),ie=r5(m),[M,x]=HA({prop:i,defaultProp:a??!1,onChange:l,caller:oo}),[k,U]=HA({prop:c,defaultProp:f,onChange:d,caller:oo}),F=w.useRef(null),j=A?C||!!A.closest("form"):!0,[L,Ee]=w.useState(new Set),Te=Array.from(L).map(K=>K.props.value).join(";");return D.jsx(qB,{...R,children:D.jsxs(qz,{required:S,scope:e,trigger:A,onTriggerChange:O,valueNode:N,onValueNodeChange:V,valueNodeHasChildren:$,onValueNodeHasChildrenChange:q,contentId:h_(),value:k,onValueChange:U,open:M,onOpenChange:x,dir:ie,triggerPointerDownPosRef:F,disabled:b,children:[D.jsx(qm.Provider,{scope:e,children:D.jsx(Gz,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(K=>{Ee(re=>new Set(re).add(K))},[]),onNativeOptionRemove:w.useCallback(K=>{Ee(re=>{const X=new Set(re);return X.delete(K),X})},[]),children:n})}),j?D.jsxs(BD,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:v,value:k,onChange:K=>U(K.target.value),disabled:b,form:C,children:[k===void 0?D.jsx("option",{value:""}):null,Array.from(L)]},Te):null]})})};vD.displayName=oo;var _D="SelectTrigger",bD=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...a}=t,l=$m(n),c=sa(_D,n),f=c.disabled||i,d=hn(e,c.onTriggerChange),m=Gm(n),g=w.useRef("touch"),[v,b,S]=FD(R=>{const A=m().filter(V=>!V.disabled),O=A.find(V=>V.value===c.value),N=HD(A,R,O);N!==void 0&&c.onValueChange(N.value)}),C=R=>{f||(c.onOpenChange(!0),S()),R&&(c.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return D.jsx(GB,{asChild:!0,...l,children:D.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":zD(c.value)?"":void 0,...a,ref:d,onClick:Ut(a.onClick,R=>{R.currentTarget.focus(),g.current!=="mouse"&&C(R)}),onPointerDown:Ut(a.onPointerDown,R=>{g.current=R.pointerType;const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(C(R),R.preventDefault())}),onKeyDown:Ut(a.onKeyDown,R=>{const A=v.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&b(R.key),!(A&&R.key===" ")&&zz.includes(R.key)&&(C(),R.preventDefault())})})})});bD.displayName=_D;var ED="SelectValue",TD=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:a,children:l,placeholder:c="",...f}=t,d=sa(ED,n),{onValueNodeHasChildrenChange:m}=d,g=l!==void 0,v=hn(e,d.onValueNodeChange);return Vn(()=>{m(g)},[m,g]),D.jsx(Dt.span,{...f,ref:v,style:{pointerEvents:"none"},children:zD(d.value)?D.jsx(D.Fragment,{children:c}):l})});TD.displayName=ED;var Kz="SelectIcon",wD=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...a}=t;return D.jsx(Dt.span,{"aria-hidden":!0,...a,ref:e,children:i||"▼"})});wD.displayName=Kz;var Yz="SelectPortal",SD=t=>D.jsx(oD,{asChild:!0,...t});SD.displayName=Yz;var lo="SelectContent",AD=w.forwardRef((t,e)=>{const n=sa(lo,t.__scopeSelect),[i,a]=w.useState();if(Vn(()=>{a(new DocumentFragment)},[]),!n.open){const l=i;return l?uf.createPortal(D.jsx(xD,{scope:t.__scopeSelect,children:D.jsx(qm.Slot,{scope:t.__scopeSelect,children:D.jsx("div",{children:t.children})})}),l):null}return D.jsx(RD,{...t,ref:e})});AD.displayName=lo;var bi=10,[xD,aa]=ic(lo),Wz="SelectContentImpl",Xz=Zu("SelectContent.RemoveScroll"),RD=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:d,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:A,...O}=t,N=sa(lo,n),[V,$]=w.useState(null),[q,ie]=w.useState(null),M=hn(e,he=>$(he)),[x,k]=w.useState(null),[U,F]=w.useState(null),j=Gm(n),[L,Ee]=w.useState(!1),Te=w.useRef(!1);w.useEffect(()=>{if(V)return rz(V)},[V]),p5();const K=w.useCallback(he=>{const[Ae,...He]=j().map(Qe=>Qe.ref.current),[Ve]=He.slice(-1),je=document.activeElement;for(const Qe of he)if(Qe===je||(Qe?.scrollIntoView({block:"nearest"}),Qe===Ae&&q&&(q.scrollTop=0),Qe===Ve&&q&&(q.scrollTop=q.scrollHeight),Qe?.focus(),document.activeElement!==je))return},[j,q]),re=w.useCallback(()=>K([x,V]),[K,x,V]);w.useEffect(()=>{L&&re()},[L,re]);const{onOpenChange:X,triggerPointerDownPosRef:me}=N;w.useEffect(()=>{if(V){let he={x:0,y:0};const Ae=Ve=>{he={x:Math.abs(Math.round(Ve.pageX)-(me.current?.x??0)),y:Math.abs(Math.round(Ve.pageY)-(me.current?.y??0))}},He=Ve=>{he.x<=10&&he.y<=10?Ve.preventDefault():V.contains(Ve.target)||X(!1),document.removeEventListener("pointermove",Ae),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",He,{capture:!0})}}},[V,X,me]),w.useEffect(()=>{const he=()=>X(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[X]);const[z,ae]=FD(he=>{const Ae=j().filter(je=>!je.disabled),He=Ae.find(je=>je.ref.current===document.activeElement),Ve=HD(Ae,he,He);Ve&&setTimeout(()=>Ve.ref.current.focus())}),ee=w.useCallback((he,Ae,He)=>{const Ve=!Te.current&&!He;(N.value!==void 0&&N.value===Ae||Ve)&&(k(he),Ve&&(Te.current=!0))},[N.value]),te=w.useCallback(()=>V?.focus(),[V]),fe=w.useCallback((he,Ae,He)=>{const Ve=!Te.current&&!He;(N.value!==void 0&&N.value===Ae||Ve)&&F(he)},[N.value]),we=i==="popper"?kv:CD,ge=we===kv?{side:f,sideOffset:d,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:A}:{};return D.jsx(xD,{scope:n,content:V,viewport:q,onViewportChange:ie,itemRefCallback:ee,selectedItem:x,onItemLeave:te,itemTextRefCallback:fe,focusSelectedItem:re,selectedItemText:U,position:i,isPositioned:L,searchRef:z,children:D.jsx(yD,{as:Xz,allowPinchZoom:!0,children:D.jsx(LI,{asChild:!0,trapped:N.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ut(a,he=>{N.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:D.jsx(kI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:D.jsx(we,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:he=>he.preventDefault(),...O,...ge,onPlaced:()=>Ee(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:Ut(O.onKeyDown,he=>{const Ae=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Ae&&he.key.length===1&&ae(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ve=j().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const je=he.target,Qe=Ve.indexOf(je);Ve=Ve.slice(Qe+1)}setTimeout(()=>K(Ve)),he.preventDefault()}})})})})})})});RD.displayName=Wz;var Qz="SelectItemAlignedPosition",CD=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...a}=t,l=sa(lo,n),c=aa(lo,n),[f,d]=w.useState(null),[m,g]=w.useState(null),v=hn(e,M=>g(M)),b=Gm(n),S=w.useRef(!1),C=w.useRef(!0),{viewport:R,selectedItem:A,selectedItemText:O,focusSelectedItem:N}=c,V=w.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&R&&A&&O){const M=l.trigger.getBoundingClientRect(),x=m.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),U=O.getBoundingClientRect();if(l.dir!=="rtl"){const je=U.left-x.left,Qe=k.left-je,Pt=M.left-Qe,wn=M.width+Pt,dr=Math.max(wn,x.width),es=window.innerWidth-bi,dn=SA(Qe,[bi,Math.max(bi,es-dr)]);f.style.minWidth=wn+"px",f.style.left=dn+"px"}else{const je=x.right-U.right,Qe=window.innerWidth-k.right-je,Pt=window.innerWidth-M.right-Qe,wn=M.width+Pt,dr=Math.max(wn,x.width),es=window.innerWidth-bi,dn=SA(Qe,[bi,Math.max(bi,es-dr)]);f.style.minWidth=wn+"px",f.style.right=dn+"px"}const F=b(),j=window.innerHeight-bi*2,L=R.scrollHeight,Ee=window.getComputedStyle(m),Te=parseInt(Ee.borderTopWidth,10),K=parseInt(Ee.paddingTop,10),re=parseInt(Ee.borderBottomWidth,10),X=parseInt(Ee.paddingBottom,10),me=Te+K+L+X+re,z=Math.min(A.offsetHeight*5,me),ae=window.getComputedStyle(R),ee=parseInt(ae.paddingTop,10),te=parseInt(ae.paddingBottom,10),fe=M.top+M.height/2-bi,we=j-fe,ge=A.offsetHeight/2,he=A.offsetTop+ge,Ae=Te+K+he,He=me-Ae;if(Ae<=fe){const je=F.length>0&&A===F[F.length-1].ref.current;f.style.bottom="0px";const Qe=m.clientHeight-R.offsetTop-R.offsetHeight,Pt=Math.max(we,ge+(je?te:0)+Qe+re),wn=Ae+Pt;f.style.height=wn+"px"}else{const je=F.length>0&&A===F[0].ref.current;f.style.top="0px";const Pt=Math.max(fe,Te+R.offsetTop+(je?ee:0)+ge)+He;f.style.height=Pt+"px",R.scrollTop=Ae-fe+R.offsetTop}f.style.margin=`${bi}px 0`,f.style.minHeight=z+"px",f.style.maxHeight=j+"px",i?.(),requestAnimationFrame(()=>S.current=!0)}},[b,l.trigger,l.valueNode,f,m,R,A,O,l.dir,i]);Vn(()=>V(),[V]);const[$,q]=w.useState();Vn(()=>{m&&q(window.getComputedStyle(m).zIndex)},[m]);const ie=w.useCallback(M=>{M&&C.current===!0&&(V(),N?.(),C.current=!1)},[V,N]);return D.jsx(Jz,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:ie,children:D.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:D.jsx(Dt.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});CD.displayName=Qz;var Zz="SelectPopperPosition",kv=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:a=bi,...l}=t,c=$m(n);return D.jsx($B,{...c,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kv.displayName=Zz;var[Jz,E_]=ic(lo,{}),Vv="SelectViewport",ID=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...a}=t,l=aa(Vv,n),c=E_(Vv,n),f=hn(e,l.onViewportChange),d=w.useRef(0);return D.jsxs(D.Fragment,{children:[D.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),D.jsx(qm.Slot,{scope:n,children:D.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ut(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=c;if(b?.current&&v){const S=Math.abs(d.current-g.scrollTop);if(S>0){const C=window.innerHeight-bi*2,R=parseFloat(v.style.minHeight),A=parseFloat(v.style.height),O=Math.max(R,A);if(O<C){const N=O+S,V=Math.min(C,N),$=N-V;v.style.height=V+"px",v.style.bottom==="0px"&&(g.scrollTop=$>0?$:0,v.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});ID.displayName=Vv;var DD="SelectGroup",[eF,tF]=ic(DD),nF=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=h_();return D.jsx(eF,{scope:n,id:a,children:D.jsx(Dt.div,{role:"group","aria-labelledby":a,...i,ref:e})})});nF.displayName=DD;var PD="SelectLabel",iF=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=tF(PD,n);return D.jsx(Dt.div,{id:a.id,...i,ref:e})});iF.displayName=PD;var rm="SelectItem",[rF,ND]=ic(rm),MD=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:a=!1,textValue:l,...c}=t,f=sa(rm,n),d=aa(rm,n),m=f.value===i,[g,v]=w.useState(l??""),[b,S]=w.useState(!1),C=hn(e,N=>d.itemRefCallback?.(N,i,a)),R=h_(),A=w.useRef("touch"),O=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return D.jsx(rF,{scope:n,value:i,disabled:a,textId:R,isSelected:m,onItemTextChange:w.useCallback(N=>{v(V=>V||(N?.textContent??"").trim())},[]),children:D.jsx(qm.ItemSlot,{scope:n,value:i,disabled:a,textValue:g,children:D.jsx(Dt.div,{role:"option","aria-labelledby":R,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:Ut(c.onFocus,()=>S(!0)),onBlur:Ut(c.onBlur,()=>S(!1)),onClick:Ut(c.onClick,()=>{A.current!=="mouse"&&O()}),onPointerUp:Ut(c.onPointerUp,()=>{A.current==="mouse"&&O()}),onPointerDown:Ut(c.onPointerDown,N=>{A.current=N.pointerType}),onPointerMove:Ut(c.onPointerMove,N=>{A.current=N.pointerType,a?d.onItemLeave?.():A.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ut(c.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(Fz.includes(N.key)&&O(),N.key===" "&&N.preventDefault())})})})})});MD.displayName=rm;var Ru="SelectItemText",OD=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:a,...l}=t,c=sa(Ru,n),f=aa(Ru,n),d=ND(Ru,n),m=$z(Ru,n),[g,v]=w.useState(null),b=hn(e,O=>v(O),d.onItemTextChange,O=>f.itemTextRefCallback?.(O,d.value,d.disabled)),S=g?.textContent,C=w.useMemo(()=>D.jsx("option",{value:d.value,disabled:d.disabled,children:S},d.value),[d.disabled,d.value,S]),{onNativeOptionAdd:R,onNativeOptionRemove:A}=m;return Vn(()=>(R(C),()=>A(C)),[R,A,C]),D.jsxs(D.Fragment,{children:[D.jsx(Dt.span,{id:d.textId,...l,ref:b}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?uf.createPortal(l.children,c.valueNode):null]})});OD.displayName=Ru;var kD="SelectItemIndicator",VD=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return ND(kD,n).isSelected?D.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e}):null});VD.displayName=kD;var Lv="SelectScrollUpButton",LD=w.forwardRef((t,e)=>{const n=aa(Lv,t.__scopeSelect),i=E_(Lv,t.__scopeSelect),[a,l]=w.useState(!1),c=hn(e,i.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=d.scrollTop>0;l(m)};const d=n.viewport;return f(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?D.jsx(jD,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:d}=n;f&&d&&(f.scrollTop=f.scrollTop-d.offsetHeight)}}):null});LD.displayName=Lv;var Uv="SelectScrollDownButton",UD=w.forwardRef((t,e)=>{const n=aa(Uv,t.__scopeSelect),i=E_(Uv,t.__scopeSelect),[a,l]=w.useState(!1),c=hn(e,i.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<m;l(g)};const d=n.viewport;return f(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?D.jsx(jD,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:d}=n;f&&d&&(f.scrollTop=f.scrollTop+d.offsetHeight)}}):null});UD.displayName=Uv;var jD=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...a}=t,l=aa("SelectScrollButton",n),c=w.useRef(null),f=Gm(n),d=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Vn(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),D.jsx(Dt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Ut(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ut(a.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ut(a.onPointerLeave,()=>{d()})})}),sF="SelectSeparator",aF=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return D.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e})});aF.displayName=sF;var jv="SelectArrow",oF=w.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,a=$m(n),l=sa(jv,n),c=aa(jv,n);return l.open&&c.position==="popper"?D.jsx(KB,{...a,...i,ref:e}):null});oF.displayName=jv;var lF="SelectBubbleInput",BD=w.forwardRef(({__scopeSelect:t,value:e,...n},i)=>{const a=w.useRef(null),l=hn(i,a),c=ZB(e);return w.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==e&&g){const v=new Event("change",{bubbles:!0});g.call(f,e),f.dispatchEvent(v)}},[c,e]),D.jsx(Dt.select,{...n,style:{...lD,...n.style},ref:l,defaultValue:e})});BD.displayName=lF;function zD(t){return t===""||t===void 0}function FD(t){const e=so(t),n=w.useRef(""),i=w.useRef(0),a=w.useCallback(c=>{const f=n.current+c;e(f),(function d(m){n.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(f)},[e]),l=w.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,a,l]}function HD(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=cF(t,Math.max(l,0));a.length===1&&(c=c.filter(m=>m!==n));const d=c.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function cF(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var uF=vD,fF=bD,hF=TD,dF=wD,mF=SD,pF=AD,gF=ID,yF=MD,vF=OD,_F=VD,bF=LD,EF=UD;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),WA=t=>{const e=wF(t);return e.charAt(0).toUpperCase()+e.slice(1)},qD=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),SF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},d)=>w.createElement("svg",{ref:d,...AF,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:qD("lucide",a),...!l&&!SF(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=(t,e)=>{const n=w.forwardRef(({className:i,...a},l)=>w.createElement(xF,{ref:l,iconNode:e,className:qD(`lucide-${TF(WA(t))}`,`lucide-${t}`,i),...a}));return n.displayName=WA(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],CF=T_("check",RF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GD=T_("chevron-down",IF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PF=T_("chevron-up",DF);function NF({...t}){return D.jsx(uF,{"data-slot":"select",...t})}function MF({...t}){return D.jsx(hF,{"data-slot":"select-value",...t})}function OF({className:t,size:e="default",children:n,...i}){return D.jsxs(fF,{"data-slot":"select-trigger","data-size":e,className:Tn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[n,D.jsx(dF,{asChild:!0,children:D.jsx(GD,{className:"size-4 opacity-50"})})]})}function kF({className:t,children:e,position:n="popper",...i}){return D.jsx(mF,{children:D.jsxs(pF,{"data-slot":"select-content",className:Tn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[D.jsx(VF,{}),D.jsx(gF,{className:Tn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),D.jsx(LF,{})]})})}function vu({className:t,children:e,...n}){return D.jsxs(yF,{"data-slot":"select-item",className:Tn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[D.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:D.jsx(_F,{children:D.jsx(CF,{className:"size-4"})})}),D.jsx(vF,{children:e})]})}function VF({className:t,...e}){return D.jsx(bF,{"data-slot":"select-scroll-up-button",className:Tn("flex cursor-default items-center justify-center py-1",t),...e,children:D.jsx(PF,{className:"size-4"})})}function LF({className:t,...e}){return D.jsx(EF,{"data-slot":"select-scroll-down-button",className:Tn("flex cursor-default items-center justify-center py-1",t),...e,children:D.jsx(GD,{className:"size-4"})})}const XA=t=>{switch(t){case"cancelada":return"bg-red-200";case"no vino":return"bg-orange-200";case"programada":return"bg-blue-200";case"completada":return"bg-green-200";default:return"bg-gray-200"}},UF=({selectedDay:t,selectedCell:e,selectedDate:n,showModal:i,setShowModal:a,citasByDate:l,citasByDay:c,setShowEditModal:f,setSelectedAppointment:d,showEditModal:m,selectedAppointment:g,handleUpdate:v,handleDelete:b})=>{const S=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-icon lucide-eye text-blue-500 hover:text-blue-700 transition-colors cursor-pointer",children:[D.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),D.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),C=w.useCallback((A,O)=>{const N=new Date(A),V=new Date(N.setDate(N.getDate()-N.getDay()+1)),q=["Lunes","Martes","Miércoles","Jueves","Viernes"].indexOf(O),ie=new Date(V);return ie.setDate(V.getDate()+q),ie.toISOString().split("T")[0]},[]),R=["07:00:00","08:00:00","09:00:00","10:00:00","14:00:00","15:00:00","16:00:00","17:00:00"];return D.jsxs(D.Fragment,{children:[i&&e&&!t&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[D.jsxs("h3",{className:"font-bold mb-2 text-gray-800",children:["Citas en ",e.day," a las ",e.hour.slice(0,5)]}),l[`${C(n,e.day)}-${e.hour.slice(0,2)}`]?.length===0?D.jsx("p",{className:"text-gray-500",children:"No hay citas"}):D.jsx("ul",{className:"text-sm space-y-2 flex flex-col items-center",children:l[`${C(n,e.day)}-${e.hour.slice(0,2)}`]?.map(A=>D.jsxs("li",{className:`text-gray-900 flex justify-between items-center px-4 py-2 rounded-lg ${XA(A.estado)}`,children:[D.jsxs("div",{children:[A.paciente," (Doc: ",A.id,") - Hora: ",A.hora.slice(0,5)," - Estado: ",A.estado]}),D.jsx("div",{className:"flex items-center space-x-2",children:D.jsx("span",{onClick:()=>{d({...A,fecha:A.fecha,hora:A.hora.slice(0,5)}),f(!0),a(!1)},children:D.jsx(S,{})})})]},A.id))}),D.jsx("div",{className:"flex justify-end mt-4",children:D.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>{a(!1),setSelectedCell(null)},children:"Cerrar"})})]})}),i&&t&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-[28rem] max-h-[80vh] flex flex-col",children:[D.jsxs("h3",{className:"font-bold mb-4 text-gray-800",children:["Citas en ",t]}),c[C(n,t)]?.length===0?D.jsx("p",{className:"text-gray-500",children:"No hay citas este día"}):D.jsx("div",{className:"overflow-y-auto pr-2 flex-grow",children:D.jsx("div",{className:"space-y-3",children:R.map(A=>{const O=l[`${C(n,t)}-${A.slice(0,2)}`]||[];return D.jsxs("div",{children:[D.jsx("p",{className:"font-semibold text-gray-700",children:A.slice(0,5)}),O.length===0?D.jsx("p",{className:"text-gray-400 text-sm",children:"Sin citas"}):D.jsx("ul",{className:"text-sm space-y-2 flex flex-col items-center",children:O.map(N=>D.jsxs("li",{className:`text-gray-900 flex justify-between items-center px-4 py-2 rounded-lg ${XA(N.estado)}`,children:[D.jsxs("div",{children:[N.paciente," (Doc: ",N.id,") - Hora: ",N.hora.slice(0,5)," - Estado: ",N.estado]}),D.jsx("div",{className:"flex items-center space-x-2",children:D.jsx("span",{onClick:()=>{d({...N,fecha:N.fecha,hora:N.hora.slice(0,5)}),f(!0),a(!1)},children:D.jsx(S,{})})})]},N.id))})]},A)})})}),D.jsx("div",{className:"flex justify-end mt-4",children:D.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>{a(!1),setSelectedDay(null)},children:"Cerrar"})})]})}),m&&g&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[D.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Gestionar Cita"}),D.jsxs("form",{onSubmit:v,className:"space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre del paciente"}),D.jsx(fi,{type:"text",value:g.paciente,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),D.jsx(fi,{type:"text",value:g.id,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Fecha de la cita"}),D.jsx(fi,{type:"date",value:g.fecha,onChange:A=>d({...g,fecha:A.target.value}),required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Hora de la cita"}),D.jsx(fi,{type:"time",value:g.hora.slice(0,5),onChange:A=>d({...g,hora:`${A.target.value}:00`}),required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Estado"}),D.jsxs(NF,{value:g.estado,onValueChange:A=>d({...g,estado:A}),children:[D.jsx(OF,{children:D.jsx(MF,{placeholder:"Seleccionar estado"})}),D.jsxs(kF,{children:[D.jsx(vu,{value:"programada",children:"Programada"}),D.jsx(vu,{value:"completada",children:"Completada"}),D.jsx(vu,{value:"no vino",children:"No vino"}),D.jsx(vu,{value:"pospuesta",children:"Pospuesta"}),D.jsx(vu,{value:"cancelada",children:"Cancelada"})]})]})]}),D.jsxs("div",{className:"flex justify-between items-center mt-4",children:[D.jsx(ut,{type:"button",variant:"destructive",onClick:b,className:"cursor-pointer",children:"Eliminar"}),D.jsxs("div",{className:"flex space-x-2",children:[D.jsx(ut,{type:"button",variant:"outline",onClick:()=>f(!1),className:"cursor-pointer",children:"Cancelar"}),D.jsx(ut,{type:"submit",className:"cursor-pointer",children:"Guardar Cambios"})]})]})]})]})})]})},jF=["07:00:00","08:00:00","09:00:00","10:00:00","14:00:00","15:00:00","16:00:00","17:00:00"],Bv=["Lunes","Martes","Miércoles","Jueves","Viernes"],BF=[{id:"1020304050",nombre:"Ana López"},{id:"1030405060",nombre:"Carlos Ruiz"},{id:"1040506070",nombre:"María Torres"},{id:"1050607080",nombre:"Luis Gómez"},{id:"1060708090",nombre:"Sofía Pérez"},{id:"1070809000",nombre:"Diego Vargas"},{id:"1080900010",nombre:"Elena Díaz"},{id:"1090001020",nombre:"Javier Castro"},{id:"1100102030",nombre:"Gabriela Rios"},{id:"9876543210",nombre:"Laura Mendoza"},{id:"5432109876",nombre:"Roberto Fernández"}],Oy=(t,e)=>{const n=new Date(t),i=new Date(n.setDate(n.getDate()-n.getDay()+1)),a=Bv.indexOf(e),l=new Date(i);return l.setDate(i.getDate()+a),l.toISOString().split("T")[0]},zF=(t,e)=>{const n=w.useRef(null);return w.useCallback((...i)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...i)},e)},[t,e])};function FF(){const[t,e]=w.useState("view"),[n,i]=w.useState([{id:"1020304050",paciente:"Ana López",fecha:"2025-09-11",hora:"07:00:00",estado:"programada"},{id:"1030405060",paciente:"Carlos Ruiz",fecha:"2025-09-10",hora:"10:00:00",estado:"programada"},{id:"1040506070",paciente:"María Torres",fecha:"2025-09-09",hora:"14:00:00",estado:"cancelada"},{id:"1050607080",paciente:"Luis Gómez",fecha:"2025-09-09",hora:"14:00:00",estado:"programada"},{id:"1060708090",paciente:"Sofía Pérez",fecha:"2025-09-11",hora:"09:15:00",estado:"programada"},{id:"1070809000",paciente:"Diego Vargas",fecha:"2025-09-08",hora:"08:30:00",estado:"programada"},{id:"1080900010",paciente:"Elena Díaz",fecha:"2025-09-10",hora:"15:45:00",estado:"programada"},{id:"1090001020",paciente:"Javier Castro",fecha:"2025-09-12",hora:"16:20:00",estado:"programada"},{id:"1100102030",paciente:"Gabriela Rios",fecha:"2025-09-12",hora:"17:00:00",estado:"programada"}]),[a,l]=w.useState(new Date),[c,f]=w.useState(null),[d,m]=w.useState(null),[g,v]=w.useState(!1),[b,S]=w.useState(!1),[C,R]=w.useState(!1),[A,O]=w.useState(null),[N,V]=w.useState(""),[$,q]=w.useState([]),[ie,M]=w.useState(null),[x,k]=w.useState({documento:"",paciente:"",hora:""}),U=w.useMemo(()=>n.reduce((ee,te)=>{const fe=`${te.fecha}-${te.hora.slice(0,2)}`;return ee[fe]||(ee[fe]=[]),ee[fe].push(te),ee},{}),[n]),F=w.useMemo(()=>n.reduce((ee,te)=>(ee[te.fecha]||(ee[te.fecha]=[]),ee[te.fecha].push(te),ee),{}),[n]),j=w.useCallback((ee,te)=>{k({documento:"",paciente:"",hora:te.slice(0,5)}),M(null),V(""),q([]),f({day:ee,hour:te}),m(null),S(!0)},[]),L=w.useCallback(ee=>{ee.preventDefault();const{documento:te,paciente:fe,hora:we}=x;if(!te||!fe||!we)return;const ge={id:te,paciente:fe,fecha:Oy(a,c.day),hora:`${we}:00`,estado:"programada"};i(he=>[...he,ge]),S(!1)},[x,c,a]),Ee=w.useCallback(ee=>{ee.preventDefault();const{paciente:te,id:fe,fecha:we,hora:ge,estado:he}=A;i(Ae=>Ae.map(He=>He.id===fe&&He.fecha===A.fecha?{...He,paciente:te,id:fe,fecha:we,hora:ge,estado:he}:He)),R(!1),O(null)},[A]),Te=w.useCallback(()=>{A&&(i(ee=>ee.filter(te=>te.id!==A.id||te.fecha!==A.fecha||te.hora!==A.hora)),R(!1),O(null))},[A]),K=w.useMemo(()=>{const ee=new Date(a);ee.setDate(ee.getDate()-ee.getDay()+1);const te=new Date(ee);return te.setDate(ee.getDate()+4),`${ee.toLocaleDateString()} al ${te.toLocaleDateString()}`},[a]),re=w.useCallback(ee=>{l(te=>{const fe=new Date(te);return fe.setDate(fe.getDate()+ee*7),fe})},[]),X=w.useCallback(ee=>{if(ee.length>0){const te=BF.filter(fe=>fe.nombre.toLowerCase().includes(ee.toLowerCase())||fe.id.includes(ee));q(te)}else q([])},[]),me=zF(X,300),z=ee=>{V(ee.target.value),me(ee.target.value)},ae=ee=>{M(ee),k({...x,documento:ee.id,paciente:ee.nombre}),V(""),q([])};return D.jsxs("div",{className:"p-6",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx(ut,{className:"cursor-pointer bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 hover:from-purple-500 hover:via-purple-500 hover:to-blue-500 transition",onClick:()=>re(-1),children:"← Semana anterior"}),D.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 gap-y-4 bg-white rounded shadow-md w-100 h-30",children:[D.jsxs("h2",{className:`text-xl font-bold text-center ${t==="view"?"text-blue-600":"text-orange-600"}`,children:["Semana de ",K]}),D.jsx(ut,{className:"cursor-pointer",onClick:()=>e(t==="view"?"edit":"view"),children:t==="view"?"Añadir Agenda":"Ver Agenda"})]}),D.jsx(ut,{className:"cursor-pointer bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 hover:from-purple-500 hover:via-purple-500 hover:to-blue-500 transition",onClick:()=>re(1),children:"Semana siguiente →"})]}),D.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[D.jsx("div",{}),Bv.map(ee=>D.jsx("div",{className:"font-bold text-white shadow-md py-2 rounded text-center cursor-pointer bg-gradient-to-r from-blue-800 via-blue-600/85 to-blue-500 hover:from-blue-900 hover:to-blue-900 transition",onClick:()=>{m(ee),f(null),v(!0)},children:ee},ee)),jF.map(ee=>D.jsxs(Br.Fragment,{children:[D.jsx("div",{className:"font-bold text-white shadow-md py-2 flex items-center justify-center rounded bg-gradient-to-r from-blue-800 via-blue-600/85 to-blue-500",children:ee.slice(0,5)}),Bv.map(te=>{const fe=Oy(a,te),we=U[`${fe}-${ee.slice(0,2)}`]||[],ge=we.length>0;return D.jsx(Cv,{className:`cursor-pointer h-20 flex items-center justify-center text-sm transition-colors rounded-lg ${t==="edit"?"bg-yellow-300 hover:bg-yellow-500":ge?"bg-green-400 hover:bg-green-500":"bg-blue-50 hover:bg-blue-100"}`,onClick:()=>{f({day:te,hour:ee}),m(null),t==="edit"?j(te,ee):v(!0)},children:D.jsx(Iv,{className:"text-center",children:t==="edit"?D.jsx("p",{className:"text-gray-800 font-medium",children:"Añadir Nuevo"}):ge?D.jsxs("p",{className:"font-semibold text-gray-800",children:[we.length," cita(s)"]}):D.jsx("p",{className:"text-gray-500",children:"Sin citas"})})},te+ee)})]},ee))]}),t==="edit"&&D.jsx("div",{className:"fixed bottom-6 right-6",children:D.jsx(ut,{onClick:()=>e("view"),className:"bg-green-600 text-white shadow-lg cursor-pointer",children:"Guardar cambios"})}),b&&c&&D.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>S(!1),children:D.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",onClick:ee=>ee.stopPropagation(),children:[D.jsxs("h3",{className:"font-bold mb-4 text-gray-800",children:["Nueva cita para el ",c.day," (",Oy(a,c.day),")"]}),D.jsxs("form",{onSubmit:L,className:"space-y-3",children:[ie?D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre del paciente"}),D.jsx(fi,{type:"text",value:ie.nombre,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),D.jsx(fi,{type:"text",value:ie.id,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]})]}):D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Buscar paciente"}),D.jsx(fi,{type:"text",placeholder:"Buscar por nombre o documento...",value:N,onChange:z}),$.length>0&&D.jsx("ul",{className:"mt-2 border rounded-md max-h-48 overflow-y-auto",children:$.map(ee=>D.jsxs("li",{className:"p-2 cursor-pointer hover:bg-gray-100",onClick:()=>ae(ee),children:[ee.nombre," (Doc: ",ee.id,")"]},ee.id))})]}),ie&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-gray-700",children:"Hora de la cita"}),D.jsx(fi,{type:"time",value:x.hora,onChange:ee=>k({...x,hora:ee.target.value}),required:!0})]}),D.jsxs("div",{className:"flex justify-end space-x-2",children:[D.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),D.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar"})]})]})]})]})}),D.jsx(UF,{selectedDay:d,selectedCell:c,selectedDate:a,showModal:g,setShowModal:v,citasByDate:U,citasByDay:F,setShowEditModal:R,setSelectedAppointment:O,showEditModal:C,selectedAppointment:A,handleUpdate:Ee,handleDelete:Te})]})}const w_=w.createContext({});function S_(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const A_=typeof window<"u",$D=A_?w.useLayoutEffect:w.useEffect,Km=w.createContext(null);function x_(t,e){t.indexOf(e)===-1&&t.push(e)}function R_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qr=(t,e,n)=>n>e?e:n<t?t:n;let C_=()=>{};const Zr={},KD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YD(t){return typeof t=="object"&&t!==null}const WD=t=>/^0[^.\s]+$/u.test(t);function I_(t){let e;return()=>(e===void 0&&(e=t()),e)}const di=t=>t,HF=(t,e)=>n=>e(t(n)),Ef=(...t)=>t.reduce(HF),tf=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class D_{constructor(){this.subscriptions=[]}add(e){return x_(this.subscriptions,e),()=>R_(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,sr=t=>t/1e3;function XD(t,e){return e?t*(1e3/e):0}const QD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qF=1e-7,GF=12;function $F(t,e,n,i,a){let l,c,f=0;do c=e+(n-e)/2,l=QD(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>qF&&++f<GF);return c}function Tf(t,e,n,i){if(t===e&&n===i)return di;const a=l=>$F(l,0,1,t,n);return l=>l===0||l===1?l:QD(a(l),e,i)}const ZD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JD=t=>e=>1-t(1-e),eP=Tf(.33,1.53,.69,.99),P_=JD(eP),tP=ZD(P_),nP=t=>(t*=2)<1?.5*P_(t):.5*(2-Math.pow(2,-10*(t-1))),N_=t=>1-Math.sin(Math.acos(t)),iP=JD(N_),rP=ZD(N_),KF=Tf(.42,0,1,1),YF=Tf(0,0,.58,1),sP=Tf(.42,0,.58,1),WF=t=>Array.isArray(t)&&typeof t[0]!="number",aP=t=>Array.isArray(t)&&typeof t[0]=="number",XF={linear:di,easeIn:KF,easeInOut:sP,easeOut:YF,circIn:N_,circInOut:rP,circOut:iP,backIn:P_,backInOut:tP,backOut:eP,anticipate:nP},QF=t=>typeof t=="string",QA=t=>{if(aP(t)){C_(t.length===4);const[e,n,i,a]=t;return Tf(e,n,i,a)}else if(QF(t))return XF[t];return t},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZF(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(f)}const m={schedule:(g,v=!1,b=!1)=>{const C=b&&a?n:i;return v&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(f=g,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const JF=40;function oP(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=cd.reduce((V,$)=>(V[$]=ZF(l),V),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:b,render:S,postRender:C}=c,R=()=>{const V=Zr.useManualTiming?a.timestamp:performance.now();n=!1,Zr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(V-a.timestamp,JF),1)),a.timestamp=V,a.isProcessing=!0,f.process(a),d.process(a),m.process(a),g.process(a),v.process(a),b.process(a),S.process(a),C.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(R))},A=()=>{n=!0,i=!0,a.isProcessing||t(R)};return{schedule:cd.reduce((V,$)=>{const q=c[$];return V[$]=(ie,M=!1,x=!1)=>(n||A(),q.schedule(ie,M,x)),V},{}),cancel:V=>{for(let $=0;$<cd.length;$++)c[cd[$]].cancel(V)},state:a,steps:c}}const{schedule:gt,cancel:ea,state:ln,steps:ky}=oP(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let Cd;function e7(){Cd=void 0}const On={now:()=>(Cd===void 0&&On.set(ln.isProcessing||Zr.useManualTiming?ln.timestamp:performance.now()),Cd),set:t=>{Cd=t,queueMicrotask(e7)}},lP=t=>e=>typeof e=="string"&&e.startsWith(t),M_=lP("--"),t7=lP("var(--"),O_=t=>t7(t)?n7.test(t.split("/*")[0].trim()):!1,n7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nf={...rc,transform:t=>Qr(0,1,t)},ud={...rc,default:1},Vu=t=>Math.round(t*1e5)/1e5,k_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i7(t){return t==null}const r7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V_=(t,e)=>n=>!!(typeof n=="string"&&r7.test(n)&&n.startsWith(t)||e&&!i7(n)&&Object.prototype.hasOwnProperty.call(n,e)),cP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(k_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},s7=t=>Qr(0,255,t),Vy={...rc,transform:t=>Math.round(s7(t))},Ya={test:V_("rgb","red"),parse:cP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Vy.transform(t)+", "+Vy.transform(e)+", "+Vy.transform(n)+", "+Vu(nf.transform(i))+")"};function a7(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const zv={test:V_("#"),parse:a7,transform:Ya.transform},wf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ms=wf("deg"),ar=wf("%"),Ne=wf("px"),o7=wf("vh"),l7=wf("vw"),ZA={...ar,parse:t=>ar.parse(t)/100,transform:t=>ar.transform(t*100)},yl={test:V_("hsl","hue"),parse:cP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ar.transform(Vu(e))+", "+ar.transform(Vu(n))+", "+Vu(nf.transform(i))+")"},Lt={test:t=>Ya.test(t)||zv.test(t)||yl.test(t),parse:t=>Ya.test(t)?Ya.parse(t):yl.test(t)?yl.parse(t):zv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):yl.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},c7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u7(t){return isNaN(t)&&typeof t=="string"&&(t.match(k_)?.length||0)+(t.match(c7)?.length||0)>0}const uP="number",fP="color",f7="var",h7="var(",JA="${}",d7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rf(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(d7,d=>(Lt.test(d)?(i.color.push(l),a.push(fP),n.push(Lt.parse(d))):d.startsWith(h7)?(i.var.push(l),a.push(f7),n.push(d)):(i.number.push(l),a.push(uP),n.push(parseFloat(d))),++l,JA)).split(JA);return{values:n,split:f,indexes:i,types:a}}function hP(t){return rf(t).values}function dP(t){const{split:e,types:n}=rf(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===uP?l+=Vu(a[c]):f===fP?l+=Lt.transform(a[c]):l+=a[c]}return l}}const m7=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function p7(t){const e=hP(t);return dP(t)(e.map(m7))}const ta={test:u7,parse:hP,createTransformer:dP,getAnimatableNone:p7};function Ly(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g7({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Ly(d,f,t+1/3),l=Ly(d,f,t),c=Ly(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function sm(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Uy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},y7=[zv,Ya,yl],v7=t=>y7.find(e=>e.test(t));function ex(t){const e=v7(t);if(!e)return!1;let n=e.parse(t);return e===yl&&(n=g7(n)),n}const tx=(t,e)=>{const n=ex(t),i=ex(e);if(!n||!i)return sm(t,e);const a={...n};return l=>(a.red=Uy(n.red,i.red,l),a.green=Uy(n.green,i.green,l),a.blue=Uy(n.blue,i.blue,l),a.alpha=_t(n.alpha,i.alpha,l),Ya.transform(a))},Fv=new Set(["none","hidden"]);function _7(t,e){return Fv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function b7(t,e){return n=>_t(t,e,n)}function L_(t){return typeof t=="number"?b7:typeof t=="string"?O_(t)?sm:Lt.test(t)?tx:w7:Array.isArray(t)?mP:typeof t=="object"?Lt.test(t)?tx:E7:sm}function mP(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>L_(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function E7(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=L_(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function T7(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=t.values[c]??0;n[a]=f,i[l]++}return n}const w7=(t,e)=>{const n=ta.createTransformer(e),i=rf(t),a=rf(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Fv.has(t)&&!a.values.length||Fv.has(e)&&!i.values.length?_7(t,e):Ef(mP(T7(i,a),a.values),n):sm(t,e)};function pP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):L_(t)(t,e)}const S7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gt.update(e,n),stop:()=>ea(e),now:()=>ln.isProcessing?ln.timestamp:On.now()}},gP=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},am=2e4;function U_(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<am;)e+=n,i=t.next(e);return e>=am?1/0:e}function A7(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(U_(i),am);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:sr(a)}}const x7=5;function yP(t,e,n){const i=Math.max(e-x7,0);return XD(n-t(i),e-i)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jy=.001;function R7({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:i=St.mass}){let a,l,c=1-e;c=Qr(St.minDamping,St.maxDamping,c),t=Qr(St.minDuration,St.maxDuration,sr(t)),c<1?(a=m=>{const g=m*c,v=g*t,b=g-n,S=Hv(m,c),C=Math.exp(-v);return jy-b/S*C},l=m=>{const v=m*c*t,b=v*n+n,S=Math.pow(c,2)*Math.pow(m,2)*t,C=Math.exp(-v),R=Hv(Math.pow(m,2),c);return(-a(m)+jy>0?-1:1)*((b-S)*C)/R}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-jy+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const f=5/t,d=I7(a,l,f);if(t=rr(t),isNaN(d))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const C7=12;function I7(t,e,n){let i=n;for(let a=1;a<C7;a++)i=i-t(i)/e(i);return i}function Hv(t,e){return t*Math.sqrt(1-e*e)}const D7=["duration","bounce"],P7=["stiffness","damping","mass"];function nx(t,e){return e.some(n=>t[n]!==void 0)}function N7(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!nx(t,P7)&&nx(t,D7))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=R7(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function om(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=N7({...n,velocity:-sr(n.velocity||0)}),C=b||0,R=m/(2*Math.sqrt(d*g)),A=c-l,O=sr(Math.sqrt(d/g)),N=Math.abs(A)<5;i||(i=N?St.restSpeed.granular:St.restSpeed.default),a||(a=N?St.restDelta.granular:St.restDelta.default);let V;if(R<1){const q=Hv(O,R);V=ie=>{const M=Math.exp(-R*O*ie);return c-M*((C+R*O*A)/q*Math.sin(q*ie)+A*Math.cos(q*ie))}}else if(R===1)V=q=>c-Math.exp(-O*q)*(A+(C+O*A)*q);else{const q=O*Math.sqrt(R*R-1);V=ie=>{const M=Math.exp(-R*O*ie),x=Math.min(q*ie,300);return c-M*((C+R*O*A)*Math.sinh(x)+q*A*Math.cosh(x))/q}}const $={calculatedDuration:S&&v||null,next:q=>{const ie=V(q);if(S)f.done=q>=v;else{let M=q===0?C:0;R<1&&(M=q===0?rr(C):yP(V,q,ie));const x=Math.abs(M)<=i,k=Math.abs(c-ie)<=a;f.done=x&&k}return f.value=f.done?c:ie,f},toString:()=>{const q=Math.min(U_($),am),ie=gP(M=>$.next(q*M).value,q,30);return q+"ms "+ie},toTransition:()=>{}};return $}om.applyToOptions=t=>{const e=A7(t,100,om);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function qv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},S=x=>f!==void 0&&x<f||d!==void 0&&x>d,C=x=>f===void 0?d:d===void 0||Math.abs(f-x)<Math.abs(d-x)?f:d;let R=n*e;const A=v+R,O=c===void 0?A:c(A);O!==A&&(R=O-v);const N=x=>-R*Math.exp(-x/i),V=x=>O+N(x),$=x=>{const k=N(x),U=V(x);b.done=Math.abs(k)<=m,b.value=b.done?O:U};let q,ie;const M=x=>{S(b.value)&&(q=x,ie=om({keyframes:[b.value,C(b.value)],velocity:yP(V,x,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return M(0),{calculatedDuration:null,next:x=>{let k=!1;return!ie&&q===void 0&&(k=!0,$(x),M(x)),q!==void 0&&x>=q?ie.next(x-q):(!k&&$(x),b)}}}function M7(t,e,n){const i=[],a=n||Zr.mix||pP,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||di:e;f=Ef(d,f)}i.push(f)}return i}function O7(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(C_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=M7(e,i,a),d=f.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=tf(t[v],t[v+1],g);return f[v](b)};return n?g=>m(Qr(t[0],t[l-1],g)):m}function k7(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=tf(0,e,i);t.push(_t(n,1,a))}}function V7(t){const e=[0];return k7(e,t.length-1),e}function L7(t,e){return t.map(n=>n*e)}function U7(t,e){return t.map(()=>e||sP).splice(0,t.length-1)}function Lu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=WF(i)?i.map(QA):QA(i),l={done:!1,value:e[0]},c=L7(n&&n.length===e.length?n:V7(e),t),f=O7(c,e,{ease:Array.isArray(a)?a:U7(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const j7=t=>t!==null;function j_(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(j7),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const B7={decay:qv,inertia:qv,tween:Lu,keyframes:Lu,spring:om};function vP(t){typeof t.type=="string"&&(t.type=B7[t.type])}class B_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const z7=t=>t/100;class z_ extends B_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vP(e);const{type:n=Lu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const d=n||Lu;d!==Lu&&typeof f[0]!="number"&&(this.mixKeyframes=Ef(z7,pP(f[0],f[1])),f=[0,100]);const m=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=U_(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:C,onUpdate:R,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,$=i;if(v){const x=Math.min(this.currentTime,a)/f;let k=Math.floor(x),U=x%1;!U&&x>=1&&(U=1),U===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(b==="reverse"?(U=1-U,S&&(U-=S/f)):b==="mirror"&&($=c)),V=Qr(0,1,U)*f}const q=N?{done:!1,value:g[0]}:$.next(V);l&&(q.value=l(q.value));let{done:ie}=q;!N&&d!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return M&&C!==qv&&(q.value=j_(g,this.options,A,this.speed)),R&&R(q.value),M&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return sr(this.calculatedDuration)}get time(){return sr(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(On.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=sr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=S7,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function F7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wa=t=>t*180/Math.PI,Gv=t=>{const e=Wa(Math.atan2(t[1],t[0]));return $v(e)},H7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gv,rotateZ:Gv,skewX:t=>Wa(Math.atan(t[1])),skewY:t=>Wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$v=t=>(t=t%360,t<0&&(t+=360),t),ix=Gv,rx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),q7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rx,scaleY:sx,scale:t=>(rx(t)+sx(t))/2,rotateX:t=>$v(Wa(Math.atan2(t[6],t[5]))),rotateY:t=>$v(Wa(Math.atan2(-t[2],t[0]))),rotateZ:ix,rotate:ix,skewX:t=>Wa(Math.atan(t[4])),skewY:t=>Wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kv(t){return t.includes("scale")?1:0}function Yv(t,e){if(!t||t==="none")return Kv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=q7,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=H7,a=f}if(!a)return Kv(e);const l=i[e],c=a[1].split(",").map($7);return typeof l=="function"?l(c):c[l]}const G7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yv(n,e)};function $7(t){return parseFloat(t.trim())}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ac=new Set(sc),ax=t=>t===rc||t===Ne,K7=new Set(["x","y","z"]),Y7=sc.filter(t=>!K7.has(t));function W7(t){const e=[];return Y7.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yv(e,"x"),y:(t,{transform:e})=>Yv(e,"y")};Za.translateX=Za.x;Za.translateY=Za.y;const Ja=new Set;let Wv=!1,Xv=!1,Qv=!1;function _P(){if(Xv){const t=Array.from(Ja).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=W7(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xv=!1,Wv=!1,Ja.forEach(t=>t.complete(Qv)),Ja.clear()}function bP(){Ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xv=!0)})}function X7(){Qv=!0,bP(),_P(),Qv=!1}class F_{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ja.add(this),Wv||(Wv=!0,gt.read(bP),gt.resolveKeyframes(_P))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}F7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ja.delete(this)}cancel(){this.state==="scheduled"&&(Ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q7=t=>t.startsWith("--");function Z7(t,e,n){Q7(e)?t.style.setProperty(e,n):t.style[e]=n}const J7=I_(()=>window.ScrollTimeline!==void 0),eH={};function tH(t,e){const n=I_(t);return()=>eH[e]??n()}const EP=tH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cu([0,.65,.55,1]),circOut:Cu([.55,0,1,.45]),backIn:Cu([.31,.01,.66,-.59]),backOut:Cu([.33,1.53,.69,.99])};function TP(t,e){if(t)return typeof t=="function"?EP()?gP(t,e):"ease-out":aP(t)?Cu(t):Array.isArray(t)?t.map(n=>TP(n,e)||ox.easeOut):ox[t]}function nH(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=TP(f,a);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function wP(t){return typeof t=="function"&&"applyToOptions"in t}function iH({type:t,...e}){return wP(t)&&EP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rH extends B_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,C_(typeof e.type!="string");const m=iH(e);this.animation=nH(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=j_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):Z7(n,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return sr(Number(e))}get time(){return sr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&J7()?(this.animation.timeline=e,di):n(this)}}const SP={anticipate:nP,backInOut:tP,circInOut:rP};function sH(t){return t in SP}function aH(t){typeof t.ease=="string"&&sH(t.ease)&&(t.ease=SP[t.ease])}const lx=10;class oH extends rH{constructor(e){aH(e),vP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new z_({...c,autoplay:!1}),d=rr(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-lx).value,f.sample(d).value,lx),f.stop()}}const cx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ta.test(t)||t==="0")&&!t.startsWith("url("));function lH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cH(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=cx(a,e),f=cx(l,e);return!c||!f?!1:lH(t)||(n==="spring"||wP(n))&&i}function Zv(t){t.duration=0,t.type}const uH=new Set(["opacity","clipPath","filter","transform"]),fH=I_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hH(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return fH()&&n&&uH.has(n)&&(n!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const dH=40;class mH extends B_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:d,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...v},S=g?.KeyframeResolver||F_;this.keyframeResolver=new S(f,(C,R,A)=>this.onKeyframesResolved(C,R,b,!A),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:d,isHandoff:m,onUpdate:g}=i;this.resolvedAt=On.now(),cH(e,l,c,f)||((Zr.instantAnimations||!d)&&g?.(j_(e,i,n)),e[0]=e[e.length-1],Zv(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!m&&hH(b)?new oH({...b,element:b.motionValue.owner.current}):new z_(b);S.finished.then(()=>this.notifyFinished()).catch(di),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gH(t){const e=pH.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function AP(t,e,n=1){const[i,a]=gH(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return KD(c)?parseFloat(c):c}return O_(a)?AP(a,e,n+1):a}function H_(t,e){return t?.[e]??t?.default??t}const xP=new Set(["width","height","top","left","right","bottom",...sc]),yH={test:t=>t==="auto",parse:t=>t},RP=t=>e=>e.test(t),CP=[rc,Ne,ar,Ms,l7,o7,yH],ux=t=>CP.find(RP(t));function vH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WD(t):!0}const _H=new Set(["brightness","contrast","saturate","opacity"]);function bH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(k_)||[];if(!i)return t;const a=n.replace(i,"");let l=_H.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const EH=/\b([a-z-]*)\(.*?\)/gu,Jv={...ta,getAnimatableNone:t=>{const e=t.match(EH);return e?e.map(bH).join(" "):t}},fx={...rc,transform:Math.round},TH={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:Ms,skewX:Ms,skewY:Ms,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:nf,originX:ZA,originY:ZA,originZ:Ne},q_={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...TH,zIndex:fx,fillOpacity:nf,strokeOpacity:nf,numOctaves:fx},wH={...q_,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Jv,WebkitFilter:Jv},IP=t=>wH[t];function DP(t,e){let n=IP(t);return n!==Jv&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SH=new Set(["auto","none","0"]);function AH(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!SH.has(l)&&rf(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=DP(n,a)}class xH extends F_{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),O_(m))){const g=AP(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!xP.has(i)||e.length!==2)return;const[a,l]=e,c=ux(a),f=ux(l);if(c!==f)if(ax(c)&&ax(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Za[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||vH(e[a]))&&i.push(a);i.length&&AH(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Za[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function RH(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const PP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NP(t){return YD(t)&&"offsetHeight"in t}const hx=30,CH=t=>!isNaN(parseFloat(t));class IH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=On.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=On.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new D_);const i=this.events[e].add(n);return e==="change"?()=>{i(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hx);return XD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(t,e){return new IH(t,e)}const{schedule:G_}=oP(queueMicrotask,!1),Ei={x:!1,y:!1};function MP(){return Ei.x||Ei.y}function DH(t){return t==="x"||t==="y"?Ei[t]?null:(Ei[t]=!0,()=>{Ei[t]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function OP(t,e){const n=RH(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function dx(t){return!(t.pointerType==="touch"||MP())}function PH(t,e,n={}){const[i,a,l]=OP(t,n),c=f=>{if(!dx(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const g=v=>{dx(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const kP=(t,e)=>e?t===e?!0:kP(t,e.parentElement):!1,$_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MH(t){return NH.has(t.tagName)||t.tabIndex!==-1}const Id=new WeakSet;function mx(t){return e=>{e.key==="Enter"&&t(e)}}function By(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OH=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=mx(()=>{if(Id.has(n))return;By(n,"down");const a=mx(()=>{By(n,"up")}),l=()=>By(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function px(t){return $_(t)&&!MP()}function kH(t,e,n={}){const[i,a,l]=OP(t,n),c=f=>{const d=f.currentTarget;if(!px(f))return;Id.add(d);const m=e(d,f),g=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Id.has(d)&&Id.delete(d),px(S)&&typeof m=="function"&&m(S,{success:C})},v=S=>{g(S,d===window||d===document||n.useGlobalTarget||kP(d,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),NP(f)&&(f.addEventListener("focus",m=>OH(m,a)),!MH(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function VP(t){return YD(t)&&"ownerSVGElement"in t}function VH(t){return VP(t)&&t.tagName==="svg"}const bn=t=>!!(t&&t.getVelocity),LH=[...CP,Lt,ta],UH=t=>LH.find(RP(t)),K_=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class jH extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=NP(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BH({children:t,isPresent:e,anchorX:n,root:i}){const a=w.useId(),l=w.useRef(null),c=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=w.useContext(K_);return w.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:v,right:b}=c.current;if(e||!l.current||!d||!m)return;const S=n==="left"?`left: ${v}`:`right: ${b}`;l.current.dataset.motionPopId=a;const C=document.createElement("style");f&&(C.nonce=f);const R=i??document.head;return R.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{R.contains(C)&&R.removeChild(C)}},[e]),D.jsx(jH,{isPresent:e,childRef:l,sizeRef:c,children:w.cloneElement(t,{ref:l})})}const zH=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:d})=>{const m=S_(FH),g=w.useId();let v=!0,b=w.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:S=>{m.set(S,!0);for(const C of m.values())if(!C)return;i&&i()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,i]);return l&&v&&(b={...b}),w.useMemo(()=>{m.forEach((S,C)=>m.set(C,!1))},[n]),w.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(t=D.jsx(BH,{isPresent:n,anchorX:f,root:d,children:t})),D.jsx(Km.Provider,{value:b,children:t})};function FH(){return new Map}function LP(t=!0){const e=w.useContext(Km);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=w.useId();w.useEffect(()=>{if(t)return a(l)},[t]);const c=w.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const fd=t=>t.key||"";function gx(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const HH=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:d})=>{const[m,g]=LP(c),v=w.useMemo(()=>gx(t),[t]),b=c&&!m?[]:v.map(fd),S=w.useRef(!0),C=w.useRef(v),R=S_(()=>new Map),[A,O]=w.useState(v),[N,V]=w.useState(v);$D(()=>{S.current=!1,C.current=v;for(let ie=0;ie<N.length;ie++){const M=fd(N[ie]);b.includes(M)?R.delete(M):R.get(M)!==!0&&R.set(M,!1)}},[N,b.length,b.join("-")]);const $=[];if(v!==A){let ie=[...v];for(let M=0;M<N.length;M++){const x=N[M],k=fd(x);b.includes(k)||(ie.splice(M,0,x),$.push(x))}return l==="wait"&&$.length&&(ie=$),V(gx(ie)),O(v),null}const{forceRender:q}=w.useContext(w_);return D.jsx(D.Fragment,{children:N.map(ie=>{const M=fd(ie),x=c&&!m?!1:v===N||b.includes(M),k=()=>{if(R.has(M))R.set(M,!0);else return;let U=!0;R.forEach(F=>{F||(U=!1)}),U&&(q?.(),V(C.current),c&&g?.(),i&&i())};return D.jsx(zH,{isPresent:x,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:k,anchorX:f,children:ie},M)})})},UP=w.createContext({strict:!1}),yx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const t in yx)zl[t]={isEnabled:e=>yx[t].some(n=>!!e[n])};function qH(t){for(const e in t)zl[e]={...zl[e],...t[e]}}const GH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GH.has(t)}let jP=t=>!lm(t);function $H(t){typeof t=="function"&&(jP=e=>e.startsWith("on")?!lm(e):t(e))}try{$H(require("@emotion/is-prop-valid").default)}catch{}function KH(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(jP(a)||n===!0&&lm(a)||!e&&!lm(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Ym=w.createContext({});function Wm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sf(t){return typeof t=="string"||Array.isArray(t)}const Y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W_=["initial",...Y_];function Xm(t){return Wm(t.animate)||W_.some(e=>sf(t[e]))}function BP(t){return!!(Xm(t)||t.variants)}function YH(t,e){if(Xm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||sf(n)?n:void 0,animate:sf(i)?i:void 0}}return t.inherit!==!1?e:{}}function WH(t){const{initial:e,animate:n}=YH(t,w.useContext(Ym));return w.useMemo(()=>({initial:e,animate:n}),[vx(e),vx(n)])}function vx(t){return Array.isArray(t)?t.join(" "):t}const af={};function XH(t){for(const e in t)af[e]=t[e],M_(e)&&(af[e].isCSSVariable=!0)}function zP(t,{layout:e,layoutId:n}){return ac.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!af[t]||t==="opacity")}const QH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZH=sc.length;function JH(t,e,n){let i="",a=!0;for(let l=0;l<ZH;l++){const c=sc[l],f=t[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=PP(f,q_[c]);if(!d){a=!1;const g=QH[c]||c;i+=`${g}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function X_(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const d in e){const m=e[d];if(ac.has(d)){c=!0;continue}else if(M_(d)){a[d]=m;continue}else{const g=PP(m,q_[d]);d.startsWith("origin")?(f=!0,l[d]=g):i[d]=g}}if(e.transform||(c||n?i.transform=JH(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${d} ${m} ${g}`}}const Q_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FP(t,e,n){for(const i in e)!bn(e[i])&&!zP(i,n)&&(t[i]=e[i])}function e8({transformTemplate:t},e){return w.useMemo(()=>{const n=Q_();return X_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function t8(t,e){const n=t.style||{},i={};return FP(i,n,t),Object.assign(i,e8(t,e)),i}function n8(t,e){const n={},i=t8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const i8={offset:"stroke-dashoffset",array:"stroke-dasharray"},r8={offset:"strokeDashoffset",array:"strokeDasharray"};function s8(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?i8:r8;t[l.offset]=Ne.transform(-i);const c=Ne.transform(e),f=Ne.transform(n);t[l.array]=`${c} ${f}`}function HP(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},d,m,g){if(X_(t,f,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&s8(v,a,l,c,!1)}const qP=()=>({...Q_(),attrs:{}}),GP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a8(t,e,n,i){const a=w.useMemo(()=>{const l=qP();return HP(l,e,GP(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};FP(l,t.style,t),a.style={...l,...a.style}}return a}const o8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(t){return typeof t!="string"||t.includes("-")?!1:!!(o8.indexOf(t)>-1||/[A-Z]/u.test(t))}function l8(t,e,n,{latestValues:i},a,l=!1){const f=(Z_(t)?a8:n8)(e,i,a,t),d=KH(e,typeof t=="string",l),m=t!==w.Fragment?{...d,...f,ref:n}:{},{children:g}=e,v=w.useMemo(()=>bn(g)?g.get():g,[g]);return w.createElement(t,{...m,children:v})}function _x(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function J_(t,e,n,i){if(typeof e=="function"){const[a,l]=_x(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=_x(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Dd(t){return bn(t)?t.get():t}function c8({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:u8(n,i,a,t),renderState:e()}}function u8(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=Dd(l[b]);let{initial:c,animate:f}=t;const d=Xm(t),m=BP(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!Wm(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const C=J_(t,b[S]);if(C){const{transitionEnd:R,transition:A,...O}=C;for(const N in O){let V=O[N];if(Array.isArray(V)){const $=g?V.length-1:0;V=V[$]}V!==null&&(a[N]=V)}for(const N in R)a[N]=R[N]}}}return a}const $P=t=>(e,n)=>{const i=w.useContext(Ym),a=w.useContext(Km),l=()=>c8(t,e,i,a);return n?l():S_(l)};function eb(t,e,n){const{style:i}=t,a={};for(const l in i)(bn(i[l])||e.style&&bn(e.style[l])||zP(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const f8=$P({scrapeMotionValuesFromProps:eb,createRenderState:Q_});function KP(t,e,n){const i=eb(t,e,n);for(const a in t)if(bn(t[a])||bn(e[a])){const l=sc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const h8=$P({scrapeMotionValuesFromProps:KP,createRenderState:qP}),d8=Symbol.for("motionComponentSymbol");function vl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m8(t,e,n){return w.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):vl(n)&&(n.current=i))},[e])}const tb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p8="framerAppearId",YP="data-"+tb(p8),WP=w.createContext({});function g8(t,e,n,i,a){const{visualElement:l}=w.useContext(Ym),c=w.useContext(UP),f=w.useContext(Km),d=w.useContext(K_).reducedMotion,m=w.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,v=w.useContext(WP);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&y8(m.current,n,a,v);const b=w.useRef(!1);w.useInsertionEffect(()=>{g&&b.current&&g.update(n,f)});const S=n[YP],C=w.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return $D(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),C.current=!1),g.enteringChildren=void 0)}),g}function y8(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XP(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&vl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:m})}function XP(t){if(t)return t.options.allowProjection!==!1?t.projection:XP(t.parent)}function zy(t,{forwardMotionProps:e=!1}={},n,i){n&&qH(n);const a=Z_(t)?h8:f8;function l(f,d){let m;const g={...w.useContext(K_),...f,layoutId:v8(f)},{isStatic:v}=g,b=WH(f),S=a(f,v);if(!v&&A_){_8();const C=b8(g);m=C.MeasureLayout,b.visualElement=g8(t,S,g,i,C.ProjectionNode)}return D.jsxs(Ym.Provider,{value:b,children:[m&&b.visualElement?D.jsx(m,{visualElement:b.visualElement,...g}):null,l8(t,f,m8(S,b.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=w.forwardRef(l);return c[d8]=t,c}function v8({layoutId:t}){const e=w.useContext(w_).id;return e&&t!==void 0?e+"-"+t:t}function _8(t,e){w.useContext(UP).strict}function b8(t){const{drag:e,layout:n}=zl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function E8(t,e){if(typeof Proxy>"u")return zy;const n=new Map,i=(l,c)=>zy(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,zy(c,void 0,t,e)),n.get(c))})}function QP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function T8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function w8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Fy(t){return t===void 0||t===1}function e0({scale:t,scaleX:e,scaleY:n}){return!Fy(t)||!Fy(e)||!Fy(n)}function Ga(t){return e0(t)||ZP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZP(t){return bx(t.x)||bx(t.y)}function bx(t){return t&&t!=="0%"}function cm(t,e,n){const i=t-n,a=e*i;return n+a}function Ex(t,e,n,i,a){return a!==void 0&&(t=cm(t,a,i)),cm(t,n,i)+e}function t0(t,e=0,n=1,i,a){t.min=Ex(t.min,e,n,i,a),t.max=Ex(t.max,e,n,i,a)}function JP(t,{x:e,y:n}){t0(t.x,e.translate,e.scale,e.originPoint),t0(t.y,n.translate,n.scale,n.originPoint)}const Tx=.999999999999,wx=1.0000000000001;function S8(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,JP(t,c)),i&&Ga(l.latestValues)&&bl(t,l.latestValues))}e.x<wx&&e.x>Tx&&(e.x=1),e.y<wx&&e.y>Tx&&(e.y=1)}function _l(t,e){t.min=t.min+e,t.max=t.max+e}function Sx(t,e,n,i,a=.5){const l=_t(t.min,t.max,a);t0(t,e,n,l,i)}function bl(t,e){Sx(t.x,e.x,e.scaleX,e.scale,e.originX),Sx(t.y,e.y,e.scaleY,e.scale,e.originY)}function eN(t,e){return QP(w8(t.getBoundingClientRect(),e))}function A8(t,e,n){const i=eN(t,n),{scroll:a}=e;return a&&(_l(i.x,a.offset.x),_l(i.y,a.offset.y)),i}const Ax=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:Ax(),y:Ax()}),xx=()=>({min:0,max:0}),Ct=()=>({x:xx(),y:xx()}),n0={current:null},tN={current:!1};function x8(){if(tN.current=!0,!!A_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>n0.current=t.matches;t.addEventListener("change",e),e()}else n0.current=!1}const R8=new WeakMap;function C8(t,e,n){for(const i in e){const a=e[i],l=n[i];if(bn(a))t.addValue(i,a);else if(bn(l))t.addValue(i,Bl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Bl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Rx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I8{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=On.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,gt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Xm(n),this.isVariantNode=BP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const S=v[b];d[b]!==void 0&&bn(S)&&S.set(d[b])}}mount(e){this.current=e,R8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),tN.current||x8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ea(this.notifyUpdate),ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ac.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zl){const n=zl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Rx.length;i++){const a=Rx[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=C8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Bl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KD(i)||WD(i))?i=parseFloat(i):!UH(i)&&ta.test(n)&&(i=DP(e,n)),this.setBaseTarget(e,bn(i)?i.get():i)),bn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=J_(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new D_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){G_.render(this.render)}}class nN extends I8{constructor(){super(...arguments),this.KeyframeResolver=xH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iN(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function D8(t){return window.getComputedStyle(t)}class P8 extends nN{constructor(){super(...arguments),this.type="html",this.renderInstance=iN}readValueFromInstance(e,n){if(ac.has(n))return this.projection?.isProjecting?Kv(n):G7(e,n);{const i=D8(e),a=(M_(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eN(e,n)}build(e,n,i){X_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return eb(e,n,i)}}const rN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N8(t,e,n,i){iN(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(rN.has(a)?a:tb(a),e.attrs[a])}class M8 extends nN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ac.has(n)){const i=IP(n);return i&&i.default||0}return n=rN.has(n)?n:tb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return KP(e,n,i)}build(e,n,i){HP(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){N8(e,n,i,a)}mount(e){this.isSVGTag=GP(e.tagName),super.mount(e)}}const O8=(t,e)=>Z_(t)?new M8(e):new P8(e,{allowProjection:t!==w.Fragment});function Dl(t,e,n){const i=t.getProps();return J_(i,e,n!==void 0?n:i.custom,t)}const i0=t=>Array.isArray(t);function k8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bl(n))}function V8(t){return i0(t)?t[t.length-1]||0:t}function L8(t,e){const n=Dl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const f=V8(l[c]);k8(t,c,f)}}function U8(t){return!!(bn(t)&&t.add)}function r0(t,e){const n=t.getValue("willChange");if(U8(n))return n.add(e);if(!n&&Zr.WillChange){const i=new Zr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function sN(t){return t.props[YP]}const j8=t=>t!==null;function B8(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(j8),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const z8={type:"spring",stiffness:500,damping:25,restSpeed:10},F8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),H8={type:"keyframes",duration:.8},q8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G8=(t,{keyframes:e})=>e.length>2?H8:ac.has(t)?t.startsWith("scale")?F8(e[1]):z8:q8;function $8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const nb=(t,e,n,i={},a,l)=>c=>{const f=H_(i,t)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-rr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};$8(f)||Object.assign(g,G8(t,g)),g.duration&&(g.duration=rr(g.duration)),g.repeatDelay&&(g.repeatDelay=rr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Zv(g),g.delay===0&&(v=!0)),(Zr.instantAnimations||Zr.skipAnimations)&&(v=!0,Zv(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const b=B8(g.keyframes,f);if(b!==void 0){gt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new z_(g):new mH(g)};function K8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function aN(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in f){const v=t.getValue(g,t.latestValues[g]??null),b=f[g];if(b===void 0||m&&K8(m,g))continue;const S={delay:n,...H_(l||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===C&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const O=sN(t);if(O){const N=window.MotionHandoffAnimation(O,g,gt);N!==null&&(S.startTime=N,R=!0)}}r0(t,g),v.start(nb(g,v,b,t.shouldReduceMotion&&xP.has(g)?{type:!1}:S,t,R));const A=v.animation;A&&d.push(A)}return c&&Promise.all(d).then(()=>{gt.update(()=>{c&&L8(t,c)})}),d}function oN(t,e,n,i=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,f=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:f-l*i}function s0(t,e,n={}){const i=Dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(aN(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return Y8(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[d,m]=f==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function Y8(t,e,n=0,i=0,a=0,l=1,c){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(s0(d,e,{...c,delay:n+(typeof i=="function"?0:i)+oN(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function W8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>s0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=s0(t,e,n);else{const a=typeof e=="function"?Dl(t,e,n.custom):e;i=Promise.all(aN(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function lN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const X8=W_.length;function cN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<X8;n++){const i=W_[n],a=t.props[i];(sf(a)||a===!1)&&(e[i]=a)}return e}const Q8=[...Y_].reverse(),Z8=Y_.length;function J8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>W8(t,n,i)))}function eq(t){let e=J8(t),n=Cx(),i=!0;const a=d=>(m,g)=>{const v=Dl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...C}=v;m={...m,...C,...S}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=cN(t.parent)||{},v=[],b=new Set;let S={},C=1/0;for(let A=0;A<Z8;A++){const O=Q8[A],N=n[O],V=m[O]!==void 0?m[O]:g[O],$=sf(V),q=O===d?N.isActive:null;q===!1&&(C=A);let ie=V===g[O]&&V!==m[O]&&$;if(ie&&i&&t.manuallyAnimateOnMount&&(ie=!1),N.protectedKeys={...S},!N.isActive&&q===null||!V&&!N.prevProp||Wm(V)||typeof V=="boolean")continue;const M=tq(N.prevProp,V);let x=M||O===d&&N.isActive&&!ie&&$||A>C&&$,k=!1;const U=Array.isArray(V)?V:[V];let F=U.reduce(a(O),{});q===!1&&(F={});const{prevResolvedValues:j={}}=N,L={...j,...F},Ee=re=>{x=!0,b.has(re)&&(k=!0,b.delete(re)),N.needsAnimating[re]=!0;const X=t.getValue(re);X&&(X.liveStyle=!1)};for(const re in L){const X=F[re],me=j[re];if(S.hasOwnProperty(re))continue;let z=!1;i0(X)&&i0(me)?z=!lN(X,me):z=X!==me,z?X!=null?Ee(re):b.add(re):X!==void 0&&b.has(re)?Ee(re):N.protectedKeys[re]=!0}N.prevProp=V,N.prevResolvedValues=F,N.isActive&&(S={...S,...F}),i&&t.blockInitialAnimation&&(x=!1);const Te=ie&&M;x&&(!Te||k)&&v.push(...U.map(re=>{const X={type:O};if(typeof re=="string"&&i&&!Te&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,z=Dl(me,re);if(me.enteringChildren&&z){const{delayChildren:ae}=z.transition||{};X.delay=oN(me.enteringChildren,t,ae)}}return{animation:re,options:X}}))}if(b.size){const A={};if(typeof m.initial!="boolean"){const O=Dl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(A.transition=O.transition)}b.forEach(O=>{const N=t.getBaseTarget(O),V=t.getValue(O);V&&(V.liveStyle=!0),A[O]=N??null}),v.push({animation:A})}let R=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(v):Promise.resolve()}function f(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Cx(),i=!0}}}function tq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lN(e,t):!1}function Ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cx(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nq extends oa{constructor(e){super(e),e.animationState||(e.animationState=eq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iq=0;class rq extends oa{constructor(){super(...arguments),this.id=iq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sq={animation:{Feature:nq},exit:{Feature:rq}};function of(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Sf(t){return{point:{x:t.pageX,y:t.pageY}}}const aq=t=>e=>$_(e)&&t(e,Sf(e));function Uu(t,e,n,i){return of(t,e,aq(n),i)}const uN=1e-4,oq=1-uN,lq=1+uN,fN=.01,cq=0-fN,uq=0+fN;function Cn(t){return t.max-t.min}function fq(t,e,n){return Math.abs(t-e)<=n}function Ix(t,e,n,i=.5){t.origin=i,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Cn(n)/Cn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oq&&t.scale<=lq||isNaN(t.scale))&&(t.scale=1),(t.translate>=cq&&t.translate<=uq||isNaN(t.translate))&&(t.translate=0)}function ju(t,e,n,i){Ix(t.x,e.x,n.x,i?i.originX:void 0),Ix(t.y,e.y,n.y,i?i.originY:void 0)}function Dx(t,e,n){t.min=n.min+e.min,t.max=t.min+Cn(e)}function hq(t,e,n){Dx(t.x,e.x,n.x),Dx(t.y,e.y,n.y)}function Px(t,e,n){t.min=e.min-n.min,t.max=t.min+Cn(e)}function Bu(t,e,n){Px(t.x,e.x,n.x),Px(t.y,e.y,n.y)}function ci(t){return[t("x"),t("y")]}const hN=({current:t})=>t?t.ownerDocument.defaultView:null,Nx=(t,e)=>Math.abs(t-e);function dq(t,e){const n=Nx(t.x,e.x),i=Nx(t.y,e.y);return Math.sqrt(n**2+i**2)}class dN{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=qy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=dq(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:R}=b,{timestamp:A}=ln;this.history.push({...R,timestamp:A});const{onStart:O,onMove:N}=this.handlers;S||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Hy(S,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:C,onSessionEnd:R,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=qy(b.type==="pointercancel"?this.lastMoveEventInfo:Hy(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,O),R&&R(b,O)},!$_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Sf(e),d=Hy(f,this.transformPagePoint),{point:m}=d,{timestamp:g}=ln;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,qy(d,this.history)),this.removeListeners=Ef(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ea(this.updatePoint)}}function Hy(t,e){return e?{point:e(t.point)}:t}function Mx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qy({point:t},e){return{point:t,delta:Mx(t,mN(e)),offset:Mx(t,mq(e)),velocity:pq(e,.1)}}function mq(t){return t[0]}function mN(t){return t[t.length-1]}function pq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=mN(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>rr(e)));)n--;if(!i)return{x:0,y:0};const l=sr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gq(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?_t(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?_t(n,t,i.max):Math.min(t,n)),t}function Ox(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yq(t,{top:e,left:n,bottom:i,right:a}){return{x:Ox(t.x,n,a),y:Ox(t.y,e,i)}}function kx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function vq(t,e){return{x:kx(t.x,e.x),y:kx(t.y,e.y)}}function _q(t,e){let n=.5;const i=Cn(t),a=Cn(e);return a>i?n=tf(e.min,e.max-i,t.min):i>a&&(n=tf(t.min,t.max-a,e.min)),Qr(0,1,n)}function bq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const a0=.35;function Eq(t=a0){return t===!1?t=0:t===!0&&(t=a0),{x:Vx(t,"left","right"),y:Vx(t,"top","bottom")}}function Vx(t,e,n){return{min:Lx(t,e),max:Lx(t,n)}}function Lx(t,e){return typeof t=="number"?t:t[e]||0}const Tq=new WeakMap;class wq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(v).point)},c=(v,b)=>{const{drag:S,dragPropagation:C,onDragStart:R}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DH(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(O=>{let N=this.getAxisMotionValue(O).get()||0;if(ar.test(N)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[O];$&&(N=Cn($)*(parseFloat(N)/100))}}this.originPoint[O]=N}),R&&gt.postRender(()=>R(v,b)),r0(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:R,onDrag:A}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=b;if(C&&this.currentDirection===null){this.currentDirection=Sq(O),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),A&&A(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ci(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dN(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:hN(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&gt.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!hd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=gq(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&vl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=yq(i.layoutBox,e):this.constraints=!1,this.elastic=Eq(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=bq(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=A8(i,a.root,this.visualElement.getTransformPagePoint());let c=vq(a.layout.layoutBox,l);if(n){const f=n(T8(c));this.hasMutatedConstraints=!!f,f&&(c=QP(f))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=ci(g=>{if(!hd(g,n,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return r0(this.visualElement,e),i.start(nb(e,i,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:i}=this.getProps();if(!hd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-_t(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!vl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();a[c]=_q({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(c=>{if(!hd(c,e,null))return;const f=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];f.set(_t(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Tq.set(this.visualElement,this);const e=this.visualElement.current,n=Uu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();vl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gt.read(i);const c=of(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(ci(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=a0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function hd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Sq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Aq extends oa{constructor(e){super(e),this.removeGroupControls=di,this.removeListeners=di,this.controls=new wq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ux=t=>(e,n)=>{t&&gt.postRender(()=>t(e,n))};class xq extends oa{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(e){this.session=new dN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ux(e),onStart:Ux(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&gt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=jx(t,e.target.x),i=jx(t,e.target.y);return`${n}% ${i}%`}},Rq={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ta.parse(t);if(a.length>5)return i;const l=ta.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=d;const m=_t(f,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}};let Gy=!1;class Cq extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;XH(Iq),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Gy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Gy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||gt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Gy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pN(t){const[e,n]=LP(),i=w.useContext(w_);return D.jsx(Cq,{...t,layoutGroup:i,switchLayoutGroup:w.useContext(WP),isPresent:e,safeToRemove:n})}const Iq={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:Rq};function Dq(t,e,n){const i=bn(t)?t:Bl(t);return i.start(nb("",i,e,n)),i.animation}const Pq=(t,e)=>t.depth-e.depth;class Nq{constructor(){this.children=[],this.isDirty=!1}add(e){x_(this.children,e),this.isDirty=!0}remove(e){R_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pq),this.isDirty=!1,this.children.forEach(e)}}function Mq(t,e){const n=On.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ea(i),t(l-e))};return gt.setup(i,!0),()=>ea(i)}const gN=["TopLeft","TopRight","BottomLeft","BottomRight"],Oq=gN.length,Bx=t=>typeof t=="string"?parseFloat(t):t,zx=t=>typeof t=="number"||Ne.test(t);function kq(t,e,n,i,a,l){a?(t.opacity=_t(0,n.opacity??1,Vq(i)),t.opacityExit=_t(e.opacity??1,0,Lq(i))):l&&(t.opacity=_t(e.opacity??1,n.opacity??1,i));for(let c=0;c<Oq;c++){const f=`border${gN[c]}Radius`;let d=Fx(e,f),m=Fx(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||zx(d)===zx(m)?(t[f]=Math.max(_t(Bx(d),Bx(m),i),0),(ar.test(m)||ar.test(d))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,i))}function Fx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Vq=yN(0,.5,iP),Lq=yN(.5,.95,di);function yN(t,e,n){return i=>i<t?0:i>e?1:n(tf(t,e,i))}function Hx(t,e){t.min=e.min,t.max=e.max}function li(t,e){Hx(t.x,e.x),Hx(t.y,e.y)}function qx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gx(t,e,n,i,a){return t-=e,t=cm(t,1/n,i),a!==void 0&&(t=cm(t,1/a,i)),t}function Uq(t,e=0,n=1,i=.5,a,l=t,c=t){if(ar.test(e)&&(e=parseFloat(e),e=_t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=_t(l.min,l.max,i);t===l&&(f-=e),t.min=Gx(t.min,e,n,f,a),t.max=Gx(t.max,e,n,f,a)}function $x(t,e,[n,i,a],l,c){Uq(t,e[n],e[i],e[a],e.scale,l,c)}const jq=["x","scaleX","originX"],Bq=["y","scaleY","originY"];function Kx(t,e,n,i){$x(t.x,e,jq,n?n.x:void 0,i?i.x:void 0),$x(t.y,e,Bq,n?n.y:void 0,i?i.y:void 0)}function Yx(t){return t.translate===0&&t.scale===1}function vN(t){return Yx(t.x)&&Yx(t.y)}function Wx(t,e){return t.min===e.min&&t.max===e.max}function zq(t,e){return Wx(t.x,e.x)&&Wx(t.y,e.y)}function Xx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _N(t,e){return Xx(t.x,e.x)&&Xx(t.y,e.y)}function Qx(t){return Cn(t.x)/Cn(t.y)}function Zx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Fq{constructor(){this.members=[]}add(e){x_(this.members,e),e.scheduleRender()}remove(e){if(R_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hq(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:C}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const $y=["","X","Y","Z"],qq=1e3;let Gq=0;function Ky(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function bN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&bN(i)}function EN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=Gq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yq),this.nodes.forEach(Zq),this.nodes.forEach(Jq),this.nodes.forEach(Wq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nq)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new D_),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=VP(c)&&!VH(c),this.instance=c;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{v=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=Mq(b,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(tR)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||rG,{onLayoutAnimationStart:R,onLayoutAnimationComplete:A}=m.getProps(),O=!this.targetLayout||!_N(this.targetLayout,S),N=!v&&b;if(this.options.layoutRoot||this.resumeFrom||N||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...H_(C,"layout"),onPlay:R,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(g,N)}else v||tR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eG),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qq),this.nodes.forEach($q),this.nodes.forEach(Kq)):this.nodes.forEach(eR),this.clearAllSnapshots();const f=On.now();ln.delta=Qr(0,1e3/60,f-ln.timestamp),ln.timestamp=f,ln.isProcessing=!0,ky.update.process(ln),ky.preRender.process(ln),ky.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xq),this.sharedNodes.forEach(tG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!vN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ga(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),sG(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ct();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aG))){const{scroll:m}=this.root;m&&(_l(f.x,m.offset.x),_l(f.y,m.offset.y))}return f}removeElementScroll(c){const f=Ct();if(li(f,c),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&li(f,c),_l(f.x,g.offset.x),_l(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const d=Ct();li(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&bl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ga(g.latestValues)&&bl(d,g.latestValues)}return Ga(this.latestValues)&&bl(d,this.latestValues),d}removeTransform(c){const f=Ct();li(f,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ga(m.latestValues))continue;e0(m.latestValues)&&m.updateSnapshot();const g=Ct(),v=m.measurePageBox();li(g,v),Kx(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ga(this.latestValues)&&Kx(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Bu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),JP(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Bu(this.relativeTargetOrigin,this.target,b.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||e0(this.parent.latestValues)||ZP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;S8(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ct());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qx(this.prevProjectionDelta.x,this.projectionDelta.x),qx(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(c,f=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ct(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,R=S!==C,A=this.getStack(),O=!A||A.members.length<=1,N=!!(R&&!O&&this.options.crossfade===!0&&!this.path.some(iG));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const q=$/1e3;nR(v.x,c.x,q),nR(v.y,c.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nG(this.relativeTarget,this.relativeTargetOrigin,b,q),V&&zq(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Ct()),li(V,this.relativeTarget)),R&&(this.animationValues=g,kq(g,m,this.latestValues,q,N,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bl(0)),this.currentAnimation=Dq(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:g}=c;if(!(!f||!d||!m)){if(this!==c&&this.layout&&m&&TN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ct();const v=Cn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const b=Cn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}li(f,d),bl(f,g),ju(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Fq),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Ky("z",c,m,this.animationValues);for(let g=0;g<$y.length;g++)Ky(`rotate${$y[g]}`,c,m,this.animationValues),Ky(`skew${$y[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Dd(f?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Dd(f?.pointerEvents)||""),this.hasProjected&&!Ga(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=Hq(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in af){if(g[C]===void 0)continue;const{correct:R,applyTo:A,isCSSVariable:O}=af[C],N=v==="none"?g[C]:R(g[C],m);if(A){const V=A.length;for(let $=0;$<V;$++)c[A[$]]=N}else O?this.options.visualElement.renderState.vars[C]=N:c[C]=N}this.options.layoutId&&(c.pointerEvents=m===this?Dd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Jx),this.root.sharedNodes.clear()}}}function $q(t){t.updateLayout()}function Kq(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ci(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],b=Cn(v);v.min=n[g].min,v.max=v.min+b}):TN(a,e.layoutBox,n)&&ci(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],b=Cn(n[g]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const c=El();ju(c,n,e.layoutBox);const f=El();l?ju(f,t.applyTransform(i,!0),e.measuredBox):ju(f,n,e.layoutBox);const d=!vN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=Ct();Bu(S,e.layoutBox,v.layoutBox);const C=Ct();Bu(C,n,b.layoutBox),_N(S,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Yq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Wq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Xq(t){t.clearSnapshot()}function Jx(t){t.clearMeasurements()}function eR(t){t.isLayoutDirty=!1}function Qq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zq(t){t.resolveTargetDelta()}function Jq(t){t.calcProjection()}function eG(t){t.resetSkewAndRotation()}function tG(t){t.removeLeadSnapshot()}function nR(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iR(t,e,n,i){t.min=_t(e.min,n.min,i),t.max=_t(e.max,n.max,i)}function nG(t,e,n,i){iR(t.x,e.x,n.x,i),iR(t.y,e.y,n.y,i)}function iG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rG={duration:.45,ease:[.4,0,.1,1]},rR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sR=rR("applewebkit/")&&!rR("chrome/")?Math.round:di;function aR(t){t.min=sR(t.min),t.max=sR(t.max)}function sG(t){aR(t.x),aR(t.y)}function TN(t,e,n){return t==="position"||t==="preserve-aspect"&&!fq(Qx(e),Qx(n),.2)}function aG(t){return t!==t.root&&t.scroll?.wasRoot}const oG=EN({attachResizeListener:(t,e)=>of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},wN=EN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new oG({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lG={pan:{Feature:xq},drag:{Feature:Aq,ProjectionNode:wN,MeasureLayout:pN}};function oR(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&gt.postRender(()=>l(e,Sf(e)))}class cG extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=PH(e,(n,i)=>(oR(this.node,i,"Start"),a=>oR(this.node,a,"End"))))}unmount(){}}class uG extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ef(of(this.node.current,"focus",()=>this.onFocus()),of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lR(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&gt.postRender(()=>l(e,Sf(e)))}class fG extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=kH(e,(n,i)=>(lR(this.node,i,"Start"),(a,{success:l})=>lR(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const o0=new WeakMap,Wy=new WeakMap,hG=t=>{const e=o0.get(t.target);e&&e(t)},dG=t=>{t.forEach(hG)};function mG({root:t,...e}){const n=t||document;Wy.has(n)||Wy.set(n,{});const i=Wy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(dG,{root:t,...e})),i[a]}function pG(t,e,n){const i=mG(e);return o0.set(t,n),i.observe(t),()=>{o0.delete(t),i.unobserve(t)}}const gG={some:0,all:1};class yG extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:gG[a]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=m?g:v;b&&b(d)};return pG(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vG(e,n))&&this.startObserver()}unmount(){}}function vG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _G={inView:{Feature:yG},tap:{Feature:fG},focus:{Feature:uG},hover:{Feature:cG}},bG={layout:{ProjectionNode:wN,MeasureLayout:pN}},EG={...sq,..._G,...lG,...bG},TG=E8(EG,O8),cR=({children:t})=>D.jsx(TG.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeOut"},children:t}),wG=({clientes:t,citas:e,onAddClient:n,onUpdateClient:i,onDeleteClient:a,onAddCita:l,onUpdateCita:c,onDeleteCita:f,onLogout:d})=>{const m=Jr();return D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[D.jsx(W9,{onLogout:d}),D.jsx("div",{className:"flex justify-center p-6",children:D.jsx("div",{className:"w-full max-w-6xl min-h-[calc(100vh-80px)]",children:D.jsx("div",{className:"animate-slide-left animate-duration-500 animate-ease-out",children:D.jsx(HH,{mode:"wait",children:D.jsxs(wR,{location:m,children:[D.jsx(Tl,{path:"/clientes",element:D.jsx(cR,{children:D.jsx(e5,{clientes:t,onAddClient:n,onUpdateClient:i,onDeleteClient:a})})}),D.jsx(Tl,{path:"/horario",element:D.jsx(cR,{children:D.jsx(FF,{citas:e,clientes:t,onAddCita:l,onUpdateCita:c,onDeleteCita:f})})}),D.jsx(Tl,{path:"*",element:D.jsx(TR,{to:"/horario"})})]},m.pathname)})},m.pathname)})})]})},SG=()=>{const[t,e]=w.useState(null),[n,i]=w.useState([]),[a,l]=w.useState([]),[c,f]=w.useState(!0);w.useEffect(()=>{const A=G3(by,O=>{e(O),f(!1)});return()=>A()},[]),w.useEffect(()=>{if(!t)return;const A=WS(ed(Ds,"clientes"),O=>{const N=O.docs.map(V=>({id:V.id,...V.data()}));i(N)});return()=>A()},[t]),w.useEffect(()=>{if(!t)return;const A=WS(ed(Ds,"citas"),O=>{const N=O.docs.map(V=>({id:V.id,...V.data()}));l(N)});return()=>A()},[t]);const d=async A=>{await YS(ed(Ds,"clientes"),{nombre:A.nombre,documento:A.documento,createdAt:ol(),updatedAt:ol()})},m=async(A,O)=>{const N=Au(Ds,"clientes",A);await $S(N,{...O,updatedAt:ol()})},g=async A=>{await KS(Au(Ds,"clientes",A))},v=async A=>{await YS(ed(Ds,"citas"),{clienteId:A.clienteId,fecha:A.fecha,hora:A.hora,servicio:A.servicio,estado:"programada",createdAt:ol(),updatedAt:ol()})},b=async(A,O)=>{const N=Au(Ds,"citas",A);await $S(N,{...O,updatedAt:ol()})},S=async A=>{await KS(Au(Ds,"citas",A))},C=async(A,O)=>{await F3(by,A,O)},R=async()=>{await $3(by)};return c?D.jsx("p",{className:"text-center mt-10",children:"Cargando..."}):D.jsx(p2,{children:t?D.jsx(wG,{clientes:n,citas:a,onAddClient:d,onUpdateClient:m,onDeleteClient:g,onAddCita:v,onUpdateCita:b,onDeleteCita:S,onLogout:R}):D.jsxs(wR,{children:[D.jsx(Tl,{path:"/login",element:D.jsx(a9,{onLogin:C})}),D.jsx(Tl,{path:"*",element:D.jsx(TR,{to:"/login"})})]})})};iO.createRoot(document.getElementById("root")).render(D.jsx(w.StrictMode,{children:D.jsx(SG,{})}));
