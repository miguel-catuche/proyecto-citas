function MO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function jR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function OO(){if(jT)return Tu;jT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Tu.Fragment=e,Tu.jsx=n,Tu.jsxs=n,Tu}var BT;function kO(){return BT||(BT=1,py.exports=OO()),py.exports}var I=kO(),gy={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function VO(){if(zT)return Ve;zT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function x(F,se,de){this.props=F,this.context=se,this.refs=R,this.updater=de||S}x.prototype.isReactComponent={},x.prototype.setState=function(F,se){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,se,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=x.prototype;function P(F,se,de){this.props=F,this.context=se,this.refs=R,this.updater=de||S}var V=P.prototype=new O;V.constructor=P,C(V,x.prototype),V.isPureReactComponent=!0;var G=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function M(F,se,de,oe,ee,he){return de=he.ref,{$$typeof:t,type:F,key:se,ref:de!==void 0?de:null,props:he}}function A(F,se){return M(F.type,se,void 0,void 0,void 0,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function U(F){var se={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(de){return se[de]})}var B=/\/+/g;function j(F,se){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):se.toString(36)}function L(){}function we(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(se){F.status==="pending"&&(F.status="fulfilled",F.value=se)},function(se){F.status==="pending"&&(F.status="rejected",F.reason=se)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Se(F,se,de,oe,ee){var he=typeof F;(he==="undefined"||he==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(he){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0;break;case g:return pe=F._init,Se(pe(F._payload),se,de,oe,ee)}}if(pe)return ee=ee(F),pe=oe===""?"."+j(F,0):oe,G(ee)?(de="",pe!=null&&(de=pe.replace(B,"$&/")+"/"),Se(ee,se,de,"",function(ze){return ze})):ee!=null&&(k(ee)&&(ee=A(ee,de+(ee.key==null||F&&F.key===ee.key?"":(""+ee.key).replace(B,"$&/")+"/")+pe)),se.push(ee)),1;pe=0;var fe=oe===""?".":oe+":";if(G(F))for(var Te=0;Te<F.length;Te++)oe=F[Te],he=fe+j(oe,Te),pe+=Se(oe,se,de,he,ee);else if(Te=b(F),typeof Te=="function")for(F=Te.call(F),Te=0;!(oe=F.next()).done;)oe=oe.value,he=fe+j(oe,Te++),pe+=Se(oe,se,de,he,ee);else if(he==="object"){if(typeof F.then=="function")return Se(we(F),se,de,oe,ee);throw se=String(F),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(F,se,de){if(F==null)return F;var oe=[],ee=0;return Se(F,oe,"","",function(he){return se.call(de,he,ee++)}),oe}function ne(F){if(F._status===-1){var se=F._result;se=se(),se.then(function(de){(F._status===0||F._status===-1)&&(F._status=1,F._result=de)},function(de){(F._status===0||F._status===-1)&&(F._status=2,F._result=de)}),F._status===-1&&(F._status=0,F._result=se)}if(F._status===1)return F._result.default;throw F._result}var X=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ge(){}return Ve.Children={map:K,forEach:function(F,se,de){K(F,function(){se.apply(this,arguments)},de)},count:function(F){var se=0;return K(F,function(){se++}),se},toArray:function(F){return K(F,function(se){return se})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ve.Component=x,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=P,Ve.StrictMode=r,Ve.Suspense=h,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(F){return q.H.useMemoCache(F)}},Ve.cache=function(F){return function(){return F.apply(null,arguments)}},Ve.cloneElement=function(F,se,de){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var oe=C({},F.props),ee=F.key,he=void 0;if(se!=null)for(pe in se.ref!==void 0&&(he=void 0),se.key!==void 0&&(ee=""+se.key),se)!re.call(se,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&se.ref===void 0||(oe[pe]=se[pe]);var pe=arguments.length-2;if(pe===1)oe.children=de;else if(1<pe){for(var fe=Array(pe),Te=0;Te<pe;Te++)fe[Te]=arguments[Te+2];oe.children=fe}return M(F.type,ee,void 0,void 0,he,oe)},Ve.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Ve.createElement=function(F,se,de){var oe,ee={},he=null;if(se!=null)for(oe in se.key!==void 0&&(he=""+se.key),se)re.call(se,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ee[oe]=se[oe]);var pe=arguments.length-2;if(pe===1)ee.children=de;else if(1<pe){for(var fe=Array(pe),Te=0;Te<pe;Te++)fe[Te]=arguments[Te+2];ee.children=fe}if(F&&F.defaultProps)for(oe in pe=F.defaultProps,pe)ee[oe]===void 0&&(ee[oe]=pe[oe]);return M(F,he,void 0,void 0,null,ee)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(F){return{$$typeof:f,render:F}},Ve.isValidElement=k,Ve.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ne}},Ve.memo=function(F,se){return{$$typeof:m,type:F,compare:se===void 0?null:se}},Ve.startTransition=function(F){var se=q.T,de={};q.T=de;try{var oe=F(),ee=q.S;ee!==null&&ee(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ge,X)}catch(he){X(he)}finally{q.T=se}},Ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ve.use=function(F){return q.H.use(F)},Ve.useActionState=function(F,se,de){return q.H.useActionState(F,se,de)},Ve.useCallback=function(F,se){return q.H.useCallback(F,se)},Ve.useContext=function(F){return q.H.useContext(F)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(F,se){return q.H.useDeferredValue(F,se)},Ve.useEffect=function(F,se,de){var oe=q.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(F,se)},Ve.useId=function(){return q.H.useId()},Ve.useImperativeHandle=function(F,se,de){return q.H.useImperativeHandle(F,se,de)},Ve.useInsertionEffect=function(F,se){return q.H.useInsertionEffect(F,se)},Ve.useLayoutEffect=function(F,se){return q.H.useLayoutEffect(F,se)},Ve.useMemo=function(F,se){return q.H.useMemo(F,se)},Ve.useOptimistic=function(F,se){return q.H.useOptimistic(F,se)},Ve.useReducer=function(F,se,de){return q.H.useReducer(F,se,de)},Ve.useRef=function(F){return q.H.useRef(F)},Ve.useState=function(F){return q.H.useState(F)},Ve.useSyncExternalStore=function(F,se,de){return q.H.useSyncExternalStore(F,se,de)},Ve.useTransition=function(){return q.H.useTransition()},Ve.version="19.1.1",Ve}var FT;function N0(){return FT||(FT=1,gy.exports=VO()),gy.exports}var w=N0();const Gi=jR(w),BR=MO({__proto__:null,default:Gi},[w]);var yy={exports:{}},Su={},vy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function LO(){return HT||(HT=1,(function(t){function e(K,ne){var X=K.length;K.push(ne);e:for(;0<X;){var ge=X-1>>>1,F=K[ge];if(0<a(F,ne))K[ge]=ne,K[X]=F,X=ge;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],X=K.pop();if(X!==ne){K[0]=X;e:for(var ge=0,F=K.length,se=F>>>1;ge<se;){var de=2*(ge+1)-1,oe=K[de],ee=de+1,he=K[ee];if(0>a(oe,X))ee<F&&0>a(he,oe)?(K[ge]=he,K[ee]=X,ge=ee):(K[ge]=oe,K[de]=X,ge=de);else if(ee<F&&0>a(he,X))K[ge]=he,K[ee]=X,ge=ee;else break e}}return ne}function a(K,ne){var X=K.sortIndex-ne.sortIndex;return X!==0?X:K.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,v=null,b=3,S=!1,C=!1,R=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var ne=n(m);ne!==null;){if(ne.callback===null)r(m);else if(ne.startTime<=K)r(m),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(m)}}function q(K){if(R=!1,G(K),!C)if(n(h)!==null)C=!0,re||(re=!0,j());else{var ne=n(m);ne!==null&&Se(q,ne.startTime-K)}}var re=!1,M=-1,A=5,k=-1;function U(){return x?!0:!(t.unstable_now()-k<A)}function B(){if(x=!1,re){var K=t.unstable_now();k=K;var ne=!0;try{e:{C=!1,R&&(R=!1,P(M),M=-1),S=!0;var X=b;try{t:{for(G(K),v=n(h);v!==null&&!(v.expirationTime>K&&U());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,b=v.priorityLevel;var F=ge(v.expirationTime<=K);if(K=t.unstable_now(),typeof F=="function"){v.callback=F,G(K),ne=!0;break t}v===n(h)&&r(h),G(K)}else r(h);v=n(h)}if(v!==null)ne=!0;else{var se=n(m);se!==null&&Se(q,se.startTime-K),ne=!1}}break e}finally{v=null,b=X,S=!1}ne=void 0}}finally{ne?j():re=!1}}}var j;if(typeof V=="function")j=function(){V(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,we=L.port2;L.port1.onmessage=B,j=function(){we.postMessage(null)}}else j=function(){O(B,0)};function Se(K,ne){M=O(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var X=b;b=ne;try{return K()}finally{b=X}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=b;b=K;try{return ne()}finally{b=X}},t.unstable_scheduleCallback=function(K,ne,X){var ge=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ge+X:ge):X=ge,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=X+F,K={id:g++,callback:ne,priorityLevel:K,startTime:X,expirationTime:F,sortIndex:-1},X>ge?(K.sortIndex=X,e(m,K),n(h)===null&&K===n(m)&&(R?(P(M),M=-1):R=!0,Se(q,X-ge))):(K.sortIndex=F,e(h,K),C||S||(C=!0,re||(re=!0,j()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var ne=b;return function(){var X=b;b=ne;try{return K.apply(this,arguments)}finally{b=X}}}})(_y)),_y}var qT;function UO(){return qT||(qT=1,vy.exports=LO()),vy.exports}var by={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function jO(){if(GT)return yn;GT=1;var t=N0();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,g)},yn.flushSync=function(h){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=m,r.p=g,r.d.f()}},yn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},yn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},yn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},yn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},yn.requestFormReset=function(h){r.d.r(h)},yn.unstable_batchedUpdates=function(h,m){return h(m)},yn.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.1.1",yn}var $T;function zR(){if($T)return by.exports;$T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),by.exports=jO(),by.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function BO(){if(KT)return Su;KT=1;var t=UO(),e=N0(),n=zR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),i;if(y===u)return f(p),s;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var T=!1,D=p.child;D;){if(D===l){T=!0,l=p,u=y;break}if(D===u){T=!0,u=p,l=y;break}D=D.sibling}if(!T){for(D=y.child;D;){if(D===l){T=!0,l=y,u=p;break}if(D===u){T=!0,u=y,l=p;break}D=D.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),V=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case x:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case re:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case V:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:we(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return we(i(s))}catch{}}return null}var Se=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ge=[],F=-1;function se(i){return{current:i}}function de(i){0>F||(i.current=ge[F],ge[F]=null,F--)}function oe(i,s){F++,ge[F]=i.current,i.current=s}var ee=se(null),he=se(null),pe=se(null),fe=se(null);function Te(i,s){switch(oe(pe,s),oe(he,i),oe(ee,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?dT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=dT(s),i=mT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(ee),oe(ee,i)}function ze(){de(ee),de(he),de(pe)}function Oe(i){i.memoizedState!==null&&oe(fe,i);var s=ee.current,l=mT(s,i.type);s!==l&&(oe(he,i),oe(ee,l))}function je(i){he.current===i&&(de(ee),de(he)),fe.current===i&&(de(fe),vu._currentValue=X)}var Qe=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,Sn=t.unstable_cancelCallback,yi=t.unstable_shouldYield,os=t.unstable_requestPaint,mn=t.unstable_now,pp=t.unstable_getCurrentPriorityLevel,gc=t.unstable_ImmediatePriority,Ao=t.unstable_UserBlockingPriority,ga=t.unstable_NormalPriority,gp=t.unstable_LowPriority,xo=t.unstable_IdlePriority,yc=t.log,Vf=t.unstable_setDisableYieldValue,Et=null,nt=null;function jn(i){if(typeof yc=="function"&&Vf(i),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Et,i)}catch{}}var pn=Math.clz32?Math.clz32:ya,Lf=Math.log,yp=Math.LN2;function ya(i){return i>>>=0,i===0?32:31-(Lf(i)/yp|0)|0}var va=256,_a=4194304;function gr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ro(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var D=u&134217727;return D!==0?(u=D&~y,u!==0?p=gr(u):(T&=D,T!==0?p=gr(T):l||(l=D&~i,l!==0&&(p=gr(l))))):(D=u&~y,D!==0?p=gr(D):T!==0?p=gr(T):l||(l=u&~i,l!==0&&(p=gr(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function ba(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function vc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var i=va;return va<<=1,(va&4194048)===0&&(va=256),i}function bc(){var i=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),i}function vi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function _i(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ec(i,s,l,u,p,y){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(l=T&~l;0<l;){var ie=31-pn(l),le=1<<ie;D[ie]=0,z[ie]=-1;var Z=Q[ie];if(Z!==null)for(Q[ie]=null,ie=0;ie<Z.length;ie++){var J=Z[ie];J!==null&&(J.lane&=-536870913)}l&=~le}u!==0&&Or(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~s))}function Or(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-pn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function wc(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-pn(l),p=1<<u;p&s|i[u]&s&&(i[u]|=s),l&=~p}}function ls(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Co(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function cs(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:MT(i.type))}function Uf(i,s){var l=ne.p;try{return ne.p=i,s()}finally{ne.p=l}}var mt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+mt,Ot="__reactProps$"+mt,Zn="__reactContainer$"+mt,Tc="__reactEvents$"+mt,vp="__reactListeners$"+mt,us="__reactHandles$"+mt,jf="__reactResources$"+mt,Ea="__reactMarker$"+mt;function fs(i){delete i[Ht],delete i[Ot],delete i[Tc],delete i[vp],delete i[us]}function bi(i){var s=i[Ht];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Zn]||l[Ht]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vT(i);i!==null;){if(l=i[Ht])return l;i=vT(i)}return s}i=l,l=i.parentNode}return null}function kr(i){if(i=i[Ht]||i[Zn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Vr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function An(i){var s=i[jf];return s||(s=i[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[Ea]=!0}var Sc=new Set,Io={};function yr(i,s){Ei(i,s),Ei(i+"Capture",s)}function Ei(i,s){for(Io[i]=s,i=0;i<s.length;i++)Sc.add(s[i])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zf={},wa={};function Ff(i){return Qe.call(wa,i)?!0:Qe.call(zf,i)?!1:Bf.test(i)?wa[i]=!0:(zf[i]=!0,!1)}function hs(i,s,l){if(Ff(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Lr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function rn(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var Ta,Hf;function wi(i){if(Ta===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ta=s&&s[1]||"",Hf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+i+Hf}var Do=!1;function Po(i,s){if(!i||Do)return"";Do=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Z=J}Reflect.construct(i,[],le)}else{try{le.call()}catch(J){Z=J}i.call(le.prototype)}}else{try{throw Error()}catch(J){Z=J}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],D=y[1];if(T&&D){var z=T.split(`
`),Q=D.split(`
`);for(p=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===z.length||p===Q.length)for(u=z.length-1,p=Q.length-1;1<=u&&0<=p&&z[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(z[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||z[u]!==Q[p]){var ie=`
`+z[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=p);break}}}finally{Do=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?wi(l):""}function Ac(i){switch(i.tag){case 26:case 27:case 5:return wi(i.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Po(i.type,!1);case 11:return Po(i.type.render,!1);case 1:return Po(i.type,!0);case 31:return wi("Activity");default:return""}}function No(i){try{var s="";do s+=Ac(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _p(i){var s=xc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Mo(i){i._valueTracker||(i._valueTracker=_p(i))}function Rc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=xc(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bp=/[\n"\\]/g;function kt(i){return i.replace(bp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bn(i,s,l,u,p,y,T,D){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+xn(s)):i.value!==""+xn(s)&&(i.value=""+xn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?ds(i,T,xn(s)):l!=null?ds(i,T,xn(l)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+xn(D):i.removeAttribute("name")}function Aa(i,s,l,u,p,y,T,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+xn(l):"",s=s!=null?""+xn(s):l,D||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=D?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ds(i,s,l){s==="number"&&Sa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ti(i,s,l,u){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&u&&(i[l].defaultSelected=!0)}else{for(l=""+xn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function st(i,s,l){if(s!=null&&(s=""+xn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+xn(l):""}function xa(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(Se(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=xn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function Jn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Ra.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Cc(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&qf(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&qf(i,y,s[y])}function Ic(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(i){return wp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Si=null;function er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ai=null,xi=null;function Dc(i){var s=kr(i);if(s&&(i=s.stateNode)){var l=i[Ot]||null;e:switch(i=s.stateNode,s.type){case"input":if(Bn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var p=u[Ot]||null;if(!p)throw Error(r(90));Bn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Rc(u)}break e;case"textarea":st(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ti(i,!!l.multiple,s,!1)}}}var Ur=!1;function Gf(i,s,l){if(Ur)return i(s,l);Ur=!0;try{var u=i(s);return u}finally{if(Ur=!1,(Ai!==null||xi!==null)&&(Uh(),Ai&&(s=Ai,i=xi,xi=Ai=null,Dc(s),i)))for(s=0;s<i.length;s++)Dc(i[s])}}function Ca(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Ot]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(vr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{tr=!1}var jr=null,ms=null,Ri=null;function Pc(){if(Ri)return Ri;var i,s=ms,l=s.length,u,p="value"in jr?jr.value:jr.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(u=1;u<=T&&s[l-u]===p[y-u];u++);return Ri=p.slice(i,1<u?1-u:void 0)}function Br(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function zr(){return!0}function Nc(){return!1}function Qt(i){function s(l,u,p,y,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:Nc,this.isPropagationStopped=Nc,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),s}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=Qt(et),Da=g({},et,{view:0,detail:0}),$f=Qt(Da),Vo,Lo,Fr,Pa=g({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(Vo=i.screenX-Fr.screenX,Lo=i.screenY-Fr.screenY):Lo=Vo=0,Fr=i),Vo)},movementY:function(i){return"movementY"in i?i.movementY:Lo}}),nr=Qt(Pa),Kf=g({},Pa,{dataTransfer:0}),Tp=Qt(Kf),Na=g({},Da,{relatedTarget:0}),Uo=Qt(Na),Mc=g({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Qt(Mc),Yf=g({},et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bo=Qt(Yf),Sp=g({},et,{data:0}),Oc=Qt(Sp),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xf[i])?!!s[i]:!1}function Oa(){return kc}var Qf=g({},Da,{key:function(i){if(i.key){var s=Ma[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(i){return i.type==="keypress"?Br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zo=Qt(Qf),Zf=g({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=Qt(Zf),Ci=g({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Jf=Qt(Ci),eh=g({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=Qt(eh),nh=g({},Pa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=Qt(nh),Rn=g({},et,{newState:0,oldState:0}),rh=Qt(Rn),ih=[9,13,27,32],Hr=vr&&"CompositionEvent"in window,d=null;vr&&"documentMode"in document&&(d=document.documentMode);var _=vr&&"TextEvent"in window&&!d,E=vr&&(!Hr||d&&8<d&&11>=d),N=" ",Y=!1;function te(i,s){switch(i){case"keyup":return ih.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ke=!1;function qt(i,s){switch(i){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(Y=!0,N);case"textInput":return i=s.data,i===N&&Y?null:i;default:return null}}function Ye(i,s){if(Ke)return i==="compositionend"||!Hr&&te(i,s)?(i=Pc(),Ri=ms=jr=null,Ke=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Zt[i.type]:s==="textarea"}function Ii(i,s,l,u){Ai?xi?xi.push(u):xi=[u]:Ai=u,s=qh(s,"onChange"),0<s.length&&(l=new ko("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var sn=null,qr=null;function Lc(i){lT(i,0)}function sh(i){var s=Vr(i);if(Rc(s))return i}function Ib(i,s){if(i==="change")return s}var Db=!1;if(vr){var Ap;if(vr){var xp="oninput"in document;if(!xp){var Pb=document.createElement("div");Pb.setAttribute("oninput","return;"),xp=typeof Pb.oninput=="function"}Ap=xp}else Ap=!1;Db=Ap&&(!document.documentMode||9<document.documentMode)}function Nb(){sn&&(sn.detachEvent("onpropertychange",Mb),qr=sn=null)}function Mb(i){if(i.propertyName==="value"&&sh(qr)){var s=[];Ii(s,qr,i,er(i)),Gf(Lc,s)}}function cM(i,s,l){i==="focusin"?(Nb(),sn=s,qr=l,sn.attachEvent("onpropertychange",Mb)):i==="focusout"&&Nb()}function uM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(qr)}function fM(i,s){if(i==="click")return sh(s)}function hM(i,s){if(i==="input"||i==="change")return sh(s)}function dM(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zn=typeof Object.is=="function"?Object.is:dM;function Uc(i,s){if(zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Qe.call(s,p)||!zn(i[p],s[p]))return!1}return!0}function Ob(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kb(i,s){var l=Ob(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ob(l)}}function Vb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Vb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Lb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Sa(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Sa(i.document)}return s}function Rp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var mM=vr&&"documentMode"in document&&11>=document.documentMode,Ho=null,Cp=null,jc=null,Ip=!1;function Ub(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ip||Ho==null||Ho!==Sa(u)||(u=Ho,"selectionStart"in u&&Rp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jc&&Uc(jc,u)||(jc=u,u=qh(Cp,"onSelect"),0<u.length&&(s=new ko("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Ho)))}function ka(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var qo={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Dp={},jb={};vr&&(jb=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Va(i){if(Dp[i])return Dp[i];if(!qo[i])return i;var s=qo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in jb)return Dp[i]=s[l];return i}var Bb=Va("animationend"),zb=Va("animationiteration"),Fb=Va("animationstart"),pM=Va("transitionrun"),gM=Va("transitionstart"),yM=Va("transitioncancel"),Hb=Va("transitionend"),qb=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pp.push("scrollEnd");function _r(i,s){qb.set(i,s),yr(s,[i])}var Gb=new WeakMap;function rr(i,s){if(typeof i=="object"&&i!==null){var l=Gb.get(i);return l!==void 0?l:(s={value:i,source:s,stack:No(s)},Gb.set(i,s),s)}return{value:i,source:s,stack:No(s)}}var ir=[],Go=0,Np=0;function ah(){for(var i=Go,s=Np=Go=0;s<i;){var l=ir[s];ir[s++]=null;var u=ir[s];ir[s++]=null;var p=ir[s];ir[s++]=null;var y=ir[s];if(ir[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&$b(l,p,y)}}function oh(i,s,l,u){ir[Go++]=i,ir[Go++]=s,ir[Go++]=l,ir[Go++]=u,Np|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Mp(i,s,l,u){return oh(i,s,l,u),lh(i)}function $o(i,s){return oh(i,null,null,s),lh(i)}function $b(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-pn(l),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=l|536870912),y):null}function lh(i){if(50<uu)throw uu=0,jg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ko={};function vM(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,s,l,u){return new vM(i,s,l,u)}function Op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Di(i,s){var l=i.alternate;return l===null?(l=Fn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Kb(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ch(i,s,l,u,p,y){var T=0;if(u=i,typeof i=="function")Op(i)&&(T=1);else if(typeof i=="string")T=bO(i,l,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Fn(31,l,s,p),i.elementType=k,i.lanes=y,i;case C:return La(l.children,p,y,s);case R:T=8,p|=24;break;case x:return i=Fn(12,l,s,p|2),i.elementType=x,i.lanes=y,i;case q:return i=Fn(13,l,s,p),i.elementType=q,i.lanes=y,i;case re:return i=Fn(19,l,s,p),i.elementType=re,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case V:T=10;break e;case P:T=9;break e;case G:T=11;break e;case M:T=14;break e;case A:T=16,u=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Fn(T,l,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function La(i,s,l,u){return i=Fn(7,i,u,s),i.lanes=l,i}function kp(i,s,l){return i=Fn(6,i,null,s),i.lanes=l,i}function Vp(i,s,l){return s=Fn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Yo=[],Wo=0,uh=null,fh=0,sr=[],ar=0,Ua=null,Pi=1,Ni="";function ja(i,s){Yo[Wo++]=fh,Yo[Wo++]=uh,uh=i,fh=s}function Yb(i,s,l){sr[ar++]=Pi,sr[ar++]=Ni,sr[ar++]=Ua,Ua=i;var u=Pi;i=Ni;var p=32-pn(u)-1;u&=~(1<<p),l+=1;var y=32-pn(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Pi=1<<32-pn(s)+p|l<<p|u,Ni=y+i}else Pi=1<<y|l<<p|u,Ni=i}function Lp(i){i.return!==null&&(ja(i,1),Yb(i,1,0))}function Up(i){for(;i===uh;)uh=Yo[--Wo],Yo[Wo]=null,fh=Yo[--Wo],Yo[Wo]=null;for(;i===Ua;)Ua=sr[--ar],sr[ar]=null,Ni=sr[--ar],sr[ar]=null,Pi=sr[--ar],sr[ar]=null}var Cn=null,wt=null,Je=!1,Ba=null,Gr=!1,jp=Error(r(519));function za(i){var s=Error(r(418,""));throw Fc(rr(s,i)),jp}function Wb(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Ht]=i,s[Ot]=u,l){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(l=0;l<hu.length;l++)He(hu[l],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Aa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Mo(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),xa(s,u.value,u.defaultValue,u.children),Mo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||hT(s.textContent,l)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=Gh),s=!0):s=!1,s||za(i)}function Xb(i){for(Cn=i.return;Cn;)switch(Cn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Cn=Cn.return}}function Bc(i){if(i!==Cn)return!1;if(!Je)return Xb(i),Je=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ty(i.type,i.memoizedProps)),l=!l),l&&wt&&za(i),Xb(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){wt=Er(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}wt=null}}else s===27?(s=wt,Ds(i.type)?(i=sy,sy=null,wt=i):wt=s):wt=Cn?Er(i.stateNode.nextSibling):null;return!0}function zc(){wt=Cn=null,Je=!1}function Qb(){var i=Ba;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),Ba=null),i}function Fc(i){Ba===null?Ba=[i]:Ba.push(i)}var Bp=se(null),Fa=null,Mi=null;function ps(i,s,l){oe(Bp,s._currentValue),s._currentValue=l}function Oi(i){i._currentValue=Bp.current,de(Bp)}function zp(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Fp(i,s,l,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=p;for(var z=0;z<s.length;z++)if(D.context===s[z]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),zp(y.return,l,i),u||(T=null);break e}y=D.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),zp(T,l,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Hc(i,s,l,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var D=p.type;zn(p.pendingProps.value,T.value)||(i!==null?i.push(D):i=[D])}}else if(p===fe.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}p=p.return}i!==null&&Fp(s,i,l,u),s.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ha(i){Fa=i,Mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function gn(i){return Zb(Fa,i)}function dh(i,s){return Fa===null&&Ha(i),Zb(i,s)}function Zb(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Mi===null){if(i===null)throw Error(r(308));Mi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Mi=Mi.next=s;return l}var _M=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},bM=t.unstable_scheduleCallback,EM=t.unstable_NormalPriority,$t={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hp(){return{controller:new _M,data:new Map,refCount:0}}function qc(i){i.refCount--,i.refCount===0&&bM(EM,function(){i.controller.abort()})}var Gc=null,qp=0,Xo=0,Qo=null;function wM(i,s){if(Gc===null){var l=Gc=[];qp=0,Xo=$g(),Qo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return qp++,s.then(Jb,Jb),s}function Jb(){if(--qp===0&&Gc!==null){Qo!==null&&(Qo.status="fulfilled");var i=Gc;Gc=null,Xo=0,Qo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function TM(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var eE=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&wM(i,s),eE!==null&&eE(i,s)};var qa=se(null);function Gp(){var i=qa.current;return i!==null?i:ft.pooledCache}function mh(i,s){s===null?oe(qa,qa.current):oe(qa,s.pool)}function tE(){var i=Gp();return i===null?null:{parent:$t._currentValue,pool:i}}var $c=Error(r(460)),nE=Error(r(474)),ph=Error(r(542)),$p={then:function(){}};function rE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gh(){}function iE(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(gh,gh),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,aE(i),i;default:if(typeof s.status=="string")s.then(gh,gh);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,aE(i),i}throw Kc=s,$c}}var Kc=null;function sE(){if(Kc===null)throw Error(r(459));var i=Kc;return Kc=null,i}function aE(i){if(i===$c||i===ph)throw Error(r(483))}var gs=!1;function Kp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ys(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vs(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=lh(i),$b(i,null,l),s}return oh(i,u,s,l),lh(i)}function Yc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,wc(i,l)}}function Wp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Xp=!1;function Wc(){if(Xp){var i=Qo;if(i!==null)throw i}}function Xc(i,s,l,u){Xp=!1;var p=i.updateQueue;gs=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var z=D,Q=z.next;z.next=null,T===null?y=Q:T.next=Q,T=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==T&&(D===null?ie.firstBaseUpdate=Q:D.next=Q,ie.lastBaseUpdate=z))}if(y!==null){var le=p.baseState;T=0,ie=Q=z=null,D=y;do{var Z=D.lane&-536870913,J=Z!==D.lane;if(J?(We&Z)===Z:(u&Z)===Z){Z!==0&&Z===Xo&&(Xp=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Pe=i,Re=D;Z=s;var lt=l;switch(Re.tag){case 1:if(Pe=Re.payload,typeof Pe=="function"){le=Pe.call(lt,le,Z);break e}le=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Re.payload,Z=typeof Pe=="function"?Pe.call(lt,le,Z):Pe,Z==null)break e;le=g({},le,Z);break e;case 2:gs=!0}}Z=D.callback,Z!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Q=ie=J,z=le):ie=ie.next=J,T|=Z;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;J=D,D=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ie===null&&(z=le),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),xs|=T,i.lanes=T,i.memoizedState=le}}function oE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function lE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)oE(l[i],s)}var Zo=se(null),yh=se(0);function cE(i,s){i=zi,oe(yh,i),oe(Zo,s),zi=i|s.baseLanes}function Qp(){oe(yh,zi),oe(Zo,Zo.current)}function Zp(){zi=yh.current,de(Zo),de(yh)}var _s=0,Le=null,at=null,Vt=null,vh=!1,Jo=!1,Ga=!1,_h=0,Qc=0,el=null,SM=0;function xt(){throw Error(r(321))}function Jp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!zn(i[l],s[l]))return!1;return!0}function eg(i,s,l,u,p,y){return _s=y,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?$E:KE,Ga=!1,y=l(u,p),Ga=!1,Jo&&(y=fE(s,l,u,p)),uE(i),y}function uE(i){K.H=Ah;var s=at!==null&&at.next!==null;if(_s=0,Vt=at=Le=null,vh=!1,Qc=0,el=null,s)throw Error(r(300));i===null||Jt||(i=i.dependencies,i!==null&&hh(i)&&(Jt=!0))}function fE(i,s,l,u){Le=i;var p=0;do{if(Jo&&(el=null),Qc=0,Jo=!1,25<=p)throw Error(r(301));if(p+=1,Vt=at=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=PM,y=s(l,u)}while(Jo);return y}function AM(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Zc(s):s,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Le.flags|=1024),s}function tg(){var i=_h!==0;return _h=0,i}function ng(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function rg(i){if(vh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}vh=!1}_s=0,Vt=at=Le=null,Jo=!1,Qc=_h=0,el=null}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Le.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Lt(){if(at===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var s=Vt===null?Le.memoizedState:Vt.next;if(s!==null)Vt=s,at=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Le.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function ig(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(i){var s=Qc;return Qc+=1,el===null&&(el=[]),i=iE(el,i,s),s=Le,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?$E:KE),i}function bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zc(i);if(i.$$typeof===V)return gn(i)}throw Error(r(438,String(i)))}function sg(i){var s=null,l=Le.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ig(),Le.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=U;return s.index++,l}function ki(i,s){return typeof s=="function"?s(i):s}function Eh(i){var s=Lt();return ag(s,at,i)}function ag(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var D=T=null,z=null,Q=s,ie=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(We&le)===le:(_s&le)===le){var Z=Q.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===Xo&&(ie=!0);else if((_s&Z)===Z){Q=Q.next,Z===Xo&&(ie=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(D=z=le,T=y):z=z.next=le,Le.lanes|=Z,xs|=Z;le=Q.action,Ga&&l(y,le),y=Q.hasEagerState?Q.eagerState:l(y,le)}else Z={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(D=z=Z,T=y):z=z.next=Z,Le.lanes|=le,xs|=le;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?T=y:z.next=D,!zn(y,i.memoizedState)&&(Jt=!0,ie&&(l=Qo,l!==null)))throw l;i.memoizedState=y,i.baseState=T,i.baseQueue=z,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function og(i){var s=Lt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);zn(y,s.memoizedState)||(Jt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function hE(i,s,l){var u=Le,p=Lt(),y=Je;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var T=!zn((at||p).memoizedState,l);T&&(p.memoizedState=l,Jt=!0),p=p.queue;var D=pE.bind(null,u,p,i);if(Jc(2048,8,D,[i]),p.getSnapshot!==s||T||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,tl(9,wh(),mE.bind(null,u,p,l,s),null),ft===null)throw Error(r(349));y||(_s&124)!==0||dE(u,s,l)}return l}function dE(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Le.updateQueue,s===null?(s=ig(),Le.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function mE(i,s,l,u){s.value=l,s.getSnapshot=u,gE(s)&&yE(i)}function pE(i,s,l){return l(function(){gE(s)&&yE(i)})}function gE(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!zn(i,l)}catch{return!0}}function yE(i){var s=$o(i,2);s!==null&&Kn(s,i,2)}function lg(i){var s=Dn();if(typeof i=="function"){var l=i;if(i=l(),Ga){jn(!0);try{l()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:i},s}function vE(i,s,l,u){return i.baseState=l,ag(i,at,typeof u=="function"?u:ki)}function xM(i,s,l,u,p){if(Sh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,_E(s,y)):(y.next=l.next,s.pending=l.next=y)}}function _E(i,s){var l=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=K.T,T={};K.T=T;try{var D=l(p,u),z=K.S;z!==null&&z(T,D),bE(i,s,D)}catch(Q){cg(i,s,Q)}finally{K.T=y}}else try{y=l(p,u),bE(i,s,y)}catch(Q){cg(i,s,Q)}}function bE(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){EE(i,s,u)},function(u){return cg(i,s,u)}):EE(i,s,l)}function EE(i,s,l){s.status="fulfilled",s.value=l,wE(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,_E(i,l)))}function cg(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,wE(s),s=s.next;while(s!==u)}i.action=null}function wE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function TE(i,s){return s}function SE(i,s){if(Je){var l=ft.formState;if(l!==null){e:{var u=Le;if(Je){if(wt){t:{for(var p=wt,y=Gr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Er(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){wt=Er(p.nextSibling),u=p.data==="F!";break e}}za(u)}u=!1}u&&(s=l[0])}}return l=Dn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TE,lastRenderedState:s},l.queue=u,l=HE.bind(null,Le,u),u.dispatch=l,u=lg(!1),y=mg.bind(null,Le,!1,u.queue),u=Dn(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,l=xM.bind(null,Le,p,y,l),p.dispatch=l,u.memoizedState=i,[s,l,!1]}function AE(i){var s=Lt();return xE(s,at,i)}function xE(i,s,l){if(s=ag(i,s,TE)[0],i=Eh(ki)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Zc(s)}catch(T){throw T===$c?ph:T}else u=s;s=Lt();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Le.flags|=2048,tl(9,wh(),RM.bind(null,p,l),null)),[u,y,i]}function RM(i,s){i.action=s}function RE(i){var s=Lt(),l=at;if(l!==null)return xE(s,l,i);Lt(),s=s.memoizedState,l=Lt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function tl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=ig(),Le.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function wh(){return{destroy:void 0,resource:void 0}}function CE(){return Lt().memoizedState}function Th(i,s,l,u){var p=Dn();u=u===void 0?null:u,Le.flags|=i,p.memoizedState=tl(1|s,wh(),l,u)}function Jc(i,s,l,u){var p=Lt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&Jp(u,at.memoizedState.deps)?p.memoizedState=tl(s,y,l,u):(Le.flags|=i,p.memoizedState=tl(1|s,y,l,u))}function IE(i,s){Th(8390656,8,i,s)}function DE(i,s){Jc(2048,8,i,s)}function PE(i,s){return Jc(4,2,i,s)}function NE(i,s){return Jc(4,4,i,s)}function ME(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function OE(i,s,l){l=l!=null?l.concat([i]):null,Jc(4,4,ME.bind(null,s,i),l)}function ug(){}function kE(i,s){var l=Lt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Jp(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function VE(i,s){var l=Lt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Jp(s,u[1]))return u[0];if(u=i(),Ga){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[u,s],u}function fg(i,s,l){return l===void 0||(_s&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=jw(),Le.lanes|=i,xs|=i,l)}function LE(i,s,l,u){return zn(l,s)?l:Zo.current!==null?(i=fg(i,l,u),zn(i,s)||(Jt=!0),i):(_s&42)===0?(Jt=!0,i.memoizedState=l):(i=jw(),Le.lanes|=i,xs|=i,s)}function UE(i,s,l,u,p){var y=ne.p;ne.p=y!==0&&8>y?y:8;var T=K.T,D={};K.T=D,mg(i,!1,s,l);try{var z=p(),Q=K.S;if(Q!==null&&Q(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=TM(z,u);eu(i,s,ie,$n(i))}else eu(i,s,u,$n(i))}catch(le){eu(i,s,{then:function(){},status:"rejected",reason:le},$n())}finally{ne.p=y,K.T=T}}function CM(){}function hg(i,s,l,u){if(i.tag!==5)throw Error(r(476));var p=jE(i).queue;UE(i,p,s,X,l===null?CM:function(){return BE(i),l(u)})}function jE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:X},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function BE(i){var s=jE(i).next.queue;eu(i,s,{},$n())}function dg(){return gn(vu)}function zE(){return Lt().memoizedState}function FE(){return Lt().memoizedState}function IM(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=$n();i=ys(l);var u=vs(s,i,l);u!==null&&(Kn(u,s,l),Yc(u,s,l)),s={cache:Hp()},i.payload=s;return}s=s.return}}function DM(i,s,l){var u=$n();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Sh(i)?qE(s,l):(l=Mp(i,s,l,u),l!==null&&(Kn(l,i,u),GE(l,s,u)))}function HE(i,s,l){var u=$n();eu(i,s,l,u)}function eu(i,s,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sh(i))qE(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,D=y(T,l);if(p.hasEagerState=!0,p.eagerState=D,zn(D,T))return oh(i,s,p,0),ft===null&&ah(),!1}catch{}finally{}if(l=Mp(i,s,p,u),l!==null)return Kn(l,i,u),GE(l,s,u),!0}return!1}function mg(i,s,l,u){if(u={lane:2,revertLane:$g(),action:u,hasEagerState:!1,eagerState:null,next:null},Sh(i)){if(s)throw Error(r(479))}else s=Mp(i,l,u,2),s!==null&&Kn(s,i,2)}function Sh(i){var s=i.alternate;return i===Le||s!==null&&s===Le}function qE(i,s){Jo=vh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function GE(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,wc(i,l)}}var Ah={readContext:gn,use:bh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},$E={readContext:gn,use:bh,useCallback:function(i,s){return Dn().memoizedState=[i,s===void 0?null:s],i},useContext:gn,useEffect:IE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Th(4194308,4,ME.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Th(4194308,4,i,s)},useInsertionEffect:function(i,s){Th(4,2,i,s)},useMemo:function(i,s){var l=Dn();s=s===void 0?null:s;var u=i();if(Ga){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=Dn();if(l!==void 0){var p=l(s);if(Ga){jn(!0);try{l(s)}finally{jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=DM.bind(null,Le,i),[u.memoizedState,i]},useRef:function(i){var s=Dn();return i={current:i},s.memoizedState=i},useState:function(i){i=lg(i);var s=i.queue,l=HE.bind(null,Le,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:ug,useDeferredValue:function(i,s){var l=Dn();return fg(l,i,s)},useTransition:function(){var i=lg(!1);return i=UE.bind(null,Le,i.queue,!0,!1),Dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Le,p=Dn();if(Je){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),ft===null)throw Error(r(349));(We&124)!==0||dE(u,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,IE(pE.bind(null,u,y,i),[i]),u.flags|=2048,tl(9,wh(),mE.bind(null,u,y,l,s),null),l},useId:function(){var i=Dn(),s=ft.identifierPrefix;if(Je){var l=Ni,u=Pi;l=(u&~(1<<32-pn(u)-1)).toString(32)+l,s="«"+s+"R"+l,l=_h++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=SM++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:dg,useFormState:SE,useActionState:SE,useOptimistic:function(i){var s=Dn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=mg.bind(null,Le,!0,l),l.dispatch=s,[i,s]},useMemoCache:sg,useCacheRefresh:function(){return Dn().memoizedState=IM.bind(null,Le)}},KE={readContext:gn,use:bh,useCallback:kE,useContext:gn,useEffect:DE,useImperativeHandle:OE,useInsertionEffect:PE,useLayoutEffect:NE,useMemo:VE,useReducer:Eh,useRef:CE,useState:function(){return Eh(ki)},useDebugValue:ug,useDeferredValue:function(i,s){var l=Lt();return LE(l,at.memoizedState,i,s)},useTransition:function(){var i=Eh(ki)[0],s=Lt().memoizedState;return[typeof i=="boolean"?i:Zc(i),s]},useSyncExternalStore:hE,useId:zE,useHostTransitionStatus:dg,useFormState:AE,useActionState:AE,useOptimistic:function(i,s){var l=Lt();return vE(l,at,i,s)},useMemoCache:sg,useCacheRefresh:FE},PM={readContext:gn,use:bh,useCallback:kE,useContext:gn,useEffect:DE,useImperativeHandle:OE,useInsertionEffect:PE,useLayoutEffect:NE,useMemo:VE,useReducer:og,useRef:CE,useState:function(){return og(ki)},useDebugValue:ug,useDeferredValue:function(i,s){var l=Lt();return at===null?fg(l,i,s):LE(l,at.memoizedState,i,s)},useTransition:function(){var i=og(ki)[0],s=Lt().memoizedState;return[typeof i=="boolean"?i:Zc(i),s]},useSyncExternalStore:hE,useId:zE,useHostTransitionStatus:dg,useFormState:RE,useActionState:RE,useOptimistic:function(i,s){var l=Lt();return at!==null?vE(l,at,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:sg,useCacheRefresh:FE},nl=null,tu=0;function xh(i){var s=tu;return tu+=1,nl===null&&(nl=[]),iE(nl,i,s)}function nu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Rh(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function YE(i){var s=i._init;return s(i._payload)}function WE(i){function s($,H){if(i){var W=$.deletions;W===null?($.deletions=[H],$.flags|=16):W.push(H)}}function l($,H){if(!i)return null;for(;H!==null;)s($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function p($,H){return $=Di($,H),$.index=0,$.sibling=null,$}function y($,H,W){return $.index=W,i?(W=$.alternate,W!==null?(W=W.index,W<H?($.flags|=67108866,H):W):($.flags|=67108866,H)):($.flags|=1048576,H)}function T($){return i&&$.alternate===null&&($.flags|=67108866),$}function D($,H,W,ae){return H===null||H.tag!==6?(H=kp(W,$.mode,ae),H.return=$,H):(H=p(H,W),H.return=$,H)}function z($,H,W,ae){var _e=W.type;return _e===C?ie($,H,W.props.children,ae,W.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&YE(_e)===H.type)?(H=p(H,W.props),nu(H,W),H.return=$,H):(H=ch(W.type,W.key,W.props,null,$.mode,ae),nu(H,W),H.return=$,H)}function Q($,H,W,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Vp(W,$.mode,ae),H.return=$,H):(H=p(H,W.children||[]),H.return=$,H)}function ie($,H,W,ae,_e){return H===null||H.tag!==7?(H=La(W,$.mode,ae,_e),H.return=$,H):(H=p(H,W),H.return=$,H)}function le($,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=kp(""+H,$.mode,W),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return W=ch(H.type,H.key,H.props,null,$.mode,W),nu(W,H),W.return=$,W;case S:return H=Vp(H,$.mode,W),H.return=$,H;case A:var ae=H._init;return H=ae(H._payload),le($,H,W)}if(Se(H)||j(H))return H=La(H,$.mode,W,null),H.return=$,H;if(typeof H.then=="function")return le($,xh(H),W);if(H.$$typeof===V)return le($,dh($,H),W);Rh($,H)}return null}function Z($,H,W,ae){var _e=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _e!==null?null:D($,H,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===_e?z($,H,W,ae):null;case S:return W.key===_e?Q($,H,W,ae):null;case A:return _e=W._init,W=_e(W._payload),Z($,H,W,ae)}if(Se(W)||j(W))return _e!==null?null:ie($,H,W,ae,null);if(typeof W.then=="function")return Z($,H,xh(W),ae);if(W.$$typeof===V)return Z($,H,dh($,W),ae);Rh($,W)}return null}function J($,H,W,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(W)||null,D(H,$,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return $=$.get(ae.key===null?W:ae.key)||null,z(H,$,ae,_e);case S:return $=$.get(ae.key===null?W:ae.key)||null,Q(H,$,ae,_e);case A:var Be=ae._init;return ae=Be(ae._payload),J($,H,W,ae,_e)}if(Se(ae)||j(ae))return $=$.get(W)||null,ie(H,$,ae,_e,null);if(typeof ae.then=="function")return J($,H,W,xh(ae),_e);if(ae.$$typeof===V)return J($,H,W,dh(H,ae),_e);Rh(H,ae)}return null}function Pe($,H,W,ae){for(var _e=null,Be=null,Ae=H,Ce=H=0,tn=null;Ae!==null&&Ce<W.length;Ce++){Ae.index>Ce?(tn=Ae,Ae=null):tn=Ae.sibling;var Ze=Z($,Ae,W[Ce],ae);if(Ze===null){Ae===null&&(Ae=tn);break}i&&Ae&&Ze.alternate===null&&s($,Ae),H=y(Ze,H,Ce),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze,Ae=tn}if(Ce===W.length)return l($,Ae),Je&&ja($,Ce),_e;if(Ae===null){for(;Ce<W.length;Ce++)Ae=le($,W[Ce],ae),Ae!==null&&(H=y(Ae,H,Ce),Be===null?_e=Ae:Be.sibling=Ae,Be=Ae);return Je&&ja($,Ce),_e}for(Ae=u(Ae);Ce<W.length;Ce++)tn=J(Ae,$,Ce,W[Ce],ae),tn!==null&&(i&&tn.alternate!==null&&Ae.delete(tn.key===null?Ce:tn.key),H=y(tn,H,Ce),Be===null?_e=tn:Be.sibling=tn,Be=tn);return i&&Ae.forEach(function(ks){return s($,ks)}),Je&&ja($,Ce),_e}function Re($,H,W,ae){if(W==null)throw Error(r(151));for(var _e=null,Be=null,Ae=H,Ce=H=0,tn=null,Ze=W.next();Ae!==null&&!Ze.done;Ce++,Ze=W.next()){Ae.index>Ce?(tn=Ae,Ae=null):tn=Ae.sibling;var ks=Z($,Ae,Ze.value,ae);if(ks===null){Ae===null&&(Ae=tn);break}i&&Ae&&ks.alternate===null&&s($,Ae),H=y(ks,H,Ce),Be===null?_e=ks:Be.sibling=ks,Be=ks,Ae=tn}if(Ze.done)return l($,Ae),Je&&ja($,Ce),_e;if(Ae===null){for(;!Ze.done;Ce++,Ze=W.next())Ze=le($,Ze.value,ae),Ze!==null&&(H=y(Ze,H,Ce),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze);return Je&&ja($,Ce),_e}for(Ae=u(Ae);!Ze.done;Ce++,Ze=W.next())Ze=J(Ae,$,Ce,Ze.value,ae),Ze!==null&&(i&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Ce:Ze.key),H=y(Ze,H,Ce),Be===null?_e=Ze:Be.sibling=Ze,Be=Ze);return i&&Ae.forEach(function(NO){return s($,NO)}),Je&&ja($,Ce),_e}function lt($,H,W,ae){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var _e=W.key;H!==null;){if(H.key===_e){if(_e=W.type,_e===C){if(H.tag===7){l($,H.sibling),ae=p(H,W.props.children),ae.return=$,$=ae;break e}}else if(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&YE(_e)===H.type){l($,H.sibling),ae=p(H,W.props),nu(ae,W),ae.return=$,$=ae;break e}l($,H);break}else s($,H);H=H.sibling}W.type===C?(ae=La(W.props.children,$.mode,ae,W.key),ae.return=$,$=ae):(ae=ch(W.type,W.key,W.props,null,$.mode,ae),nu(ae,W),ae.return=$,$=ae)}return T($);case S:e:{for(_e=W.key;H!==null;){if(H.key===_e)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l($,H.sibling),ae=p(H,W.children||[]),ae.return=$,$=ae;break e}else{l($,H);break}else s($,H);H=H.sibling}ae=Vp(W,$.mode,ae),ae.return=$,$=ae}return T($);case A:return _e=W._init,W=_e(W._payload),lt($,H,W,ae)}if(Se(W))return Pe($,H,W,ae);if(j(W)){if(_e=j(W),typeof _e!="function")throw Error(r(150));return W=_e.call(W),Re($,H,W,ae)}if(typeof W.then=="function")return lt($,H,xh(W),ae);if(W.$$typeof===V)return lt($,H,dh($,W),ae);Rh($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l($,H.sibling),ae=p(H,W),ae.return=$,$=ae):(l($,H),ae=kp(W,$.mode,ae),ae.return=$,$=ae),T($)):l($,H)}return function($,H,W,ae){try{tu=0;var _e=lt($,H,W,ae);return nl=null,_e}catch(Ae){if(Ae===$c||Ae===ph)throw Ae;var Be=Fn(29,Ae,null,$.mode);return Be.lanes=ae,Be.return=$,Be}finally{}}}var rl=WE(!0),XE=WE(!1),or=se(null),$r=null;function bs(i){var s=i.alternate;oe(Kt,Kt.current&1),oe(or,i),$r===null&&(s===null||Zo.current!==null||s.memoizedState!==null)&&($r=i)}function QE(i){if(i.tag===22){if(oe(Kt,Kt.current),oe(or,i),$r===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&($r=i)}}else Es()}function Es(){oe(Kt,Kt.current),oe(or,or.current)}function Vi(i){de(or),$r===i&&($r=null),de(Kt)}var Kt=se(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||iy(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function pg(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gg={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=$n(),p=ys(u);p.payload=s,l!=null&&(p.callback=l),s=vs(i,p,u),s!==null&&(Kn(s,i,u),Yc(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=$n(),p=ys(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=vs(i,p,u),s!==null&&(Kn(s,i,u),Yc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=$n(),u=ys(l);u.tag=2,s!=null&&(u.callback=s),s=vs(i,u,l),s!==null&&(Kn(s,i,l),Yc(s,i,l))}};function ZE(i,s,l,u,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!Uc(l,u)||!Uc(p,y):!0}function JE(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&gg.enqueueReplaceState(s,s.state,null)}function $a(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Ih=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ew(i){Ih(i)}function tw(i){console.error(i)}function nw(i){Ih(i)}function Dh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function rw(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function yg(i,s,l){return l=ys(l),l.tag=3,l.payload={element:null},l.callback=function(){Dh(i,s)},l}function iw(i){return i=ys(i),i.tag=3,i}function sw(i,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){rw(s,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){rw(s,l,u),typeof p!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function NM(i,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Hc(s,l,p,!0),l=or.current,l!==null){switch(l.tag){case 13:return $r===null?zg():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===$p?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Hg(i,u,p)),!1;case 22:return l.flags|=65536,u===$p?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Hg(i,u,p)),!1}throw Error(r(435,l.tag))}return Hg(i,u,p),zg(),!1}if(Je)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==jp&&(i=Error(r(422),{cause:u}),Fc(rr(i,l)))):(u!==jp&&(s=Error(r(423),{cause:u}),Fc(rr(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=rr(u,l),p=yg(i.stateNode,u,p),Wp(i,p),Tt!==4&&(Tt=2)),!1;var y=Error(r(520),{cause:u});if(y=rr(y,l),cu===null?cu=[y]:cu.push(y),Tt!==4&&(Tt=2),s===null)return!0;u=rr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=yg(l.stateNode,u,i),Wp(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rs===null||!Rs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=iw(p),sw(p,i,l,u),Wp(l,p),!1}l=l.return}while(l!==null);return!1}var aw=Error(r(461)),Jt=!1;function an(i,s,l,u){s.child=i===null?XE(s,null,l,u):rl(s,i.child,l,u)}function ow(i,s,l,u,p){l=l.render;var y=s.ref;if("ref"in u){var T={};for(var D in u)D!=="ref"&&(T[D]=u[D])}else T=u;return Ha(s),u=eg(i,s,l,T,y,p),D=tg(),i!==null&&!Jt?(ng(i,s,p),Li(i,s,p)):(Je&&D&&Lp(s),s.flags|=1,an(i,s,u,p),s.child)}function lw(i,s,l,u,p){if(i===null){var y=l.type;return typeof y=="function"&&!Op(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,cw(i,s,y,u,p)):(i=ch(l.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Ag(i,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Uc,l(T,u)&&i.ref===s.ref)return Li(i,s,p)}return s.flags|=1,i=Di(y,u),i.ref=s.ref,i.return=s,s.child=i}function cw(i,s,l,u,p){if(i!==null){var y=i.memoizedProps;if(Uc(y,u)&&i.ref===s.ref)if(Jt=!1,s.pendingProps=u=y,Ag(i,p))(i.flags&131072)!==0&&(Jt=!0);else return s.lanes=i.lanes,Li(i,s,p)}return vg(i,s,l,u,p)}function uw(i,s,l){var u=s.pendingProps,p=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return fw(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&mh(s,y!==null?y.cachePool:null),y!==null?cE(s,y):Qp(),QE(s);else return s.lanes=s.childLanes=536870912,fw(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(mh(s,y.cachePool),cE(s,y),Es(),s.memoizedState=null):(i!==null&&mh(s,null),Qp(),Es());return an(i,s,p,l),s.child}function fw(i,s,l,u){var p=Gp();return p=p===null?null:{parent:$t._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&mh(s,null),Qp(),QE(s),i!==null&&Hc(i,s,u,!0),null}function Ph(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function vg(i,s,l,u,p){return Ha(s),l=eg(i,s,l,u,void 0,p),u=tg(),i!==null&&!Jt?(ng(i,s,p),Li(i,s,p)):(Je&&u&&Lp(s),s.flags|=1,an(i,s,l,p),s.child)}function hw(i,s,l,u,p,y){return Ha(s),s.updateQueue=null,l=fE(s,u,l,p),uE(i),u=tg(),i!==null&&!Jt?(ng(i,s,y),Li(i,s,y)):(Je&&u&&Lp(s),s.flags|=1,an(i,s,l,y),s.child)}function dw(i,s,l,u,p){if(Ha(s),s.stateNode===null){var y=Ko,T=l.contextType;typeof T=="object"&&T!==null&&(y=gn(T)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Kp(s),T=l.contextType,y.context=typeof T=="object"&&T!==null?gn(T):Ko,y.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(pg(s,l,T,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&gg.enqueueReplaceState(y,y.state,null),Xc(s,u,y,p),Wc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var D=s.memoizedProps,z=$a(l,D);y.props=z;var Q=y.context,ie=l.contextType;T=Ko,typeof ie=="object"&&ie!==null&&(T=gn(ie));var le=l.getDerivedStateFromProps;ie=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||Q!==T)&&JE(s,y,u,T),gs=!1;var Z=s.memoizedState;y.state=Z,Xc(s,u,y,p),Wc(),Q=s.memoizedState,D||Z!==Q||gs?(typeof le=="function"&&(pg(s,l,le,u),Q=s.memoizedState),(z=gs||ZE(s,l,z,u,Z,Q,T))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),y.props=u,y.state=Q,y.context=T,u=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Yp(i,s),T=s.memoizedProps,ie=$a(l,T),y.props=ie,le=s.pendingProps,Z=y.context,Q=l.contextType,z=Ko,typeof Q=="object"&&Q!==null&&(z=gn(Q)),D=l.getDerivedStateFromProps,(Q=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==le||Z!==z)&&JE(s,y,u,z),gs=!1,Z=s.memoizedState,y.state=Z,Xc(s,u,y,p),Wc();var J=s.memoizedState;T!==le||Z!==J||gs||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof D=="function"&&(pg(s,l,D,u),J=s.memoizedState),(ie=gs||ZE(s,l,ie,u,Z,J,z)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),y.props=u,y.state=J,y.context=z,u=ie):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,Ph(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=rl(s,i.child,null,p),s.child=rl(s,null,l,p)):an(i,s,l,p),s.memoizedState=y.state,i=s.child):i=Li(i,s,p),i}function mw(i,s,l,u){return zc(),s.flags|=256,an(i,s,l,u),s.child}var _g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bg(i){return{baseLanes:i,cachePool:tE()}}function Eg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=lr),i}function pw(i,s,l){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(Kt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Je){if(p?bs(s):Es(),Je){var D=wt,z;if(z=D){e:{for(z=D,D=Gr;z.nodeType!==8;){if(!D){D=null;break e}if(z=Er(z.nextSibling),z===null){D=null;break e}}D=z}D!==null?(s.memoizedState={dehydrated:D,treeContext:Ua!==null?{id:Pi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},z=Fn(18,null,null,0),z.stateNode=D,z.return=s,s.child=z,Cn=s,wt=null,z=!0):z=!1}z||za(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return iy(D)?s.lanes=32:s.lanes=536870912,null;Vi(s)}return D=u.children,u=u.fallback,p?(Es(),p=s.mode,D=Nh({mode:"hidden",children:D},p),u=La(u,p,l,null),D.return=s,u.return=s,D.sibling=u,s.child=D,p=s.child,p.memoizedState=bg(l),p.childLanes=Eg(i,T,l),s.memoizedState=_g,u):(bs(s),wg(s,D))}if(z=i.memoizedState,z!==null&&(D=z.dehydrated,D!==null)){if(y)s.flags&256?(bs(s),s.flags&=-257,s=Tg(i,s,l)):s.memoizedState!==null?(Es(),s.child=i.child,s.flags|=128,s=null):(Es(),p=u.fallback,D=s.mode,u=Nh({mode:"visible",children:u.children},D),p=La(p,D,l,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,rl(s,i.child,null,l),u=s.child,u.memoizedState=bg(l),u.childLanes=Eg(i,T,l),s.memoizedState=_g,s=p);else if(bs(s),iy(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var Q=T.dgst;T=Q,u=Error(r(419)),u.stack="",u.digest=T,Fc({value:u,source:null,stack:null}),s=Tg(i,s,l)}else if(Jt||Hc(i,s,l,!1),T=(l&i.childLanes)!==0,Jt||T){if(T=ft,T!==null&&(u=l&-l,u=(u&42)!==0?1:ls(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==z.retryLane))throw z.retryLane=u,$o(i,u),Kn(T,i,u),aw;D.data==="$?"||zg(),s=Tg(i,s,l)}else D.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,wt=Er(D.nextSibling),Cn=s,Je=!0,Ba=null,Gr=!1,i!==null&&(sr[ar++]=Pi,sr[ar++]=Ni,sr[ar++]=Ua,Pi=i.id,Ni=i.overflow,Ua=s),s=wg(s,u.children),s.flags|=4096);return s}return p?(Es(),p=u.fallback,D=s.mode,z=i.child,Q=z.sibling,u=Di(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,Q!==null?p=Di(Q,p):(p=La(p,D,l,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,D=i.child.memoizedState,D===null?D=bg(l):(z=D.cachePool,z!==null?(Q=$t._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=tE(),D={baseLanes:D.baseLanes|l,cachePool:z}),p.memoizedState=D,p.childLanes=Eg(i,T,l),s.memoizedState=_g,u):(bs(s),l=i.child,i=l.sibling,l=Di(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=l,s.memoizedState=null,l)}function wg(i,s){return s=Nh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Nh(i,s){return i=Fn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Tg(i,s,l){return rl(s,i.child,null,l),i=wg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function gw(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),zp(i.return,s,l)}function Sg(i,s,l,u,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function yw(i,s,l){var u=s.pendingProps,p=u.revealOrder,y=u.tail;if(an(i,s,u.children,l),u=Kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gw(i,l,s);else if(i.tag===19)gw(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(oe(Kt,u),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ch(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Sg(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ch(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Sg(s,!0,l,null,y);break;case"together":Sg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Li(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),xs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Hc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Ag(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function MM(i,s,l){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),ps(s,$t,i.memoizedState.cache),zc();break;case 27:case 5:Oe(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(bs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?pw(i,s,l):(bs(s),i=Li(i,s,l),i!==null?i.sibling:null);bs(s);break;case 19:var p=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Hc(i,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return yw(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(Kt,Kt.current),u)break;return null;case 22:case 23:return s.lanes=0,uw(i,s,l);case 24:ps(s,$t,i.memoizedState.cache)}return Li(i,s,l)}function vw(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Ag(i,l)&&(s.flags&128)===0)return Jt=!1,MM(i,s,l);Jt=(i.flags&131072)!==0}else Jt=!1,Je&&(s.flags&1048576)!==0&&Yb(s,fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Op(u)?(i=$a(u,i),s.tag=1,s=dw(null,s,u,i,l)):(s.tag=0,s=vg(null,s,u,i,l));else{if(u!=null){if(p=u.$$typeof,p===G){s.tag=11,s=ow(null,s,u,i,l);break e}else if(p===M){s.tag=14,s=lw(null,s,u,i,l);break e}}throw s=we(u)||u,Error(r(306,s,""))}}return s;case 0:return vg(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=$a(u,s.pendingProps),dw(i,s,u,p,l);case 3:e:{if(Te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Yp(i,s),Xc(s,u,null,l);var T=s.memoizedState;if(u=T.cache,ps(s,$t,u),u!==y.cache&&Fp(s,[$t],l,!0),Wc(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=mw(i,s,u,l);break e}else if(u!==p){p=rr(Error(r(424)),s),Fc(p),s=mw(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=Er(i.firstChild),Cn=s,Je=!0,Ba=null,Gr=!0,l=XE(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zc(),u===p){s=Li(i,s,l);break e}an(i,s,u,l)}s=s.child}return s;case 26:return Ph(i,s),i===null?(l=wT(s.type,null,s.pendingProps,null))?s.memoizedState=l:Je||(l=s.type,i=s.pendingProps,u=$h(pe.current).createElement(l),u[Ht]=s,u[Ot]=i,ln(u,l,i),At(u),s.stateNode=u):s.memoizedState=wT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Oe(s),i===null&&Je&&(u=s.stateNode=_T(s.type,s.pendingProps,pe.current),Cn=s,Gr=!0,p=wt,Ds(s.type)?(sy=p,wt=Er(u.firstChild)):wt=p),an(i,s,s.pendingProps.children,l),Ph(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Je&&((p=u=wt)&&(u=oO(u,s.type,s.pendingProps,Gr),u!==null?(s.stateNode=u,Cn=s,wt=Er(u.firstChild),Gr=!1,p=!0):p=!1),p||za(s)),Oe(s),p=s.type,y=s.pendingProps,T=i!==null?i.memoizedProps:null,u=y.children,ty(p,y)?u=null:T!==null&&ty(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=eg(i,s,AM,null,null,l),vu._currentValue=p),Ph(i,s),an(i,s,u,l),s.child;case 6:return i===null&&Je&&((i=l=wt)&&(l=lO(l,s.pendingProps,Gr),l!==null?(s.stateNode=l,Cn=s,wt=null,i=!0):i=!1),i||za(s)),null;case 13:return pw(i,s,l);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=rl(s,null,u,l):an(i,s,u,l),s.child;case 11:return ow(i,s,s.type,s.pendingProps,l);case 7:return an(i,s,s.pendingProps,l),s.child;case 8:return an(i,s,s.pendingProps.children,l),s.child;case 12:return an(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,ps(s,s.type,u.value),an(i,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Ha(s),p=gn(p),u=u(p),s.flags|=1,an(i,s,u,l),s.child;case 14:return lw(i,s,s.type,s.pendingProps,l);case 15:return cw(i,s,s.type,s.pendingProps,l);case 19:return yw(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=Nh(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Di(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return uw(i,s,l);case 24:return Ha(s),u=gn($t),i===null?(p=Gp(),p===null&&(p=ft,y=Hp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:u,cache:p},Kp(s),ps(s,$t,p)):((i.lanes&l)!==0&&(Yp(i,s),Xc(s,null,null,l),Wc()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ps(s,$t,u)):(u=y.cache,ps(s,$t,u),u!==p.cache&&Fp(s,[$t],l,!0))),an(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ui(i){i.flags|=4}function _w(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!RT(s)){if(s=or.current,s!==null&&((We&4194048)===We?$r!==null:(We&62914560)!==We&&(We&536870912)===0||s!==$r))throw Kc=$p,nE;i.flags|=8192}}function Mh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?bc():536870912,i.lanes|=s,ol|=s)}function ru(i,s){if(!Je)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function OM(i,s,l){var u=s.pendingProps;switch(Up(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Oi($t),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Bc(s)?Ui(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qb())),vt(s),null;case 26:return l=s.memoizedState,i===null?(Ui(s),l!==null?(vt(s),_w(s,l)):(vt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Ui(s),vt(s),_w(s,l)):(vt(s),s.flags&=-16777217):(i.memoizedProps!==u&&Ui(s),vt(s),s.flags&=-16777217),null;case 27:je(s),l=pe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ui(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return vt(s),null}i=ee.current,Bc(s)?Wb(s):(i=_T(p,u,l),s.stateNode=i,Ui(s))}return vt(s),null;case 5:if(je(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ui(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return vt(s),null}if(i=ee.current,Bc(s))Wb(s);else{switch(p=$h(pe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}i[Ht]=s,i[Ot]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(ln(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ui(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Ui(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=pe.current,Bc(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,p=Cn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Ht]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||hT(i.nodeValue,l)),i||za(s)}else i=$h(i).createTextNode(u),i[Ht]=s,s.stateNode=i}return vt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Bc(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ht]=s}else zc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),p=!1}else p=Qb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Vi(s),s):(Vi(s),null)}if(Vi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Mh(s,s.updateQueue),vt(s),null;case 4:return ze(),i===null&&Xg(s.stateNode.containerInfo),vt(s),null;case 10:return Oi(s.type),vt(s),null;case 19:if(de(Kt),p=s.memoizedState,p===null)return vt(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)ru(p,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Ch(i),y!==null){for(s.flags|=128,ru(p,!1),i=y.updateQueue,s.updateQueue=i,Mh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Kb(l,i),l=l.sibling;return oe(Kt,Kt.current&1|2),s.child}i=i.sibling}p.tail!==null&&mn()>Vh&&(s.flags|=128,u=!0,ru(p,!1),s.lanes=4194304)}else{if(!u)if(i=Ch(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Mh(s,i),ru(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Je)return vt(s),null}else 2*mn()-p.renderingStartTime>Vh&&l!==536870912&&(s.flags|=128,u=!0,ru(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=mn(),s.sibling=null,i=Kt.current,oe(Kt,u?i&1|2:i&1),s):(vt(s),null);case 22:case 23:return Vi(s),Zp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),l=s.updateQueue,l!==null&&Mh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&de(qa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Oi($t),vt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kM(i,s){switch(Up(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Oi($t),ze(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return je(s),null;case 13:if(Vi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));zc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return de(Kt),null;case 4:return ze(),null;case 10:return Oi(s.type),null;case 22:case 23:return Vi(s),Zp(),i!==null&&de(qa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Oi($t),null;case 25:return null;default:return null}}function bw(i,s){switch(Up(s),s.tag){case 3:Oi($t),ze();break;case 26:case 27:case 5:je(s);break;case 4:ze();break;case 13:Vi(s);break;case 19:de(Kt);break;case 10:Oi(s.type);break;case 22:case 23:Vi(s),Zp(),i!==null&&de(qa);break;case 24:Oi($t)}}function iu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&i)===i){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==p)}}catch(D){ct(s,s.return,D)}}function ws(i,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var T=u.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,p=s;var z=l,Q=D;try{Q()}catch(ie){ct(p,z,ie)}}}u=u.next}while(u!==y)}}catch(ie){ct(s,s.return,ie)}}function Ew(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{lE(s,l)}catch(u){ct(i,i.return,u)}}}function ww(i,s,l){l.props=$a(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){ct(i,s,u)}}function su(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(p){ct(i,s,p)}}function Kr(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){ct(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ct(i,s,p)}else l.current=null}function Tw(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){ct(i,i.return,p)}}function xg(i,s,l){try{var u=i.stateNode;nO(u,i.type,l,s),u[Ot]=s}catch(p){ct(i,i.return,p)}}function Sw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ds(i.type)||i.tag===4}function Rg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ds(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cg(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gh));else if(u!==4&&(u===27&&Ds(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Cg(i,s,l),i=i.sibling;i!==null;)Cg(i,s,l),i=i.sibling}function Oh(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&Ds(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Oh(i,s,l),i=i.sibling;i!==null;)Oh(i,s,l),i=i.sibling}function Aw(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);ln(s,u,l),s[Ht]=i,s[Ot]=l}catch(y){ct(i,i.return,y)}}var ji=!1,Rt=!1,Ig=!1,xw=typeof WeakSet=="function"?WeakSet:Set,en=null;function VM(i,s){if(i=i.containerInfo,Jg=Zh,i=Lb(i),Rp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,D=-1,z=-1,Q=0,ie=0,le=i,Z=null;t:for(;;){for(var J;le!==l||p!==0&&le.nodeType!==3||(D=T+p),le!==y||u!==0&&le.nodeType!==3||(z=T+u),le.nodeType===3&&(T+=le.nodeValue.length),(J=le.firstChild)!==null;)Z=le,le=J;for(;;){if(le===i)break t;if(Z===l&&++Q===p&&(D=T),Z===y&&++ie===u&&(z=T),(J=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=J}l=D===-1||z===-1?null:{start:D,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(ey={focusedElem:i,selectionRange:l},Zh=!1,en=s;en!==null;)if(s=en,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,en=i;else for(;en!==null;){switch(s=en,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Pe=$a(l.type,p,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Pe,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Re){ct(l,l.return,Re)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)ry(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ry(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,en=i;break}en=s.return}}function Rw(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ts(i,l),u&4&&iu(5,l);break;case 1:if(Ts(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(T){ct(l,l.return,T)}else{var p=$a(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(l,l.return,T)}}u&64&&Ew(l),u&512&&su(l,l.return);break;case 3:if(Ts(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{lE(i,s)}catch(T){ct(l,l.return,T)}}break;case 27:s===null&&u&4&&Aw(l);case 26:case 5:Ts(i,l),s===null&&u&4&&Tw(l),u&512&&su(l,l.return);break;case 12:Ts(i,l);break;case 13:Ts(i,l),u&4&&Dw(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=GM.bind(null,l),cO(i,l))));break;case 22:if(u=l.memoizedState!==null||ji,!u){s=s!==null&&s.memoizedState!==null||Rt,p=ji;var y=Rt;ji=u,(Rt=s)&&!y?Ss(i,l,(l.subtreeFlags&8772)!==0):Ts(i,l),ji=p,Rt=y}break;case 30:break;default:Ts(i,l)}}function Cw(i){var s=i.alternate;s!==null&&(i.alternate=null,Cw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&fs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,Pn=!1;function Bi(i,s,l){for(l=l.child;l!==null;)Iw(i,s,l),l=l.sibling}function Iw(i,s,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Et,l)}catch{}switch(l.tag){case 26:Rt||Kr(l,s),Bi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||Kr(l,s);var u=pt,p=Pn;Ds(l.type)&&(pt=l.stateNode,Pn=!1),Bi(i,s,l),mu(l.stateNode),pt=u,Pn=p;break;case 5:Rt||Kr(l,s);case 6:if(u=pt,p=Pn,pt=null,Bi(i,s,l),pt=u,Pn=p,pt!==null)if(Pn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(y){ct(l,s,y)}else try{pt.removeChild(l.stateNode)}catch(y){ct(l,s,y)}break;case 18:pt!==null&&(Pn?(i=pt,yT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),wu(i)):yT(pt,l.stateNode));break;case 4:u=pt,p=Pn,pt=l.stateNode.containerInfo,Pn=!0,Bi(i,s,l),pt=u,Pn=p;break;case 0:case 11:case 14:case 15:Rt||ws(2,l,s),Rt||ws(4,l,s),Bi(i,s,l);break;case 1:Rt||(Kr(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ww(l,s,u)),Bi(i,s,l);break;case 21:Bi(i,s,l);break;case 22:Rt=(u=Rt)||l.memoizedState!==null,Bi(i,s,l),Rt=u;break;default:Bi(i,s,l)}}function Dw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wu(i)}catch(l){ct(s,s.return,l)}}function LM(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new xw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new xw),s;default:throw Error(r(435,i.tag))}}function Dg(i,s){var l=LM(i);s.forEach(function(u){var p=$M.bind(null,i,u);l.has(u)||(l.add(u),u.then(p,p))})}function Hn(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=i,T=s,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Ds(D.type)){pt=D.stateNode,Pn=!1;break e}break;case 5:pt=D.stateNode,Pn=!1;break e;case 3:case 4:pt=D.stateNode.containerInfo,Pn=!0;break e}D=D.return}if(pt===null)throw Error(r(160));Iw(y,T,p),pt=null,Pn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Pw(s,i),s=s.sibling}var br=null;function Pw(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hn(s,i),qn(i),u&4&&(ws(3,i,i.return),iu(3,i),ws(5,i,i.return));break;case 1:Hn(s,i),qn(i),u&512&&(Rt||l===null||Kr(l,l.return)),u&64&&ji&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=br;if(Hn(s,i),qn(i),u&512&&(Rt||l===null||Kr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ea]||y[Ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),ln(y,u,l),y[Ht]=i,At(y),u=y;break e;case"link":var T=AT("link","href",p).get(u+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(y=T[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}y=p.createElement(u),ln(y,u,l),p.head.appendChild(y);break;case"meta":if(T=AT("meta","content",p).get(u+(l.content||""))){for(D=0;D<T.length;D++)if(y=T[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}y=p.createElement(u),ln(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ht]=i,At(y),u=y}i.stateNode=u}else xT(p,i.type,i.stateNode);else i.stateNode=ST(p,u,i.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?xT(p,i.type,i.stateNode):ST(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&xg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Hn(s,i),qn(i),u&512&&(Rt||l===null||Kr(l,l.return)),l!==null&&u&4&&xg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Hn(s,i),qn(i),u&512&&(Rt||l===null||Kr(l,l.return)),i.flags&32){p=i.stateNode;try{Jn(p,"")}catch(J){ct(i,i.return,J)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,xg(i,p,l!==null?l.memoizedProps:p)),u&1024&&(Ig=!0);break;case 6:if(Hn(s,i),qn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(J){ct(i,i.return,J)}}break;case 3:if(Wh=null,p=br,br=Kh(s.containerInfo),Hn(s,i),br=p,qn(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{wu(s.containerInfo)}catch(J){ct(i,i.return,J)}Ig&&(Ig=!1,Nw(i));break;case 4:u=br,br=Kh(i.stateNode.containerInfo),Hn(s,i),qn(i),br=u;break;case 12:Hn(s,i),qn(i);break;case 13:Hn(s,i),qn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vg=mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dg(i,u)));break;case 22:p=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Q=ji,ie=Rt;if(ji=Q||p,Rt=ie||z,Hn(s,i),Rt=ie,ji=Q,qn(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||z||ji||Rt||Ka(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(y=z.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=z.stateNode;var le=z.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){ct(z,z.return,J)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(J){ct(z,z.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Dg(i,l))));break;case 19:Hn(s,i),qn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dg(i,u)));break;case 30:break;case 21:break;default:Hn(s,i),qn(i)}}function qn(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Sw(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=Rg(i);Oh(i,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(Jn(T,""),l.flags&=-33);var D=Rg(i);Oh(i,D,T);break;case 3:case 4:var z=l.stateNode.containerInfo,Q=Rg(i);Cg(i,Q,z);break;default:throw Error(r(161))}}catch(ie){ct(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Nw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Nw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ts(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rw(i,s.alternate,s),s=s.sibling}function Ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ws(4,s,s.return),Ka(s);break;case 1:Kr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ww(s,s.return,l),Ka(s);break;case 27:mu(s.stateNode);case 26:case 5:Kr(s,s.return),Ka(s);break;case 22:s.memoizedState===null&&Ka(s);break;case 30:Ka(s);break;default:Ka(s)}i=i.sibling}}function Ss(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ss(p,y,l),iu(4,y);break;case 1:if(Ss(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){ct(u,u.return,Q)}if(u=y,p=u.updateQueue,p!==null){var D=u.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)oE(z[p],D)}catch(Q){ct(u,u.return,Q)}}l&&T&64&&Ew(y),su(y,y.return);break;case 27:Aw(y);case 26:case 5:Ss(p,y,l),l&&u===null&&T&4&&Tw(y),su(y,y.return);break;case 12:Ss(p,y,l);break;case 13:Ss(p,y,l),l&&T&4&&Dw(p,y);break;case 22:y.memoizedState===null&&Ss(p,y,l),su(y,y.return);break;case 30:break;default:Ss(p,y,l)}s=s.sibling}}function Pg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&qc(l))}function Ng(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qc(i))}function Yr(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mw(i,s,l,u),s=s.sibling}function Mw(i,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(i,s,l,u),p&2048&&iu(9,s);break;case 1:Yr(i,s,l,u);break;case 3:Yr(i,s,l,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qc(i)));break;case 12:if(p&2048){Yr(i,s,l,u),i=s.stateNode;try{var y=s.memoizedProps,T=y.id,D=y.onPostCommit;typeof D=="function"&&D(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){ct(s,s.return,z)}}else Yr(i,s,l,u);break;case 13:Yr(i,s,l,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Yr(i,s,l,u):au(i,s):y._visibility&2?Yr(i,s,l,u):(y._visibility|=2,il(i,s,l,u,(s.subtreeFlags&10256)!==0)),p&2048&&Pg(T,s);break;case 24:Yr(i,s,l,u),p&2048&&Ng(s.alternate,s);break;default:Yr(i,s,l,u)}}function il(i,s,l,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,T=s,D=l,z=u,Q=T.flags;switch(T.tag){case 0:case 11:case 15:il(y,T,D,z,p),iu(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?il(y,T,D,z,p):au(y,T):(ie._visibility|=2,il(y,T,D,z,p)),p&&Q&2048&&Pg(T.alternate,T);break;case 24:il(y,T,D,z,p),p&&Q&2048&&Ng(T.alternate,T);break;default:il(y,T,D,z,p)}s=s.sibling}}function au(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,p=u.flags;switch(u.tag){case 22:au(l,u),p&2048&&Pg(u.alternate,u);break;case 24:au(l,u),p&2048&&Ng(u.alternate,u);break;default:au(l,u)}s=s.sibling}}var ou=8192;function sl(i){if(i.subtreeFlags&ou)for(i=i.child;i!==null;)Ow(i),i=i.sibling}function Ow(i){switch(i.tag){case 26:sl(i),i.flags&ou&&i.memoizedState!==null&&wO(br,i.memoizedState,i.memoizedProps);break;case 5:sl(i);break;case 3:case 4:var s=br;br=Kh(i.stateNode.containerInfo),sl(i),br=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ou,ou=16777216,sl(i),ou=s):sl(i));break;default:sl(i)}}function kw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];en=u,Lw(u,i)}kw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vw(i),i=i.sibling}function Vw(i){switch(i.tag){case 0:case 11:case 15:lu(i),i.flags&2048&&ws(9,i,i.return);break;case 3:lu(i);break;case 12:lu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,kh(i)):lu(i);break;default:lu(i)}}function kh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];en=u,Lw(u,i)}kw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ws(8,s,s.return),kh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,kh(s));break;default:kh(s)}i=i.sibling}}function Lw(i,s){for(;en!==null;){var l=en;switch(l.tag){case 0:case 11:case 15:ws(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,en=u;else e:for(l=i;en!==null;){u=en;var p=u.sibling,y=u.return;if(Cw(u),u===l){en=null;break e}if(p!==null){p.return=y,en=p;break e}en=y}}}var UM={getCacheForType:function(i){var s=gn($t),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},jM=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,Fe=null,We=0,it=0,Gn=null,As=!1,al=!1,Mg=!1,zi=0,Tt=0,xs=0,Ya=0,Og=0,lr=0,ol=0,cu=null,Nn=null,kg=!1,Vg=0,Vh=1/0,Lh=null,Rs=null,on=0,Cs=null,ll=null,cl=0,Lg=0,Ug=null,Uw=null,uu=0,jg=null;function $n(){if((rt&2)!==0&&We!==0)return We&-We;if(K.T!==null){var i=Xo;return i!==0?i:$g()}return cs()}function jw(){lr===0&&(lr=(We&536870912)===0||Je?_c():536870912);var i=or.current;return i!==null&&(i.flags|=32),lr}function Kn(i,s,l){(i===ft&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(ul(i,0),Is(i,We,lr,!1)),_i(i,l),((rt&2)===0||i!==ft)&&(i===ft&&((rt&2)===0&&(Ya|=l),Tt===4&&Is(i,We,lr,!1)),Wr(i))}function Bw(i,s,l){if((rt&6)!==0)throw Error(r(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||ba(i,s),p=u?FM(i,s):Fg(i,s,!0),y=u;do{if(p===0){al&&!u&&Is(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!BM(l)){p=Fg(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var D=i;p=cu;var z=D.current.memoizedState.isDehydrated;if(z&&(ul(D,T).flags|=256),T=Fg(D,T,!1),T!==2){if(Mg&&!z){D.errorRecoveryDisabledLanes|=y,Ya|=y,p=4;break e}y=Nn,Nn=p,y!==null&&(Nn===null?Nn=y:Nn.push.apply(Nn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){ul(i,0),Is(i,s,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Is(u,s,lr,!As);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Vg+300-mn(),10<p)){if(Is(u,s,lr,!As),Ro(u,0,!0)!==0)break e;u.timeoutHandle=pT(zw.bind(null,u,l,Nn,Lh,kg,s,lr,Ya,ol,As,y,2,-0,0),p);break e}zw(u,l,Nn,Lh,kg,s,lr,Ya,ol,As,y,0,-0,0)}}break}while(!0);Wr(i)}function zw(i,s,l,u,p,y,T,D,z,Q,ie,le,Z,J){if(i.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(yu={stylesheets:null,count:0,unsuspend:EO},Ow(s),le=TO(),le!==null)){i.cancelPendingCommit=le(Yw.bind(null,i,s,y,l,u,p,T,D,z,ie,1,Z,J)),Is(i,y,T,!Q);return}Yw(i,s,y,l,u,p,T,D,z)}function BM(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Is(i,s,l,u){s&=~Og,s&=~Ya,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-pn(p),T=1<<y;u[y]=-1,p&=~T}l!==0&&Or(i,l,s)}function Uh(){return(rt&6)===0?(fu(0),!1):!0}function Bg(){if(Fe!==null){if(it===0)var i=Fe.return;else i=Fe,Mi=Fa=null,rg(i),nl=null,tu=0,i=Fe;for(;i!==null;)bw(i.alternate,i),i=i.return;Fe=null}}function ul(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,iO(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Bg(),ft=i,Fe=l=Di(i.current,null),We=s,it=0,Gn=null,As=!1,al=ba(i,s),Mg=!1,ol=lr=Og=Ya=xs=Tt=0,Nn=cu=null,kg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-pn(u),y=1<<p;s|=i[p],u&=~y}return zi=s,ah(),l}function Fw(i,s){Le=null,K.H=Ah,s===$c||s===ph?(s=sE(),it=3):s===nE?(s=sE(),it=4):it=s===aw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Fe===null&&(Tt=1,Dh(i,rr(s,i.current)))}function Hw(){var i=K.H;return K.H=Ah,i===null?Ah:i}function qw(){var i=K.A;return K.A=UM,i}function zg(){Tt=4,As||(We&4194048)!==We&&or.current!==null||(al=!0),(xs&134217727)===0&&(Ya&134217727)===0||ft===null||Is(ft,We,lr,!1)}function Fg(i,s,l){var u=rt;rt|=2;var p=Hw(),y=qw();(ft!==i||We!==s)&&(Lh=null,ul(i,s)),s=!1;var T=Tt;e:do try{if(it!==0&&Fe!==null){var D=Fe,z=Gn;switch(it){case 8:Bg(),T=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var Q=it;if(it=0,Gn=null,fl(i,D,z,Q),l&&al){T=0;break e}break;default:Q=it,it=0,Gn=null,fl(i,D,z,Q)}}zM(),T=Tt;break}catch(ie){Fw(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Mi=Fa=null,rt=u,K.H=p,K.A=y,Fe===null&&(ft=null,We=0,ah()),T}function zM(){for(;Fe!==null;)Gw(Fe)}function FM(i,s){var l=rt;rt|=2;var u=Hw(),p=qw();ft!==i||We!==s?(Lh=null,Vh=mn()+500,ul(i,s)):al=ba(i,s);e:do try{if(it!==0&&Fe!==null){s=Fe;var y=Gn;t:switch(it){case 1:it=0,Gn=null,fl(i,s,y,1);break;case 2:case 9:if(rE(y)){it=0,Gn=null,$w(s);break}s=function(){it!==2&&it!==9||ft!==i||(it=7),Wr(i)},y.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:rE(y)?(it=0,Gn=null,$w(s)):(it=0,Gn=null,fl(i,s,y,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var D=Fe;if(!T||RT(T)){it=0,Gn=null;var z=D.sibling;if(z!==null)Fe=z;else{var Q=D.return;Q!==null?(Fe=Q,jh(Q)):Fe=null}break t}}it=0,Gn=null,fl(i,s,y,5);break;case 6:it=0,Gn=null,fl(i,s,y,6);break;case 8:Bg(),Tt=6;break e;default:throw Error(r(462))}}HM();break}catch(ie){Fw(i,ie)}while(!0);return Mi=Fa=null,K.H=u,K.A=p,rt=l,Fe!==null?0:(ft=null,We=0,ah(),Tt)}function HM(){for(;Fe!==null&&!yi();)Gw(Fe)}function Gw(i){var s=vw(i.alternate,i,zi);i.memoizedProps=i.pendingProps,s===null?jh(i):Fe=s}function $w(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=hw(l,s,s.pendingProps,s.type,void 0,We);break;case 11:s=hw(l,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:rg(s);default:bw(l,s),s=Fe=Kb(s,zi),s=vw(l,s,zi)}i.memoizedProps=i.pendingProps,s===null?jh(i):Fe=s}function fl(i,s,l,u){Mi=Fa=null,rg(s),nl=null,tu=0;var p=s.return;try{if(NM(i,p,s,l,We)){Tt=1,Dh(i,rr(l,i.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;Tt=1,Dh(i,rr(l,i.current)),Fe=null;return}s.flags&32768?(Je||u===1?i=!0:al||(We&536870912)!==0?i=!1:(As=i=!0,(u===2||u===9||u===3||u===6)&&(u=or.current,u!==null&&u.tag===13&&(u.flags|=16384))),Kw(s,i)):jh(s)}function jh(i){var s=i;do{if((s.flags&32768)!==0){Kw(s,As);return}i=s.return;var l=OM(s.alternate,s,zi);if(l!==null){Fe=l;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=i}while(s!==null);Tt===0&&(Tt=5)}function Kw(i,s){do{var l=kM(i.alternate,i);if(l!==null){l.flags&=32767,Fe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=l}while(i!==null);Tt=6,Fe=null}function Yw(i,s,l,u,p,y,T,D,z){i.cancelPendingCommit=null;do Bh();while(on!==0);if((rt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Np,Ec(i,l,y,T,D,z),i===ft&&(Fe=ft=null,We=0),ll=s,Cs=i,cl=l,Lg=y,Ug=p,Uw=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KM(ga,function(){return Jw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,p=ne.p,ne.p=2,T=rt,rt|=4;try{VM(i,s,l)}finally{rt=T,ne.p=p,K.T=u}}on=1,Ww(),Xw(),Qw()}}function Ww(){if(on===1){on=0;var i=Cs,s=ll,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=ne.p;ne.p=2;var p=rt;rt|=4;try{Pw(s,i);var y=ey,T=Lb(i.containerInfo),D=y.focusedElem,z=y.selectionRange;if(T!==D&&D&&D.ownerDocument&&Vb(D.ownerDocument.documentElement,D)){if(z!==null&&Rp(D)){var Q=z.start,ie=z.end;if(ie===void 0&&(ie=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(ie,D.value.length);else{var le=D.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Pe=D.textContent.length,Re=Math.min(z.start,Pe),lt=z.end===void 0?Re:Math.min(z.end,Pe);!J.extend&&Re>lt&&(T=lt,lt=Re,Re=T);var $=kb(D,Re),H=kb(D,lt);if($&&H&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var W=le.createRange();W.setStart($.node,$.offset),J.removeAllRanges(),Re>lt?(J.addRange(W),J.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),J.addRange(W))}}}}for(le=[],J=D;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var ae=le[D];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Zh=!!Jg,ey=Jg=null}finally{rt=p,ne.p=u,K.T=l}}i.current=s,on=2}}function Xw(){if(on===2){on=0;var i=Cs,s=ll,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=ne.p;ne.p=2;var p=rt;rt|=4;try{Rw(i,s.alternate,s)}finally{rt=p,ne.p=u,K.T=l}}on=3}}function Qw(){if(on===4||on===3){on=0,os();var i=Cs,s=ll,l=cl,u=Uw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,ll=Cs=null,Zw(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Rs=null),Co(l),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,p=ne.p,ne.p=2,K.T=null;try{for(var y=i.onRecoverableError,T=0;T<u.length;T++){var D=u[T];y(D.value,{componentStack:D.stack})}}finally{K.T=s,ne.p=p}}(cl&3)!==0&&Bh(),Wr(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===jg?uu++:(uu=0,jg=i):uu=0,fu(0)}}function Zw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,qc(s)))}function Bh(i){return Ww(),Xw(),Qw(),Jw()}function Jw(){if(on!==5)return!1;var i=Cs,s=Lg;Lg=0;var l=Co(cl),u=K.T,p=ne.p;try{ne.p=32>l?32:l,K.T=null,l=Ug,Ug=null;var y=Cs,T=cl;if(on=0,ll=Cs=null,cl=0,(rt&6)!==0)throw Error(r(331));var D=rt;if(rt|=4,Vw(y.current),Mw(y,y.current,T,l),rt=D,fu(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Et,y)}catch{}return!0}finally{ne.p=p,K.T=u,Zw(i,s)}}function eT(i,s,l){s=rr(l,s),s=yg(i.stateNode,s,2),i=vs(i,s,2),i!==null&&(_i(i,2),Wr(i))}function ct(i,s,l){if(i.tag===3)eT(i,i,l);else for(;s!==null;){if(s.tag===3){eT(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rs===null||!Rs.has(u))){i=rr(l,i),l=iw(2),u=vs(s,l,2),u!==null&&(sw(l,u,s,i),_i(u,2),Wr(u));break}}s=s.return}}function Hg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new jM;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Mg=!0,p.add(l),i=qM.bind(null,i,s,l),s.then(i,i))}function qM(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ft===i&&(We&l)===l&&(Tt===4||Tt===3&&(We&62914560)===We&&300>mn()-Vg?(rt&2)===0&&ul(i,0):Og|=l,ol===We&&(ol=0)),Wr(i)}function tT(i,s){s===0&&(s=bc()),i=$o(i,s),i!==null&&(_i(i,s),Wr(i))}function GM(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),tT(i,l)}function $M(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),tT(i,l)}function KM(i,s){return Mt(i,s)}var zh=null,hl=null,qg=!1,Fh=!1,Gg=!1,Wa=0;function Wr(i){i!==hl&&i.next===null&&(hl===null?zh=hl=i:hl=hl.next=i),Fh=!0,qg||(qg=!0,WM())}function fu(i,s){if(!Gg&&Fh){Gg=!0;do for(var l=!1,u=zh;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,D=u.pingedLanes;y=(1<<31-pn(42|i)+1)-1,y&=p&~(T&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,sT(u,y))}else y=We,y=Ro(u,u===ft?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ba(u,y)||(l=!0,sT(u,y));u=u.next}while(l);Gg=!1}}function YM(){nT()}function nT(){Fh=qg=!1;var i=0;Wa!==0&&(rO()&&(i=Wa),Wa=0);for(var s=mn(),l=null,u=zh;u!==null;){var p=u.next,y=rT(u,s);y===0?(u.next=null,l===null?zh=p:l.next=p,p===null&&(hl=l)):(l=u,(i!==0||(y&3)!==0)&&(Fh=!0)),u=p}fu(i)}function rT(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-pn(y),D=1<<T,z=p[T];z===-1?((D&l)===0||(D&u)!==0)&&(p[T]=vc(D,s)):z<=s&&(i.expiredLanes|=D),y&=~D}if(s=ft,l=We,l=Ro(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(it===2||it===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Sn(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ba(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&Sn(u),Co(l)){case 2:case 8:l=Ao;break;case 32:l=ga;break;case 268435456:l=xo;break;default:l=ga}return u=iT.bind(null,i),l=Mt(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&Sn(u),i.callbackPriority=2,i.callbackNode=null,2}function iT(i,s){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Bh()&&i.callbackNode!==l)return null;var u=We;return u=Ro(i,i===ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Bw(i,u,s),rT(i,mn()),i.callbackNode!=null&&i.callbackNode===l?iT.bind(null,i):null)}function sT(i,s){if(Bh())return null;Bw(i,s,!0)}function WM(){sO(function(){(rt&6)!==0?Mt(gc,YM):nT()})}function $g(){return Wa===0&&(Wa=_c()),Wa}function aT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oo(""+i)}function oT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function XM(i,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var y=aT((p[Ot]||null).action),T=u.submitter;T&&(s=(s=T[Ot]||null)?aT(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var D=new ko("action","action",null,u,p);i.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wa!==0){var z=T?oT(p,T):new FormData(p);hg(l,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(D.preventDefault(),z=T?oT(p,T):new FormData(p),hg(l,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Kg=0;Kg<Pp.length;Kg++){var Yg=Pp[Kg],QM=Yg.toLowerCase(),ZM=Yg[0].toUpperCase()+Yg.slice(1);_r(QM,"on"+ZM)}_r(Bb,"onAnimationEnd"),_r(zb,"onAnimationIteration"),_r(Fb,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(pM,"onTransitionRun"),_r(gM,"onTransitionStart"),_r(yM,"onTransitionCancel"),_r(Hb,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function lT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var D=u[T],z=D.instance,Q=D.currentTarget;if(D=D.listener,z!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Q;try{y(p)}catch(ie){Ih(ie)}p.currentTarget=null,y=z}else for(T=0;T<u.length;T++){if(D=u[T],z=D.instance,Q=D.currentTarget,D=D.listener,z!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=Q;try{y(p)}catch(ie){Ih(ie)}p.currentTarget=null,y=z}}}}function He(i,s){var l=s[Tc];l===void 0&&(l=s[Tc]=new Set);var u=i+"__bubble";l.has(u)||(cT(s,i,2,!1),l.add(u))}function Wg(i,s,l){var u=0;s&&(u|=4),cT(l,i,u,s)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[Hh]){i[Hh]=!0,Sc.forEach(function(l){l!=="selectionchange"&&(JM.has(l)||Wg(l,!1,i),Wg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hh]||(s[Hh]=!0,Wg("selectionchange",!1,s))}}function cT(i,s,l,u){switch(MT(s)){case 2:var p=xO;break;case 8:p=RO;break;default:p=uy}l=p.bind(null,s,l,i),p=void 0,!tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Qg(i,s,l,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var D=u.stateNode.containerInfo;if(D===p)break;if(T===4)for(T=u.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;D!==null;){if(T=bi(D),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){u=y=T;continue e}D=D.parentNode}}u=u.return}Gf(function(){var Q=y,ie=er(l),le=[];e:{var Z=qb.get(i);if(Z!==void 0){var J=ko,Pe=i;switch(i){case"keypress":if(Br(l)===0)break e;case"keydown":case"keyup":J=zo;break;case"focusin":Pe="focus",J=Uo;break;case"focusout":Pe="blur",J=Uo;break;case"beforeblur":case"afterblur":J=Uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Jf;break;case Bb:case zb:case Fb:J=jo;break;case Hb:J=th;break;case"scroll":case"scrollend":J=$f;break;case"wheel":J=Fo;break;case"copy":case"cut":case"paste":J=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Vc;break;case"toggle":case"beforetoggle":J=rh}var Re=(s&4)!==0,lt=!Re&&(i==="scroll"||i==="scrollend"),$=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var H=Q,W;H!==null;){var ae=H;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||$===null||(ae=Ca(H,$),ae!=null&&Re.push(du(H,ae,W))),lt)break;H=H.return}0<Re.length&&(Z=new J(Z,Pe,null,l,ie),le.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Z&&l!==Si&&(Pe=l.relatedTarget||l.fromElement)&&(bi(Pe)||Pe[Zn]))break e;if((J||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Pe=l.relatedTarget||l.toElement,J=Q,Pe=Pe?bi(Pe):null,Pe!==null&&(lt=o(Pe),Re=Pe.tag,Pe!==lt||Re!==5&&Re!==27&&Re!==6)&&(Pe=null)):(J=null,Pe=Q),J!==Pe)){if(Re=nr,ae="onMouseLeave",$="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Re=Vc,ae="onPointerLeave",$="onPointerEnter",H="pointer"),lt=J==null?Z:Vr(J),W=Pe==null?Z:Vr(Pe),Z=new Re(ae,H+"leave",J,l,ie),Z.target=lt,Z.relatedTarget=W,ae=null,bi(ie)===Q&&(Re=new Re($,H+"enter",Pe,l,ie),Re.target=W,Re.relatedTarget=lt,ae=Re),lt=ae,J&&Pe)t:{for(Re=J,$=Pe,H=0,W=Re;W;W=dl(W))H++;for(W=0,ae=$;ae;ae=dl(ae))W++;for(;0<H-W;)Re=dl(Re),H--;for(;0<W-H;)$=dl($),W--;for(;H--;){if(Re===$||$!==null&&Re===$.alternate)break t;Re=dl(Re),$=dl($)}Re=null}else Re=null;J!==null&&uT(le,Z,J,Re,!1),Pe!==null&&lt!==null&&uT(le,lt,Pe,Re,!0)}}e:{if(Z=Q?Vr(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var _e=Ib;else if(Gt(Z))if(Db)_e=hM;else{_e=uM;var Be=cM}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Ic(Q.elementType)&&(_e=Ib):_e=fM;if(_e&&(_e=_e(i,Q))){Ii(le,_e,l,ie);break e}Be&&Be(i,Z,Q),i==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&ds(Z,"number",Z.value)}switch(Be=Q?Vr(Q):window,i){case"focusin":(Gt(Be)||Be.contentEditable==="true")&&(Ho=Be,Cp=Q,jc=null);break;case"focusout":jc=Cp=Ho=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Ub(le,l,ie);break;case"selectionchange":if(mM)break;case"keydown":case"keyup":Ub(le,l,ie)}var Ae;if(Hr)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?te(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&l.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Ae=Pc()):(jr=ie,ms="value"in jr?jr.value:jr.textContent,Ke=!0)),Be=qh(Q,Ce),0<Be.length&&(Ce=new Oc(Ce,i,null,l,ie),le.push({event:Ce,listeners:Be}),Ae?Ce.data=Ae:(Ae=me(l),Ae!==null&&(Ce.data=Ae)))),(Ae=_?qt(i,l):Ye(i,l))&&(Ce=qh(Q,"onBeforeInput"),0<Ce.length&&(Be=new Oc("onBeforeInput","beforeinput",null,l,ie),le.push({event:Be,listeners:Ce}),Be.data=Ae)),XM(le,i,Q,l,ie)}lT(le,s)})}function du(i,s,l){return{instance:i,listener:s,currentTarget:l}}function qh(i,s){for(var l=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ca(i,l),p!=null&&u.unshift(du(i,p,y)),p=Ca(i,s),p!=null&&u.push(du(i,p,y))),i.tag===3)return u;i=i.return}return[]}function dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uT(i,s,l,u,p){for(var y=s._reactName,T=[];l!==null&&l!==u;){var D=l,z=D.alternate,Q=D.stateNode;if(D=D.tag,z!==null&&z===u)break;D!==5&&D!==26&&D!==27||Q===null||(z=Q,p?(Q=Ca(l,y),Q!=null&&T.unshift(du(l,Q,z))):p||(Q=Ca(l,y),Q!=null&&T.push(du(l,Q,z)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var eO=/\r\n?/g,tO=/\u0000|\uFFFD/g;function fT(i){return(typeof i=="string"?i:""+i).replace(eO,`
`).replace(tO,"")}function hT(i,s){return s=fT(s),fT(i)===s}function Gh(){}function ot(i,s,l,u,p,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Jn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Jn(i,""+u);break;case"className":Lr(i,"class",u);break;case"tabIndex":Lr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(i,l,u);break;case"style":Cc(i,u,y);break;case"data":if(s!=="object"){Lr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Oo(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&ot(i,s,"name",p.name,p,null),ot(i,s,"formEncType",p.formEncType,p,null),ot(i,s,"formMethod",p.formMethod,p,null),ot(i,s,"formTarget",p.formTarget,p,null)):(ot(i,s,"encType",p.encType,p,null),ot(i,s,"method",p.method,p,null),ot(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Oo(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Oo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":He("beforetoggle",i),He("toggle",i),hs(i,"popover",u);break;case"xlinkActuate":rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":rn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":rn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":rn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":rn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":hs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ep.get(l)||l,hs(i,l,u))}}function Zg(i,s,l,u,p,y){switch(l){case"style":Cc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Jn(i,u):(typeof u=="number"||typeof u=="bigint")&&Jn(i,""+u);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=i[Ot]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,p);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):hs(i,l,u)}}}function ln(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,y,T,l,null)}}p&&ot(i,s,"srcSet",l.srcSet,l,null),u&&ot(i,s,"src",l.src,l,null);return;case"input":He("invalid",i);var D=y=T=p=null,z=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var ie=l[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":T=ie;break;case"checked":z=ie;break;case"defaultChecked":Q=ie;break;case"value":y=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ot(i,s,u,ie,l,null)}}Aa(i,y,D,z,Q,T,p,!1),Mo(i);return;case"select":He("invalid",i),u=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(D=l[p],D!=null))switch(p){case"value":y=D;break;case"defaultValue":T=D;break;case"multiple":u=D;default:ot(i,s,p,D,l,null)}s=y,l=T,i.multiple=!!u,s!=null?Ti(i,!!u,s,!1):l!=null&&Ti(i,!!u,l,!0);return;case"textarea":He("invalid",i),y=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":u=D;break;case"defaultValue":p=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:ot(i,s,T,D,l,null)}xa(i,u,p,y),Mo(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(i,s,z,u,l,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(u=0;u<hu.length;u++)He(hu[u],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,Q,u,l,null)}return;default:if(Ic(s)){for(ie in l)l.hasOwnProperty(ie)&&(u=l[ie],u!==void 0&&Zg(i,s,ie,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&ot(i,s,D,u,l,null))}function nO(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,D=null,z=null,Q=null,ie=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=le;default:u.hasOwnProperty(J)||ot(i,s,J,null,u,le)}}for(var Z in u){var J=u[Z];if(le=l[Z],u.hasOwnProperty(Z)&&(J!=null||le!=null))switch(Z){case"type":y=J;break;case"name":p=J;break;case"checked":Q=J;break;case"defaultChecked":ie=J;break;case"value":T=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==le&&ot(i,s,Z,J,u,le)}}Bn(i,T,D,z,Q,ie,y,p);return;case"select":J=T=D=Z=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":J=z;default:u.hasOwnProperty(y)||ot(i,s,y,null,u,z)}for(p in u)if(y=u[p],z=l[p],u.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":Z=y;break;case"defaultValue":D=y;break;case"multiple":T=y;default:y!==z&&ot(i,s,p,y,u,z)}s=D,l=T,u=J,Z!=null?Ti(i,!!l,Z,!1):!!u!=!!l&&(s!=null?Ti(i,!!l,s,!0):Ti(i,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(D in l)if(p=l[D],l.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ot(i,s,D,null,u,p)}for(T in u)if(p=u[T],y=l[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":Z=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&ot(i,s,T,p,u,y)}st(i,Z,J);return;case"option":for(var Pe in l)if(Z=l[Pe],l.hasOwnProperty(Pe)&&Z!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":i.selected=!1;break;default:ot(i,s,Pe,null,u,Z)}for(z in u)if(Z=u[z],J=l[z],u.hasOwnProperty(z)&&Z!==J&&(Z!=null||J!=null))switch(z){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ot(i,s,z,Z,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)Z=l[Re],l.hasOwnProperty(Re)&&Z!=null&&!u.hasOwnProperty(Re)&&ot(i,s,Re,null,u,Z);for(Q in u)if(Z=u[Q],J=l[Q],u.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ot(i,s,Q,Z,u,J)}return;default:if(Ic(s)){for(var lt in l)Z=l[lt],l.hasOwnProperty(lt)&&Z!==void 0&&!u.hasOwnProperty(lt)&&Zg(i,s,lt,void 0,u,Z);for(ie in u)Z=u[ie],J=l[ie],!u.hasOwnProperty(ie)||Z===J||Z===void 0&&J===void 0||Zg(i,s,ie,Z,u,J);return}}for(var $ in l)Z=l[$],l.hasOwnProperty($)&&Z!=null&&!u.hasOwnProperty($)&&ot(i,s,$,null,u,Z);for(le in u)Z=u[le],J=l[le],!u.hasOwnProperty(le)||Z===J||Z==null&&J==null||ot(i,s,le,Z,u,J)}var Jg=null,ey=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function dT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ty(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ny=null;function rO(){var i=window.event;return i&&i.type==="popstate"?i===ny?!1:(ny=i,!0):(ny=null,!1)}var pT=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,gT=typeof Promise=="function"?Promise:void 0,sO=typeof queueMicrotask=="function"?queueMicrotask:typeof gT<"u"?function(i){return gT.resolve(null).then(i).catch(aO)}:pT;function aO(i){setTimeout(function(){throw i})}function Ds(i){return i==="head"}function yT(i,s){var l=s,u=0,p=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var T=i.ownerDocument;if(l&1&&mu(T.documentElement),l&2&&mu(T.body),l&4)for(l=T.head,mu(l),T=l.firstChild;T;){var D=T.nextSibling,z=T.nodeName;T[Ea]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=D}}if(p===0){i.removeChild(y),wu(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);wu(s)}function ry(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ry(l),fs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function oO(i,s,l,u){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ea])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Er(i.nextSibling),i===null)break}return null}function lO(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Er(i.nextSibling),i===null))return null;return i}function iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function cO(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Er(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var sy=null;function vT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function _T(i,s,l){switch(s=$h(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function mu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);fs(i)}var cr=new Map,bT=new Set;function Kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fi=ne.d;ne.d={f:uO,r:fO,D:hO,C:dO,L:mO,m:pO,X:yO,S:gO,M:vO};function uO(){var i=Fi.f(),s=Uh();return i||s}function fO(i){var s=kr(i);s!==null&&s.tag===5&&s.type==="form"?BE(s):Fi.r(i)}var ml=typeof document>"u"?null:document;function ET(i,s,l){var u=ml;if(u&&typeof s=="string"&&s){var p=kt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),bT.has(p)||(bT.add(p),i={rel:i,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),ln(s,"link",i),At(s),u.head.appendChild(s)))}}function hO(i){Fi.D(i),ET("dns-prefetch",i,null)}function dO(i,s){Fi.C(i,s),ET("preconnect",i,s)}function mO(i,s,l){Fi.L(i,s,l);var u=ml;if(u&&i&&s){var p='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+kt(l.imageSizes)+'"]')):p+='[href="'+kt(i)+'"]';var y=p;switch(s){case"style":y=pl(i);break;case"script":y=gl(i)}cr.has(y)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),cr.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(pu(y))||s==="script"&&u.querySelector(gu(y))||(s=u.createElement("link"),ln(s,"link",i),At(s),u.head.appendChild(s)))}}function pO(i,s){Fi.m(i,s);var l=ml;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+kt(u)+'"][href="'+kt(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=gl(i)}if(!cr.has(y)&&(i=g({rel:"modulepreload",href:i},s),cr.set(y,i),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gu(y)))return}u=l.createElement("link"),ln(u,"link",i),At(u),l.head.appendChild(u)}}}function gO(i,s,l){Fi.S(i,s,l);var u=ml;if(u&&i){var p=An(u).hoistableStyles,y=pl(i);s=s||"default";var T=p.get(y);if(!T){var D={loading:0,preload:null};if(T=u.querySelector(pu(y)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=cr.get(y))&&ay(i,l);var z=T=u.createElement("link");At(z),ln(z,"link",i),z._p=new Promise(function(Q,ie){z.onload=Q,z.onerror=ie}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Yh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:D},p.set(y,T)}}}function yO(i,s){Fi.X(i,s);var l=ml;if(l&&i){var u=An(l).hoistableScripts,p=gl(i),y=u.get(p);y||(y=l.querySelector(gu(p)),y||(i=g({src:i,async:!0},s),(s=cr.get(p))&&oy(i,s),y=l.createElement("script"),At(y),ln(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function vO(i,s){Fi.M(i,s);var l=ml;if(l&&i){var u=An(l).hoistableScripts,p=gl(i),y=u.get(p);y||(y=l.querySelector(gu(p)),y||(i=g({src:i,async:!0,type:"module"},s),(s=cr.get(p))&&oy(i,s),y=l.createElement("script"),At(y),ln(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function wT(i,s,l,u){var p=(p=pe.current)?Kh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=pl(l.href),l=An(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=pl(l.href);var y=An(p).hoistableStyles,T=y.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=p.querySelector(pu(i)))&&!y._p&&(T.instance=y,T.state.loading=5),cr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cr.set(i,l),y||_O(p,i,l,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gl(l),l=An(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function pl(i){return'href="'+kt(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function TT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function _O(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ln(s,"link",l),At(s),i.head.appendChild(s))}function gl(i){return'[src="'+kt(i)+'"]'}function gu(i){return"script[async]"+i}function ST(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+kt(l.href)+'"]');if(u)return s.instance=u,At(u),u;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),At(u),ln(u,"style",p),Yh(u,l.precedence,i),s.instance=u;case"stylesheet":p=pl(l.href);var y=i.querySelector(pu(p));if(y)return s.state.loading|=4,s.instance=y,At(y),y;u=TT(l),(p=cr.get(p))&&ay(u,p),y=(i.ownerDocument||i).createElement("link"),At(y);var T=y;return T._p=new Promise(function(D,z){T.onload=D,T.onerror=z}),ln(y,"link",u),s.state.loading|=4,Yh(y,l.precedence,i),s.instance=y;case"script":return y=gl(l.src),(p=i.querySelector(gu(y)))?(s.instance=p,At(p),p):(u=l,(p=cr.get(y))&&(u=g({},l),oy(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),ln(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Yh(u,l.precedence,i));return s.instance}function Yh(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var D=u[T];if(D.dataset.precedence===s)y=D;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function ay(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function oy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Wh=null;function AT(i,s,l){if(Wh===null){var u=new Map,p=Wh=new Map;p.set(l,u)}else p=Wh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[Ea]||y[Ht]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=i+T;var D=u.get(T);D?D.push(y):u.set(T,[y])}}return u}function xT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function bO(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yu=null;function EO(){}function wO(i,s,l){if(yu===null)throw Error(r(475));var u=yu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=pl(l.href),y=i.querySelector(pu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Xh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,At(y);return}y=i.ownerDocument||i,l=TT(l),(p=cr.get(p))&&ay(l,p),y=y.createElement("link"),At(y);var T=y;T._p=new Promise(function(D,z){T.onload=D,T.onerror=z}),ln(y,"link",l),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Xh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function TO(){if(yu===null)throw Error(r(475));var i=yu;return i.stylesheets&&i.count===0&&ly(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&ly(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)ly(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qh=null;function ly(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qh=new Map,s.forEach(SO,i),Qh=null,Xh.call(i))}function SO(i,s){if(!(s.state.loading&4)){var l=Qh.get(i);if(l)var u=l.get(null);else{l=new Map,Qh.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,p),l.set(T,p),this.count++,u=Xh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var vu={$$typeof:V,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function AO(i,s,l,u,p,y,T,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function CT(i,s,l,u,p,y,T,D,z,Q,ie,le){return i=new AO(i,s,l,T,D,z,Q,le),s=1,y===!0&&(s|=24),y=Fn(3,null,null,s),i.current=y,y.stateNode=i,s=Hp(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},Kp(y),i}function IT(i){return i?(i=Ko,i):Ko}function DT(i,s,l,u,p,y){p=IT(p),u.context===null?u.context=p:u.pendingContext=p,u=ys(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=vs(i,u,s),l!==null&&(Kn(l,i,s),Yc(l,i,s))}function PT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function cy(i,s){PT(i,s),(i=i.alternate)&&PT(i,s)}function NT(i){if(i.tag===13){var s=$o(i,67108864);s!==null&&Kn(s,i,67108864),cy(i,67108864)}}var Zh=!0;function xO(i,s,l,u){var p=K.T;K.T=null;var y=ne.p;try{ne.p=2,uy(i,s,l,u)}finally{ne.p=y,K.T=p}}function RO(i,s,l,u){var p=K.T;K.T=null;var y=ne.p;try{ne.p=8,uy(i,s,l,u)}finally{ne.p=y,K.T=p}}function uy(i,s,l,u){if(Zh){var p=fy(u);if(p===null)Qg(i,s,u,Jh,l),OT(i,u);else if(IO(p,i,s,l,u))u.stopPropagation();else if(OT(i,u),s&4&&-1<CO.indexOf(i)){for(;p!==null;){var y=kr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=gr(y.pendingLanes);if(T!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var z=1<<31-pn(T);D.entanglements[1]|=z,T&=~z}Wr(y),(rt&6)===0&&(Vh=mn()+500,fu(0))}}break;case 13:D=$o(y,2),D!==null&&Kn(D,y,2),Uh(),cy(y,2)}if(y=fy(u),y===null&&Qg(i,s,u,Jh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Qg(i,s,u,null,l)}}function fy(i){return i=er(i),hy(i)}var Jh=null;function hy(i){if(Jh=null,i=bi(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Jh=i,null}function MT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pp()){case gc:return 2;case Ao:return 8;case ga:case gp:return 32;case xo:return 268435456;default:return 32}default:return 32}}var dy=!1,Ps=null,Ns=null,Ms=null,_u=new Map,bu=new Map,Os=[],CO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OT(i,s){switch(i){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":_u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(s.pointerId)}}function Eu(i,s,l,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=kr(s),s!==null&&NT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function IO(i,s,l,u,p){switch(s){case"focusin":return Ps=Eu(Ps,i,s,l,u,p),!0;case"dragenter":return Ns=Eu(Ns,i,s,l,u,p),!0;case"mouseover":return Ms=Eu(Ms,i,s,l,u,p),!0;case"pointerover":var y=p.pointerId;return _u.set(y,Eu(_u.get(y)||null,i,s,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,bu.set(y,Eu(bu.get(y)||null,i,s,l,u,p)),!0}return!1}function kT(i){var s=bi(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,Uf(i.priority,function(){if(l.tag===13){var u=$n();u=ls(u);var p=$o(l,u);p!==null&&Kn(p,l,u),cy(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ed(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=fy(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Si=u,l.target.dispatchEvent(u),Si=null}else return s=kr(l),s!==null&&NT(s),i.blockedOn=l,!1;s.shift()}return!0}function VT(i,s,l){ed(i)&&l.delete(s)}function DO(){dy=!1,Ps!==null&&ed(Ps)&&(Ps=null),Ns!==null&&ed(Ns)&&(Ns=null),Ms!==null&&ed(Ms)&&(Ms=null),_u.forEach(VT),bu.forEach(VT)}function td(i,s){i.blockedOn===s&&(i.blockedOn=null,dy||(dy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DO)))}var nd=null;function LT(i){nd!==i&&(nd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nd===i&&(nd=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(hy(u||l)===null)continue;break}var y=kr(l);y!==null&&(i.splice(s,3),s-=3,hg(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function wu(i){function s(z){return td(z,i)}Ps!==null&&td(Ps,i),Ns!==null&&td(Ns,i),Ms!==null&&td(Ms,i),_u.forEach(s),bu.forEach(s);for(var l=0;l<Os.length;l++){var u=Os[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Os.length&&(l=Os[0],l.blockedOn===null);)kT(l),l.blockedOn===null&&Os.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],T=p[Ot]||null;if(typeof y=="function")T||LT(l);else if(T){var D=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Ot]||null)D=T.formAction;else if(hy(p)!==null)continue}else D=T.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),LT(l)}}}function my(i){this._internalRoot=i}rd.prototype.render=my.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=$n();DT(l,u,i,s,null,null)},rd.prototype.unmount=my.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;DT(i.current,2,null,i,null,null),Uh(),s[Zn]=null}};function rd(i){this._internalRoot=i}rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=cs();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Os.length&&s!==0&&s<Os[l].priority;l++);Os.splice(l,0,i),l===0&&kT(i)}};var UT=e.version;if(UT!=="19.1.1")throw Error(r(527,UT,"19.1.1"));ne.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var PO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{Et=id.inject(PO),nt=id}catch{}}return Su.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",p=ew,y=tw,T=nw,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=CT(i,1,!1,null,null,l,u,p,y,T,D,null),i[Zn]=s.current,Xg(i),new my(s)},Su.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,p="",y=ew,T=tw,D=nw,z=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),s=CT(i,1,!0,s,l??null,u,p,y,T,D,z,Q),s.context=IT(null),l=s.current,u=$n(),u=ls(u),p=ys(u),p.callback=null,vs(l,p,u),l=u,s.current.lanes=l,_i(s,l),Wr(s),i[Zn]=s.current,Xg(i),new rd(s)},Su.version="19.1.1",Su}var YT;function zO(){if(YT)return yy.exports;YT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yy.exports=BO(),yy.exports}var FO=zO();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WT="popstate";function HO(t={}){function e(r,a){let{pathname:o,search:c,hash:f}=r.location;return mv("",{pathname:o,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Yu(a)}return GO(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qO(){return Math.random().toString(36).substring(2,10)}function XT(t,e){return{usr:t.state,key:t.key,idx:e}}function mv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:n,key:e&&e.key||r||qO()}}function Yu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function GO(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,f="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let x=g(),O=x==null?null:x-m;m=x,h&&h({action:f,location:R.location,delta:O})}function b(x,O){f="PUSH";let P=mv(R.location,x,O);m=g()+1;let V=XT(P,m),G=R.createHref(P);try{c.pushState(V,"",G)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(G)}o&&h&&h({action:f,location:R.location,delta:1})}function S(x,O){f="REPLACE";let P=mv(R.location,x,O);m=g();let V=XT(P,m),G=R.createHref(P);c.replaceState(V,"",G),o&&h&&h({action:f,location:R.location,delta:0})}function C(x){return $O(x)}let R={get action(){return f},get location(){return t(a,c)},listen(x){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(WT,v),h=x,()=>{a.removeEventListener(WT,v),h=null}},createHref(x){return e(a,x)},createURL:C,encodeLocation(x){let O=C(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:S,go(x){return c.go(x)}};return R}function $O(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Yu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FR(t,e,n="/"){return KO(t,e,n,!1)}function KO(t,e,n,r){let a=typeof e=="string"?Xl(e):e,o=Xi(a.pathname||"/",n);if(o==null)return null;let c=HR(t);YO(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=s2(o);f=r2(c[h],m,r)}return f}function HR(t,e=[],n=[],r="",a=!1){let o=(c,f,h=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;yt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Wi([r,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),HR(c.children,e,b,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:t2(v,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of qR(c.path))o(c,f,!0,h)}),e}function qR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=qR(r.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function YO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WO=/^:[\w-]+$/,XO=3,QO=2,ZO=1,JO=10,e2=-2,QT=t=>t==="*";function t2(t,e){let n=t.split("/"),r=n.length;return n.some(QT)&&(r+=e2),e&&(r+=QO),n.filter(a=>!QT(a)).reduce((a,o)=>a+(WO.test(o)?XO:o===""?ZO:JO),r)}function n2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function r2(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Wi([o,v.pathname]),pathnameBase:c2(Wi([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Wi([o,v.pathnameBase]))}return c}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},b)=>{if(g==="*"){let C=f[b]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[b];return v&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function i2(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function s2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Xl(t):t;return{pathname:n?n.startsWith("/")?n:o2(n,e):e,search:u2(r),hash:f2(a)}}function o2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ey(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M0(t){let e=l2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function O0(t,e,n,r=!1){let a;typeof t=="string"?a=Xl(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),Ey("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Ey("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Ey("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}f=v>=0?e[v]:"/"}let h=a2(a,f),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Wi=t=>t.join("/").replace(/\/\/+/g,"/"),c2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GR=["POST","PUT","PATCH","DELETE"];new Set(GR);var d2=["GET",...GR];new Set(d2);var Ql=w.createContext(null);Ql.displayName="DataRouter";var Am=w.createContext(null);Am.displayName="DataRouterState";w.createContext(!1);var $R=w.createContext({isTransitioning:!1});$R.displayName="ViewTransition";var m2=w.createContext(new Map);m2.displayName="Fetchers";var p2=w.createContext(null);p2.displayName="Await";var Nr=w.createContext(null);Nr.displayName="Navigation";var gf=w.createContext(null);gf.displayName="Location";var pi=w.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var k0=w.createContext(null);k0.displayName="RouteError";function g2(t,{relative:e}={}){yt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Nr),{hash:a,pathname:o,search:c}=yf(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:Wi([n,o])),r.createHref({pathname:f,search:c,hash:a})}function Zl(){return w.useContext(gf)!=null}function as(){return yt(Zl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(gf).location}var KR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YR(t){w.useContext(Nr).static||w.useLayoutEffect(t)}function xm(){let{isDataRoute:t}=w.useContext(pi);return t?I2():y2()}function y2(){yt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Ql),{basename:e,navigator:n}=w.useContext(Nr),{matches:r}=w.useContext(pi),{pathname:a}=as(),o=JSON.stringify(M0(r)),c=w.useRef(!1);return YR(()=>{c.current=!0}),w.useCallback((h,m={})=>{if(xr(c.current,KR),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=O0(h,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,a,t])}w.createContext(null);function yf(t,{relative:e}={}){let{matches:n}=w.useContext(pi),{pathname:r}=as(),a=JSON.stringify(M0(n));return w.useMemo(()=>O0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function v2(t,e){return WR(t,e)}function WR(t,e,n,r,a){yt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Nr),{matches:c}=w.useContext(pi),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let P=v&&v.path||"";XR(m,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=as(),S;if(e){let P=typeof e=="string"?Xl(e):e;yt(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=b;let C=S.pathname||"/",R=C;if(g!=="/"){let P=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=FR(t,{pathname:R});xr(v||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=T2(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Wi([g,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Wi([g,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,n,r,a);return e&&O?w.createElement(gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function _2(){let t=C2(),e=h2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var b2=w.createElement(_2,null),E2=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(pi.Provider,{value:this.props.routeContext},w.createElement(k0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w2({routeContext:t,match:e,children:n}){let r=w.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(pi.Provider,{value:t},n)}function T2(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);yt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:b}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let b,S=!1,C=null,R=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||b2,f&&(h<0&&v===0?(XR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):h===v&&(S=!0,R=g.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,v+1)),O=()=>{let P;return b?P=C:S?P=R:g.route.Component?P=w.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,w.createElement(w2,{match:g,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(E2,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:O(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):O()},null)}function V0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(t){let e=w.useContext(Ql);return yt(e,V0(t)),e}function A2(t){let e=w.useContext(Am);return yt(e,V0(t)),e}function x2(t){let e=w.useContext(pi);return yt(e,V0(t)),e}function L0(t){let e=x2(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R2(){return L0("useRouteId")}function C2(){let t=w.useContext(k0),e=A2("useRouteError"),n=L0("useRouteError");return t!==void 0?t:e.errors?.[n]}function I2(){let{router:t}=S2("useNavigate"),e=L0("useNavigate"),n=w.useRef(!1);return YR(()=>{n.current=!0}),w.useCallback(async(a,o={})=>{xr(n.current,KR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var ZT={};function XR(t,e,n){!e&&!ZT[t]&&(ZT[t]=!0,xr(!1,n))}w.memo(D2);function D2({routes:t,future:e,state:n,unstable_onError:r}){return WR(t,void 0,n,r,e)}function QR({to:t,replace:e,state:n,relative:r}){yt(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Nr);xr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(pi),{pathname:c}=as(),f=xm(),h=O0(t,M0(o),c,r==="path"),m=JSON.stringify(h);return w.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:r})},[f,m,r,e,n]),null}function Pl(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){yt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=Xl(n));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:b="default"}=n,S=w.useMemo(()=>{let C=Xi(h,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:b},navigationType:r}},[c,h,m,g,v,b,r]);return xr(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Nr.Provider,{value:f},w.createElement(gf.Provider,{children:e,value:S}))}function ZR({children:t,location:e}){return v2(pv(t),e)}function pv(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let o=[...e,a];if(r.type===w.Fragment){n.push.apply(n,pv(r.props.children,o));return}yt(r.type===Pl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=pv(r.props.children,o)),n.push(c)}),n}var xd="get",Rd="application/x-www-form-urlencoded";function Rm(t){return t!=null&&typeof t.tagName=="string"}function N2(t){return Rm(t)&&t.tagName.toLowerCase()==="button"}function M2(t){return Rm(t)&&t.tagName.toLowerCase()==="form"}function O2(t){return Rm(t)&&t.tagName.toLowerCase()==="input"}function k2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V2(t,e){return t.button===0&&(!e||e==="_self")&&!k2(t)}var sd=null;function L2(){if(sd===null)try{new FormData(document.createElement("form"),0),sd=!1}catch{sd=!0}return sd}var U2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wy(t){return t!=null&&!U2.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):t}function j2(t,e){let n,r,a,o,c;if(M2(t)){let f=t.getAttribute("action");r=f?Xi(f,e):null,n=t.getAttribute("method")||xd,a=wy(t.getAttribute("enctype"))||Rd,o=new FormData(t)}else if(N2(t)||O2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(r=h?Xi(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||xd,a=wy(t.getAttribute("formenctype"))||wy(f.getAttribute("enctype"))||Rd,o=new FormData(f,t),!L2()){let{name:m,type:g,value:v}=t;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xd,r=null,a=Rd,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B2(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function z2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function H2(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await z2(o,n);return c.links?c.links():[]}return[]}));return K2(r.flat(1).filter(F2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function JT(t,e,n,r,a,o){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?e.filter((h,m)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function q2(t,e,{includeHydrateFallback:n}={}){return G2(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function G2(t){return[...new Set(t)]}function $2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function K2(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify($2(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function JR(){let t=w.useContext(Ql);return U0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Y2(){let t=w.useContext(Am);return U0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j0=w.createContext(void 0);j0.displayName="FrameworkContext";function eC(){let t=w.useContext(j0);return U0(t,"You must render this element inside a <HydratedRouter> element"),t}function W2(t,e){let n=w.useContext(j0),[r,a]=w.useState(!1),[o,c]=w.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=O=>{O.forEach(P=>{c(P.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[t]),w.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let S=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Au(f,S),onBlur:Au(h,C),onMouseEnter:Au(m,S),onMouseLeave:Au(g,C),onTouchStart:Au(v,S)}]:[!1,b,{}]}function Au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function X2({page:t,...e}){let{router:n}=JR(),r=w.useMemo(()=>FR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(Z2,{page:t,matches:r,...e}):null}function Q2(t){let{manifest:e,routeModules:n}=eC(),[r,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return H2(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function Z2({page:t,matches:e,...n}){let r=as(),{manifest:a,routeModules:o}=eC(),{basename:c}=JR(),{loaderData:f,matches:h}=Y2(),m=w.useMemo(()=>JT(t,e,h,a,r,"data"),[t,e,h,a,r]),g=w.useMemo(()=>JT(t,e,h,a,r,"assets"),[t,e,h,a,r]),v=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,R=!1;if(e.forEach(O=>{let P=a.routes[O.route.id];!P||!P.hasLoader||(!m.some(V=>V.route.id===O.route.id)&&O.route.id in f&&o[O.route.id]?.shouldRevalidate||P.hasClientLoader?R=!0:C.add(O.route.id))}),C.size===0)return[];let x=B2(t,c,"data");return R&&C.size>0&&x.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[c,f,r,a,m,e,t,o]),b=w.useMemo(()=>q2(g,a),[g,a]),S=Q2(g);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:R})=>w.createElement("link",{key:C,nonce:n.nonce,...R})))}function J2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tC&&(window.__reactRouterVersion="7.9.1")}catch{}function ek({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=HO({window:n,v5Compat:!0}));let a=r.current,[o,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(h=>{w.startTransition(()=>c(h))},[c]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(P2,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var nC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rC=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:g,viewTransition:v,...b},S){let{basename:C}=w.useContext(Nr),R=typeof m=="string"&&nC.test(m),x,O=!1;if(typeof m=="string"&&R&&(x=m,tC))try{let k=new URL(window.location.href),U=m.startsWith("//")?new URL(k.protocol+m):new URL(m),B=Xi(U.pathname,C);U.origin===k.origin&&B!=null?m=B+U.search+U.hash:O=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=g2(m,{relative:a}),[V,G,q]=W2(r,b),re=rk(m,{replace:c,state:f,target:h,preventScrollReset:g,relative:a,viewTransition:v});function M(k){e&&e(k),k.defaultPrevented||re(k)}let A=w.createElement("a",{...b,...q,href:x||P,onClick:O||o?e:M,ref:J2(S,G),target:h,"data-discover":!R&&n==="render"?"true":void 0});return V&&!R?w.createElement(w.Fragment,null,A,w.createElement(X2,{page:P})):A});rC.displayName="Link";var gv=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:f,children:h,...m},g){let v=yf(c,{relative:m.relative}),b=as(),S=w.useContext(Am),{navigator:C,basename:R}=w.useContext(Nr),x=S!=null&&lk(v)&&f===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,P=b.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(P=P.toLowerCase(),V=V?V.toLowerCase():null,O=O.toLowerCase()),V&&R&&(V=Xi(V,R)||V);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=P===O||!a&&P.startsWith(O)&&P.charAt(G)==="/",re=V!=null&&(V===O||!a&&V.startsWith(O)&&V.charAt(O.length)==="/"),M={isActive:q,isPending:re,isTransitioning:x},A=q?e:void 0,k;typeof r=="function"?k=r(M):k=[r,q?"active":null,re?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(M):o;return w.createElement(rC,{...m,"aria-current":A,className:k,ref:g,style:U,to:c,viewTransition:f},typeof h=="function"?h(M):h)});gv.displayName="NavLink";var tk=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=xd,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...b},S)=>{let C=ak(),R=ok(f,{relative:m}),x=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&nC.test(f),P=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let G=V.nativeEvent.submitter,q=G?.getAttribute("formmethod")||c;C(G||V.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return w.createElement("form",{ref:S,method:x,action:R,onSubmit:r?h:P,...b,"data-discover":!O&&t==="render"?"true":void 0})});tk.displayName="Form";function nk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iC(t){let e=w.useContext(Ql);return yt(e,nk(t)),e}function rk(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let f=xm(),h=as(),m=yf(t,{relative:o});return w.useCallback(g=>{if(V2(g,e)){g.preventDefault();let v=n!==void 0?n:Yu(h)===Yu(m);f(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,f,m,n,r,e,t,a,o,c])}var ik=0,sk=()=>`__${String(++ik)}__`;function ak(){let{router:t}=iC("useSubmit"),{basename:e}=w.useContext(Nr),n=R2();return w.useCallback(async(r,a={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=j2(r,e);if(a.navigate===!1){let g=a.fetcherKey||sk();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function ok(t,{relative:e}={}){let{basename:n}=w.useContext(Nr),r=w.useContext(pi);yt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...yf(t||".",{relative:e})},c=as();if(t==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Wi([n,o.pathname])),Yu(o)}function lk(t,{relative:e}={}){let n=w.useContext($R);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iC("useViewTransitionState"),a=yf(t,{relative:e});if(!n.isTransitioning)return!1;let o=Xi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Xi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(a.pathname,c)!=null||$d(a.pathname,o)!=null}var vf=zR();const ck=jR(vf),uk=()=>{};var eS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},fk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],f=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,f=c?t[a+1]:0,h=a+2<t.length,m=h?t[a+2]:0,g=o>>2,v=(o&3)<<4|f>>4;let b=(f&15)<<2|m>>6,S=m&63;h||(S=64,c||(b=64)),r.push(n[g],n[v],n[b],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||f==null||m==null||v==null)throw new hk;const b=o<<2|f>>4;if(r.push(b),m!==64){const S=f<<4&240|m>>2;if(r.push(S),v!==64){const C=m<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(t){const e=sC(t);return aC.encodeByteArray(e,!0)},Kd=function(t){return dk(t).replace(/\./g,"")},oC=function(t){try{return aC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>mk().__FIREBASE_DEFAULTS__,gk=()=>{if(typeof process>"u"||typeof eS>"u")return;const t=eS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oC(t[1]);return e&&JSON.parse(e)},Cm=()=>{try{return uk()||pk()||gk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>Cm()?.emulatorHosts?.[t],vk=t=>{const e=lC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cC=()=>Cm()?.config,uC=t=>Cm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kd(JSON.stringify(n)),Kd(JSON.stringify(c)),""].join(".")}const Vu={};function Ek(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?t.emulator.push(e):t.prod.push(e);return t}function wk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tS=!1;function hC(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Vu[t]===e||Vu[t]||tS)return;Vu[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=Ek().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tS=!0,c()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=wk(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),R=n("learnmore"),x=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),P=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;f(V),g(x,R);const G=m();h(P,O),V.append(P,C,x,G),document.body.appendChild(V)}o?(C.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function Sk(){const t=Cm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rk(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ck(){return!Sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function Ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bo.prototype.create)}}class bo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?Pk(o,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Mr(a,f,r)}}function Pk(t,e){return t.replace(Nk,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Nk=/\{\$([^}]+)}/g;function Mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(nS(o)&&nS(c)){if(!Zs(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function nS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ok(t,e){const n=new kk(t,e);return n.subscribe.bind(n)}class kk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ty),a.error===void 0&&(a.error=Ty),a.complete===void 0&&(a.complete=Ty);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ty(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=1e3,Uk=2,jk=14400*1e3,Bk=.5;function rS(t,e=Lk,n=Uk){const r=e*Math.pow(n,t),a=Math.round(Bk*r*(Math.random()-.5)*2);return Math.min(jk,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _k;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hk(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fk(t){return t===Za?void 0:t}function Hk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const Gk={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},$k=qe.INFO,Kk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Yk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=Kk[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Im{constructor(e){this.name=e,this._logLevel=$k,this._logHandler=Yk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Wk=(t,e)=>e.some(n=>t instanceof n);let iS,sS;function Xk(){return iS||(iS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qk(){return sS||(sS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gC=new WeakMap,yv=new WeakMap,yC=new WeakMap,Sy=new WeakMap,B0=new WeakMap;function Zk(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ks(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&gC.set(n,t)}).catch(()=>{}),B0.set(e,t),e}function Jk(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});yv.set(t,e)}let vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eV(t){vv=t(vv)}function tV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ay(this),e,...n);return yC.set(r,e.sort?e.sort():[e]),Ks(r)}:Qk().includes(t)?function(...e){return t.apply(Ay(this),e),Ks(gC.get(this))}:function(...e){return Ks(t.apply(Ay(this),e))}}function nV(t){return typeof t=="function"?tV(t):(t instanceof IDBTransaction&&Jk(t),Wk(t,Xk())?new Proxy(t,vv):t)}function Ks(t){if(t instanceof IDBRequest)return Zk(t);if(Sy.has(t))return Sy.get(t);const e=nV(t);return e!==t&&(Sy.set(t,e),B0.set(e,t)),e}const Ay=t=>B0.get(t);function vC(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),f=Ks(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Ks(c.result),h.oldVersion,h.newVersion,Ks(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const rV=["get","getKey","getAll","getAllKeys","count"],iV=["put","add","delete","clear"],xy=new Map;function aS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=iV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||rV.includes(n)))return;const o=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&h.done]))[0]};return xy.set(e,o),o}eV(t=>({...t,get:(e,n,r)=>aS(e,n)||t.get(e,n,r),has:(e,n)=>!!aS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aV(t){return t.getComponent()?.type==="VERSION"}const _v="@firebase/app",oS="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Im("@firebase/app"),oV="@firebase/app-compat",lV="@firebase/analytics-compat",cV="@firebase/analytics",uV="@firebase/app-check-compat",fV="@firebase/app-check",hV="@firebase/auth",dV="@firebase/auth-compat",mV="@firebase/database",pV="@firebase/data-connect",gV="@firebase/database-compat",yV="@firebase/functions",vV="@firebase/functions-compat",_V="@firebase/installations",bV="@firebase/installations-compat",EV="@firebase/messaging",wV="@firebase/messaging-compat",TV="@firebase/performance",SV="@firebase/performance-compat",AV="@firebase/remote-config",xV="@firebase/remote-config-compat",RV="@firebase/storage",CV="@firebase/storage-compat",IV="@firebase/firestore",DV="@firebase/ai",PV="@firebase/firestore-compat",NV="firebase",MV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="[DEFAULT]",OV={[_v]:"fire-core",[oV]:"fire-core-compat",[cV]:"fire-analytics",[lV]:"fire-analytics-compat",[fV]:"fire-app-check",[uV]:"fire-app-check-compat",[hV]:"fire-auth",[dV]:"fire-auth-compat",[mV]:"fire-rtdb",[pV]:"fire-data-connect",[gV]:"fire-rtdb-compat",[yV]:"fire-fn",[vV]:"fire-fn-compat",[_V]:"fire-iid",[bV]:"fire-iid-compat",[EV]:"fire-fcm",[wV]:"fire-fcm-compat",[TV]:"fire-perf",[SV]:"fire-perf-compat",[AV]:"fire-rc",[xV]:"fire-rc-compat",[RV]:"fire-gcs",[CV]:"fire-gcs-compat",[IV]:"fire-fst",[PV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[NV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,kV=new Map,Ev=new Map;function lS(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){const e=t.name;if(Ev.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(const n of Yd.values())lS(n,t);for(const n of kV.values())lS(n,t);return!0}function Eo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new bo("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=MV;function _C(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ys.create("bad-app-name",{appName:String(a)});if(n||(n=cC()),!n)throw Ys.create("no-options");const o=Yd.get(a);if(o){if(Zs(n,o.options)&&Zs(r,o.config))return o;throw Ys.create("duplicate-app",{appName:a})}const c=new qk(a);for(const h of Ev.values())c.addComponent(h);const f=new LV(n,r,c);return Yd.set(a,f),f}function z0(t=bv){const e=Yd.get(t);if(!e&&t===bv&&cC())return _C();if(!e)throw Ys.create("no-app",{appName:t});return e}function dr(t,e,n){let r=OV[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}hi(new Rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="firebase-heartbeat-database",jV=1,Wu="firebase-heartbeat-store";let Ry=null;function bC(){return Ry||(Ry=vC(UV,jV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),Ry}async function BV(t){try{const n=(await bC()).transaction(Wu),r=await n.objectStore(Wu).get(EC(t));return await n.done,r}catch(e){if(e instanceof Mr)Qi.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function cS(t,e){try{const r=(await bC()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(e,EC(t)),await r.done}catch(n){if(n instanceof Mr)Qi.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(r.message)}}}function EC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=1024,FV=30;class HV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FV){const a=$V(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uS(),{heartbeatsToSend:n,unsentEntries:r}=qV(this._heartbeatsCache.heartbeats),a=Kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function uS(){return new Date().toISOString().substring(0,10)}function qV(t,e=zV){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),fS(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),fS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fS(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}function $V(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){hi(new Rr("platform-logger",e=>new sV(e),"PRIVATE")),hi(new Rr("heartbeat",e=>new HV(e),"PRIVATE")),dr(_v,oS,t),dr(_v,oS,"esm2020"),dr("fire-js","")}KV("");var YV="firebase",WV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(YV,WV,"app");const wC="@firebase/installations",F0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1e4,SC=`w:${F0}`,AC="FIS_v2",XV="https://firebaseinstallations.googleapis.com/v1",QV=3600*1e3,ZV="installations",JV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},co=new bo(ZV,JV,eL);function xC(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC({projectId:t}){return`${XV}/projects/${t}/installations`}function CC(t){return{token:t.token,requestStatus:2,expiresIn:nL(t.expiresIn),creationTime:Date.now()}}async function IC(t,e){const r=(await e.json()).error;return co.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tL(t,{refreshToken:e}){const n=DC(t);return n.append("Authorization",rL(e)),n}async function PC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function nL(t){return Number(t.replace("s","000"))}function rL(t){return`${AC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=RC(t),a=DC(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:n,authVersion:AC,appId:t.appId,sdkVersion:SC},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await PC(()=>fetch(r,f));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:CC(m.authToken)}}else throw await IC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^[cdef][\w-]{21}$/,wv="";function oL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=lL(t);return aL.test(n)?n:wv}catch{return wv}}function lL(t){return sL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Map;function OC(t,e){const n=Dm(t);kC(n,e),cL(n,e)}function kC(t,e){const n=MC.get(t);if(n)for(const r of n)r(e)}function cL(t,e){const n=uL();n&&n.postMessage({key:t,fid:e}),fL()}let eo=null;function uL(){return!eo&&"BroadcastChannel"in self&&(eo=new BroadcastChannel("[Firebase] FID Change"),eo.onmessage=t=>{kC(t.data.key,t.data.fid)}),eo}function fL(){MC.size===0&&eo&&(eo.close(),eo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firebase-installations-database",dL=1,uo="firebase-installations-store";let Cy=null;function H0(){return Cy||(Cy=vC(hL,dL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uo)}}})),Cy}async function Wd(t,e){const n=Dm(t),a=(await H0()).transaction(uo,"readwrite"),o=a.objectStore(uo),c=await o.get(n);return await o.put(e,n),await a.done,(!c||c.fid!==e.fid)&&OC(t,e.fid),e}async function VC(t){const e=Dm(t),r=(await H0()).transaction(uo,"readwrite");await r.objectStore(uo).delete(e),await r.done}async function Pm(t,e){const n=Dm(t),a=(await H0()).transaction(uo,"readwrite"),o=a.objectStore(uo),c=await o.get(n),f=e(c);return f===void 0?await o.delete(n):await o.put(f,n),await a.done,f&&(!c||c.fid!==f.fid)&&OC(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(t){let e;const n=await Pm(t.appConfig,r=>{const a=mL(r),o=pL(t,a);return e=o.registrationPromise,o.installationEntry});return n.fid===wv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mL(t){const e=t||{fid:oL(),registrationStatus:0};return LC(e)}function pL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(co.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=gL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yL(t)}:{installationEntry:e}}async function gL(t,e){try{const n=await iL(t,e);return Wd(t.appConfig,n)}catch(n){throw xC(n)&&n.customData.serverCode===409?await VC(t.appConfig):await Wd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yL(t){let e=await hS(t.appConfig);for(;e.registrationStatus===1;)await NC(100),e=await hS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await q0(t);return r||n}return e}function hS(t){return Pm(t,e=>{if(!e)throw co.create("installation-not-found");return LC(e)})}function LC(t){return vL(t)?{fid:t.fid,registrationStatus:0}:t}function vL(t){return t.registrationStatus===1&&t.registrationTime+TC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L({appConfig:t,heartbeatServiceProvider:e},n){const r=bL(t,n),a=tL(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:SC,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await PC(()=>fetch(r,f));if(h.ok){const m=await h.json();return CC(m)}else throw await IC("Generate Auth Token",h)}function bL(t,{fid:e}){return`${RC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(t,e=!1){let n;const r=await Pm(t.appConfig,o=>{if(!UC(o))throw co.create("not-registered");const c=o.authToken;if(!e&&TL(c))return o;if(c.requestStatus===1)return n=EL(t,e),o;{if(!navigator.onLine)throw co.create("app-offline");const f=AL(o);return n=wL(t,f),f}});return n?await n:r.authToken}async function EL(t,e){let n=await dS(t.appConfig);for(;n.authToken.requestStatus===1;)await NC(100),n=await dS(t.appConfig);const r=n.authToken;return r.requestStatus===0?G0(t,e):r}function dS(t){return Pm(t,e=>{if(!UC(e))throw co.create("not-registered");const n=e.authToken;return xL(n)?{...e,authToken:{requestStatus:0}}:e})}async function wL(t,e){try{const n=await _L(t,e),r={...e,authToken:n};return await Wd(t.appConfig,r),n}catch(n){if(xC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await VC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Wd(t.appConfig,r)}throw n}}function UC(t){return t!==void 0&&t.registrationStatus===2}function TL(t){return t.requestStatus===2&&!SL(t)}function SL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+QV}function AL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function xL(t){return t.requestStatus===1&&t.requestTime+TC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t){const e=t,{installationEntry:n,registrationPromise:r}=await q0(e);return r?r.catch(console.error):G0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e=!1){const n=t;return await IL(n),(await G0(n,e)).token}async function IL(t){const{registrationPromise:e}=await q0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){if(!t||!t.options)throw Iy("App Configuration");if(!t.name)throw Iy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iy(t){return co.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="installations",PL="installations-internal",NL=t=>{const e=t.getProvider("app").getImmediate(),n=DL(e),r=Eo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ML=t=>{const e=t.getProvider("app").getImmediate(),n=Eo(e,jC).getImmediate();return{getId:()=>RL(n),getToken:a=>CL(n,a)}};function OL(){hi(new Rr(jC,NL,"PUBLIC")),hi(new Rr(PL,ML,"PRIVATE"))}OL();dr(wC,F0);dr(wC,F0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="analytics",kL="firebase_id",VL="origin",LL=60*1e3,UL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Im("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new bo("analytics","Analytics",jL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){if(!t.startsWith($0)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function BC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function FL(t,e){const n=zL("firebase-js-sdk-policy",{createScriptURL:BL}),r=document.createElement("script"),a=`${$0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function HL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qL(t,e,n,r,a,o){const c=r[a];try{if(c)await e[c];else{const h=(await BC(n)).find(m=>m.measurementId===a);h&&await e[h.appId]}}catch(f){Ln.error(f)}t("config",a,o)}async function GL(t,e,n,r,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await BC(n);for(const h of c){const m=f.find(v=>v.measurementId===h),g=m&&e[m.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,a||{})}catch(o){Ln.error(o)}}function $L(t,e,n,r){async function a(o,...c){try{if(o==="event"){const[f,h]=c;await GL(t,e,n,f,h)}else if(o==="config"){const[f,h]=c;await qL(t,e,n,r,f,h)}else if(o==="consent"){const[f,h]=c;t("consent",f,h)}else if(o==="get"){const[f,h,m]=c;t("get",f,h,m)}else if(o==="set"){const[f]=c;t("set",f)}else t(o,...c)}catch(f){Ln.error(f)}}return a}function KL(t,e,n,r,a){let o=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=$L(o,t,e,n),{gtagCore:o,wrappedGtag:window[a]}}function YL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=30,XL=1e3;class QL{constructor(e={},n=XL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zC=new QL;function ZL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function JL(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:ZL(n)},a=UL.replace("{app-id}",e),o=await fetch(a,r);if(o.status!==200&&o.status!==304){let c="";try{const f=await o.json();f.error?.message&&(c=f.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function e4(t,e=zC,n){const{appId:r,apiKey:a,measurementId:o}=t.options;if(!r)throw Xn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw Xn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new r4;return setTimeout(async()=>{f.abort()},LL),FC({appId:r,apiKey:a,measurementId:o},c,f,e)}async function FC(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=zC){const{appId:o,measurementId:c}=t;try{await t4(r,e)}catch(f){if(c)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:c};throw f}try{const f=await JL(t);return a.deleteThrottleMetadata(o),f}catch(f){const h=f;if(!n4(h)){if(a.deleteThrottleMetadata(o),c)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:c};throw f}const m=Number(h?.customData?.httpStatus)===503?rS(n,a.intervalMillis,WL):rS(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return a.setThrottleMetadata(o,g),Ln.debug(`Calling attemptFetch again in ${m} millis`),FC(t,g,r,a)}}function t4(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(o),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function n4(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class r4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function i4(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const o=await e,c={...r,send_to:o};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(){if(mC())try{await pC()}catch(t){return Ln.warn(Xn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ln.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a4(t,e,n,r,a,o,c){const f=e4(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Ln.error(b)),e.push(f);const h=s4().then(b=>{if(b)return r.getId()}),[m,g]=await Promise.all([f,h]);YL(o)||FL(o,m.measurementId),a("js",new Date);const v=c?.config??{};return v[VL]="firebase",v.update=!0,g!=null&&(v[kL]=g),a("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.app=e}_delete(){return delete Lu[this.app.options.appId],Promise.resolve()}}let Lu={},mS=[];const pS={};let Dy="dataLayer",l4="gtag",gS,HC,yS=!1;function c4(){const t=[];if(dC()&&t.push("This is a browser extension environment."),Ik()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function u4(t,e,n){c4();const r=t.options.appId;if(!r)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Lu[r]!=null)throw Xn.create("already-exists",{id:r});if(!yS){HL(Dy);const{wrappedGtag:o,gtagCore:c}=KL(Lu,mS,pS,Dy,l4);HC=o,gS=c,yS=!0}return Lu[r]=a4(t,mS,pS,e,gS,Dy,n),new o4(t)}function f4(t=z0()){t=Pt(t);const e=Eo(t,Xd);return e.isInitialized()?e.getImmediate():h4(t)}function h4(t,e={}){const n=Eo(t,Xd);if(n.isInitialized()){const a=n.getImmediate();if(Zs(e,n.getOptions()))return a;throw Xn.create("already-initialized")}return n.initialize({options:e})}function d4(t,e,n,r){t=Pt(t),i4(HC,Lu[t.app.options.appId],e,n,r).catch(a=>Ln.error(a))}const vS="@firebase/analytics",_S="0.10.18";function m4(){hi(new Rr(Xd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return u4(r,a,n)},"PUBLIC")),hi(new Rr("analytics-internal",t,"PRIVATE")),dr(vS,_S),dr(vS,_S,"esm2020");function t(e){try{const n=e.getProvider(Xd).getImmediate();return{logEvent:(r,a,o)=>d4(n,r,a,o)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}m4();var bS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,qC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function k(){}k.prototype=A.prototype,M.D=A.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(U,B,j){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return A.prototype[B].apply(U,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,k){k||(k=0);var U=Array(16);if(typeof A=="string")for(var B=0;16>B;++B)U[B]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(B=0;16>B;++B)U[B]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=M.g[0],k=M.g[1],B=M.g[2];var j=M.g[3],L=A+(j^k&(B^j))+U[0]+3614090360&4294967295;A=k+(L<<7&4294967295|L>>>25),L=j+(B^A&(k^B))+U[1]+3905402710&4294967295,j=A+(L<<12&4294967295|L>>>20),L=B+(k^j&(A^k))+U[2]+606105819&4294967295,B=j+(L<<17&4294967295|L>>>15),L=k+(A^B&(j^A))+U[3]+3250441966&4294967295,k=B+(L<<22&4294967295|L>>>10),L=A+(j^k&(B^j))+U[4]+4118548399&4294967295,A=k+(L<<7&4294967295|L>>>25),L=j+(B^A&(k^B))+U[5]+1200080426&4294967295,j=A+(L<<12&4294967295|L>>>20),L=B+(k^j&(A^k))+U[6]+2821735955&4294967295,B=j+(L<<17&4294967295|L>>>15),L=k+(A^B&(j^A))+U[7]+4249261313&4294967295,k=B+(L<<22&4294967295|L>>>10),L=A+(j^k&(B^j))+U[8]+1770035416&4294967295,A=k+(L<<7&4294967295|L>>>25),L=j+(B^A&(k^B))+U[9]+2336552879&4294967295,j=A+(L<<12&4294967295|L>>>20),L=B+(k^j&(A^k))+U[10]+4294925233&4294967295,B=j+(L<<17&4294967295|L>>>15),L=k+(A^B&(j^A))+U[11]+2304563134&4294967295,k=B+(L<<22&4294967295|L>>>10),L=A+(j^k&(B^j))+U[12]+1804603682&4294967295,A=k+(L<<7&4294967295|L>>>25),L=j+(B^A&(k^B))+U[13]+4254626195&4294967295,j=A+(L<<12&4294967295|L>>>20),L=B+(k^j&(A^k))+U[14]+2792965006&4294967295,B=j+(L<<17&4294967295|L>>>15),L=k+(A^B&(j^A))+U[15]+1236535329&4294967295,k=B+(L<<22&4294967295|L>>>10),L=A+(B^j&(k^B))+U[1]+4129170786&4294967295,A=k+(L<<5&4294967295|L>>>27),L=j+(k^B&(A^k))+U[6]+3225465664&4294967295,j=A+(L<<9&4294967295|L>>>23),L=B+(A^k&(j^A))+U[11]+643717713&4294967295,B=j+(L<<14&4294967295|L>>>18),L=k+(j^A&(B^j))+U[0]+3921069994&4294967295,k=B+(L<<20&4294967295|L>>>12),L=A+(B^j&(k^B))+U[5]+3593408605&4294967295,A=k+(L<<5&4294967295|L>>>27),L=j+(k^B&(A^k))+U[10]+38016083&4294967295,j=A+(L<<9&4294967295|L>>>23),L=B+(A^k&(j^A))+U[15]+3634488961&4294967295,B=j+(L<<14&4294967295|L>>>18),L=k+(j^A&(B^j))+U[4]+3889429448&4294967295,k=B+(L<<20&4294967295|L>>>12),L=A+(B^j&(k^B))+U[9]+568446438&4294967295,A=k+(L<<5&4294967295|L>>>27),L=j+(k^B&(A^k))+U[14]+3275163606&4294967295,j=A+(L<<9&4294967295|L>>>23),L=B+(A^k&(j^A))+U[3]+4107603335&4294967295,B=j+(L<<14&4294967295|L>>>18),L=k+(j^A&(B^j))+U[8]+1163531501&4294967295,k=B+(L<<20&4294967295|L>>>12),L=A+(B^j&(k^B))+U[13]+2850285829&4294967295,A=k+(L<<5&4294967295|L>>>27),L=j+(k^B&(A^k))+U[2]+4243563512&4294967295,j=A+(L<<9&4294967295|L>>>23),L=B+(A^k&(j^A))+U[7]+1735328473&4294967295,B=j+(L<<14&4294967295|L>>>18),L=k+(j^A&(B^j))+U[12]+2368359562&4294967295,k=B+(L<<20&4294967295|L>>>12),L=A+(k^B^j)+U[5]+4294588738&4294967295,A=k+(L<<4&4294967295|L>>>28),L=j+(A^k^B)+U[8]+2272392833&4294967295,j=A+(L<<11&4294967295|L>>>21),L=B+(j^A^k)+U[11]+1839030562&4294967295,B=j+(L<<16&4294967295|L>>>16),L=k+(B^j^A)+U[14]+4259657740&4294967295,k=B+(L<<23&4294967295|L>>>9),L=A+(k^B^j)+U[1]+2763975236&4294967295,A=k+(L<<4&4294967295|L>>>28),L=j+(A^k^B)+U[4]+1272893353&4294967295,j=A+(L<<11&4294967295|L>>>21),L=B+(j^A^k)+U[7]+4139469664&4294967295,B=j+(L<<16&4294967295|L>>>16),L=k+(B^j^A)+U[10]+3200236656&4294967295,k=B+(L<<23&4294967295|L>>>9),L=A+(k^B^j)+U[13]+681279174&4294967295,A=k+(L<<4&4294967295|L>>>28),L=j+(A^k^B)+U[0]+3936430074&4294967295,j=A+(L<<11&4294967295|L>>>21),L=B+(j^A^k)+U[3]+3572445317&4294967295,B=j+(L<<16&4294967295|L>>>16),L=k+(B^j^A)+U[6]+76029189&4294967295,k=B+(L<<23&4294967295|L>>>9),L=A+(k^B^j)+U[9]+3654602809&4294967295,A=k+(L<<4&4294967295|L>>>28),L=j+(A^k^B)+U[12]+3873151461&4294967295,j=A+(L<<11&4294967295|L>>>21),L=B+(j^A^k)+U[15]+530742520&4294967295,B=j+(L<<16&4294967295|L>>>16),L=k+(B^j^A)+U[2]+3299628645&4294967295,k=B+(L<<23&4294967295|L>>>9),L=A+(B^(k|~j))+U[0]+4096336452&4294967295,A=k+(L<<6&4294967295|L>>>26),L=j+(k^(A|~B))+U[7]+1126891415&4294967295,j=A+(L<<10&4294967295|L>>>22),L=B+(A^(j|~k))+U[14]+2878612391&4294967295,B=j+(L<<15&4294967295|L>>>17),L=k+(j^(B|~A))+U[5]+4237533241&4294967295,k=B+(L<<21&4294967295|L>>>11),L=A+(B^(k|~j))+U[12]+1700485571&4294967295,A=k+(L<<6&4294967295|L>>>26),L=j+(k^(A|~B))+U[3]+2399980690&4294967295,j=A+(L<<10&4294967295|L>>>22),L=B+(A^(j|~k))+U[10]+4293915773&4294967295,B=j+(L<<15&4294967295|L>>>17),L=k+(j^(B|~A))+U[1]+2240044497&4294967295,k=B+(L<<21&4294967295|L>>>11),L=A+(B^(k|~j))+U[8]+1873313359&4294967295,A=k+(L<<6&4294967295|L>>>26),L=j+(k^(A|~B))+U[15]+4264355552&4294967295,j=A+(L<<10&4294967295|L>>>22),L=B+(A^(j|~k))+U[6]+2734768916&4294967295,B=j+(L<<15&4294967295|L>>>17),L=k+(j^(B|~A))+U[13]+1309151649&4294967295,k=B+(L<<21&4294967295|L>>>11),L=A+(B^(k|~j))+U[4]+4149444226&4294967295,A=k+(L<<6&4294967295|L>>>26),L=j+(k^(A|~B))+U[11]+3174756917&4294967295,j=A+(L<<10&4294967295|L>>>22),L=B+(A^(j|~k))+U[2]+718787259&4294967295,B=j+(L<<15&4294967295|L>>>17),L=k+(j^(B|~A))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+j&4294967295}r.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var k=A-this.blockSize,U=this.B,B=this.h,j=0;j<A;){if(B==0)for(;j<=k;)a(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<A;)if(U[B++]=M.charCodeAt(j++),B==this.blockSize){a(this,U),B=0;break}}else for(;j<A;)if(U[B++]=M[j++],B==this.blockSize){a(this,U),B=0;break}}this.h=B,this.o+=A},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var k=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=k&255,k/=256;for(this.u(M),M=Array(16),A=k=0;4>A;++A)for(var U=0;32>U;U+=8)M[k++]=this.g[A]>>>U&255;return M};function o(M,A){var k=f;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=A(M)}function c(M,A){this.h=A;for(var k=[],U=!0,B=M.length-1;0<=B;B--){var j=M[B]|0;U&&j==A||(k[B]=j,U=!1)}this.g=k}var f={};function h(M){return-128<=M&&128>M?o(M,function(A){return new c([A|0],0>A?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return x(m(-M));for(var A=[],k=1,U=0;M>=k;U++)A[U]=M/k|0,k*=4294967296;return new c(A,0)}function g(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return x(g(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(A,8)),U=v,B=0;B<M.length;B+=8){var j=Math.min(8,M.length-B),L=parseInt(M.substring(B,B+j),A);8>j?(j=m(Math.pow(A,j)),U=U.j(j).add(m(L))):(U=U.j(k),U=U.add(m(L)))}return U}var v=h(0),b=h(1),S=h(16777216);t=c.prototype,t.m=function(){if(R(this))return-x(this).m();for(var M=0,A=1,k=0;k<this.g.length;k++){var U=this.i(k);M+=(0<=U?U:4294967296+U)*A,A*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(R(this))return"-"+x(this).toString(M);for(var A=m(Math.pow(M,6)),k=this,U="";;){var B=G(k,A).g;k=O(k,B.j(A));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=B,C(k))return j+U;for(;6>j.length;)j="0"+j;U=j+U}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=O(this,M),R(M)?-1:C(M)?0:1};function x(M){for(var A=M.g.length,k=[],U=0;U<A;U++)k[U]=~M.g[U];return new c(k,~M.h).add(b)}t.abs=function(){return R(this)?x(this):this},t.add=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],U=0,B=0;B<=A;B++){var j=U+(this.i(B)&65535)+(M.i(B)&65535),L=(j>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);U=L>>>16,j&=65535,L&=65535,k[B]=L<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function O(M,A){return M.add(x(A))}t.j=function(M){if(C(this)||C(M))return v;if(R(this))return R(M)?x(this).j(x(M)):x(x(this).j(M));if(R(M))return x(this.j(x(M)));if(0>this.l(S)&&0>M.l(S))return m(this.m()*M.m());for(var A=this.g.length+M.g.length,k=[],U=0;U<2*A;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<M.g.length;B++){var j=this.i(U)>>>16,L=this.i(U)&65535,we=M.i(B)>>>16,Se=M.i(B)&65535;k[2*U+2*B]+=L*Se,P(k,2*U+2*B),k[2*U+2*B+1]+=j*Se,P(k,2*U+2*B+1),k[2*U+2*B+1]+=L*we,P(k,2*U+2*B+1),k[2*U+2*B+2]+=j*we,P(k,2*U+2*B+2)}for(U=0;U<A;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=A;U<2*A;U++)k[U]=0;return new c(k,0)};function P(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function V(M,A){this.g=M,this.h=A}function G(M,A){if(C(A))throw Error("division by zero");if(C(M))return new V(v,v);if(R(M))return A=G(x(M),A),new V(x(A.g),x(A.h));if(R(A))return A=G(M,x(A)),new V(x(A.g),A.h);if(30<M.g.length){if(R(M)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var k=b,U=A;0>=U.l(M);)k=q(k),U=q(U);var B=re(k,1),j=re(U,1);for(U=re(U,2),k=re(k,2);!C(U);){var L=j.add(U);0>=L.l(M)&&(B=B.add(k),j=L),U=re(U,1),k=re(k,1)}return A=O(M,B.j(A)),new V(B,A)}for(B=v;0<=M.l(A);){for(k=Math.max(1,Math.floor(M.m()/A.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),j=m(k),L=j.j(A);R(L)||0<L.l(M);)k-=U,j=m(k),L=j.j(A);C(j)&&(j=b),B=B.add(j),M=O(M,L)}return new V(B,M)}t.A=function(M){return G(this,M).h},t.and=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],U=0;U<A;U++)k[U]=this.i(U)&M.i(U);return new c(k,this.h&M.h)},t.or=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],U=0;U<A;U++)k[U]=this.i(U)|M.i(U);return new c(k,this.h|M.h)},t.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],U=0;U<A;U++)k[U]=this.i(U)^M.i(U);return new c(k,this.h^M.h)};function q(M){for(var A=M.g.length+1,k=[],U=0;U<A;U++)k[U]=M.i(U)<<1|M.i(U-1)>>>31;return new c(k,M.h)}function re(M,A){var k=A>>5;A%=32;for(var U=M.g.length-k,B=[],j=0;j<U;j++)B[j]=0<A?M.i(j+k)>>>A|M.i(j+k+1)<<32-A:M.i(j+k);return new c(B,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ws=c}).apply(typeof bS<"u"?bS:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GC,Du,$C,Cd,Tv,KC,YC,WC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(d,_){if(_)e:{var E=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var Y=d[N];if(!(Y in E))break e;E=E[Y]}d=d[d.length-1],N=E[d],_=_(N),_!=N&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,N=!1,Y={next:function(){if(!N&&E<d.length){var te=E++;return{value:_(te,d[te]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function g(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),d.apply(_,Y)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function S(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function C(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(N,Y,te){for(var me=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)me[Ke-2]=arguments[Ke];return _.prototype[Y].apply(N,me)}}function R(d){const _=d.length;if(0<_){const E=Array(_);for(let N=0;N<_;N++)E[N]=d[N];return E}return[]}function x(d,_){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(h(N)){const Y=d.length||0,te=N.length||0;d.length=Y+te;for(let me=0;me<te;me++)d[Y+me]=N[me]}else d.push(N)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function re(d,_,E){for(const N in d)_.call(E,d[N],N,d)}function M(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function A(d){const _={};for(const E in d)_[E]=d[E];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,_){let E,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(E in N)d[E]=N[E];for(let te=0;te<k.length;te++)E=k[te],Object.prototype.hasOwnProperty.call(N,E)&&(d[E]=N[E])}}function B(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function j(d){f.setTimeout(()=>{throw d},0)}function L(){var d=ge;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class we{constructor(){this.h=this.g=null}add(_,E){const N=Se.get();N.set(_,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Se=new O(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,X=!1,ge=new we,F=()=>{const d=f.Promise.resolve(void 0);ne=()=>{d.then(se)}};var se=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(E){j(E)}var _=Se;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}X=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return d})();function he(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(q){e:{try{G(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&he.aa.h.call(this)}}C(he,oe);var pe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ze(d,_,E,N,Y){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!N,this.ha=Y,this.key=++Te,this.da=this.fa=!1}function Oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function je(d){this.src=d,this.g={},this.h=0}je.prototype.add=function(d,_,E,N,Y){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var me=Mt(d,_,N,Y);return-1<me?(_=d[me],E||(_.fa=!1)):(_=new ze(_,this.src,te,!!N,Y),_.fa=E,d.push(_)),_};function Qe(d,_){var E=_.type;if(E in d.g){var N=d.g[E],Y=Array.prototype.indexOf.call(N,_,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(N,Y,1),te&&(Oe(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Mt(d,_,E,N){for(var Y=0;Y<d.length;++Y){var te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!E&&te.ha==N)return Y}return-1}var Sn="closure_lm_"+(1e6*Math.random()|0),yi={};function os(d,_,E,N,Y){if(Array.isArray(_)){for(var te=0;te<_.length;te++)os(d,_[te],E,N,Y);return null}return E=Vf(E),d&&d[fe]?d.K(_,E,m(N)?!!N.capture:!1,Y):mn(d,_,E,!1,N,Y)}function mn(d,_,E,N,Y,te){if(!_)throw Error("Invalid event type");var me=m(Y)?!!Y.capture:!!Y,Ke=xo(d);if(Ke||(d[Sn]=Ke=new je(d)),E=Ke.add(_,E,N,me,te),E.proxy)return E;if(N=pp(),E.proxy=N,N.src=d,N.listener=E,d.addEventListener)ee||(Y=me),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),N,Y);else if(d.attachEvent)d.attachEvent(ga(_.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function pp(){function d(E){return _.call(d.src,d.listener,E)}const _=gp;return d}function gc(d,_,E,N,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)gc(d,_[te],E,N,Y);else N=m(N)?!!N.capture:!!N,E=Vf(E),d&&d[fe]?(d=d.i,_=String(_).toString(),_ in d.g&&(te=d.g[_],E=Mt(te,E,N,Y),-1<E&&(Oe(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete d.g[_],d.h--)))):d&&(d=xo(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Mt(_,E,N,Y)),(E=-1<d?_[d]:null)&&Ao(E))}function Ao(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[fe])Qe(_.i,d);else{var E=d.type,N=d.proxy;_.removeEventListener?_.removeEventListener(E,N,d.capture):_.detachEvent?_.detachEvent(ga(E),N):_.addListener&&_.removeListener&&_.removeListener(N),(E=xo(_))?(Qe(E,d),E.h==0&&(E.src=null,_[Sn]=null)):Oe(d)}}}function ga(d){return d in yi?yi[d]:yi[d]="on"+d}function gp(d,_){if(d.da)d=!0;else{_=new he(_,this);var E=d.listener,N=d.ha||d.src;d.fa&&Ao(d),d=E.call(N,_)}return d}function xo(d){return d=d[Sn],d instanceof je?d:null}var yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vf(d){return typeof d=="function"?d:(d[yc]||(d[yc]=function(_){return d.handleEvent(_)}),d[yc])}function Et(){de.call(this),this.i=new je(this),this.M=this,this.F=null}C(Et,de),Et.prototype[fe]=!0,Et.prototype.removeEventListener=function(d,_,E,N){gc(this,d,_,E,N)};function nt(d,_){var E,N=d.F;if(N)for(E=[];N;N=N.F)E.push(N);if(d=d.M,N=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var Y=_;_=new oe(N,d),U(_,Y)}if(Y=!0,E)for(var te=E.length-1;0<=te;te--){var me=_.g=E[te];Y=jn(me,N,!0,_)&&Y}if(me=_.g=d,Y=jn(me,N,!0,_)&&Y,Y=jn(me,N,!1,_)&&Y,E)for(te=0;te<E.length;te++)me=_.g=E[te],Y=jn(me,N,!1,_)&&Y}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],N=0;N<E.length;N++)Oe(E[N]);delete d.g[_],d.h--}}this.F=null},Et.prototype.K=function(d,_,E,N){return this.i.add(String(d),_,!1,E,N)},Et.prototype.L=function(d,_,E,N){return this.i.add(String(d),_,!0,E,N)};function jn(d,_,E,N){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,te=0;te<_.length;++te){var me=_[te];if(me&&!me.da&&me.capture==E){var Ke=me.listener,qt=me.ha||me.src;me.fa&&Qe(d.i,me),Y=Ke.call(qt,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function pn(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Lf(d){d.g=pn(()=>{d.g=null,d.i&&(d.i=!1,Lf(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class yp extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Lf(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(d){de.call(this),this.h=d,this.g={}}C(ya,de);var va=[];function _a(d){re(d.g,function(_,E){this.g.hasOwnProperty(E)&&Ao(_)},d),d.g={}}ya.prototype.N=function(){ya.aa.N.call(this),_a(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,Ro=f.JSON.parse,ba=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function vc(){}vc.prototype.h=null;function _c(d){return d.h||(d.h=d.i())}function bc(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){oe.call(this,"d")}C(_i,oe);function Ec(){oe.call(this,"c")}C(Ec,oe);var Or={},wc=null;function ls(){return wc=wc||new Et}Or.La="serverreachability";function Co(d){oe.call(this,Or.La,d)}C(Co,oe);function cs(d){const _=ls();nt(_,new Co(_))}Or.STAT_EVENT="statevent";function Uf(d,_){oe.call(this,Or.STAT_EVENT,d),this.stat=_}C(Uf,oe);function mt(d){const _=ls();nt(_,new Uf(_,d))}Or.Ma="timingevent";function Ht(d,_){oe.call(this,Or.Ma,d),this.size=_}C(Ht,oe);function Ot(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function Tc(d,_,E,N,Y,te){d.info(function(){if(d.g)if(te)for(var me="",Ke=te.split("&"),qt=0;qt<Ke.length;qt++){var Ye=Ke[qt].split("=");if(1<Ye.length){var Zt=Ye[0];Ye=Ye[1];var Gt=Zt.split("_");me=2<=Gt.length&&Gt[1]=="type"?me+(Zt+"="+Ye+"&"):me+(Zt+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+_+`
`+E+`
`+me})}function vp(d,_,E,N,Y,te,me){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+_+`
`+E+`
`+te+" "+me})}function us(d,_,E,N){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ea(d,E)+(N?" "+N:"")})}function jf(d,_){d.info(function(){return"TIMEOUT: "+_})}Zn.prototype.info=function(){};function Ea(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var N=E[d];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return gr(E)}catch{return _}}var fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Vr(){}C(Vr,vc),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},kr=new Vr;function An(d,_,E,N){this.j=d,this.i=_,this.l=E,this.R=N||1,this.U=new ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Sc={},Io={};function yr(d,_,E){d.L=1,d.v=xa(Bn(_)),d.m=E,d.P=!0,Ei(d,null)}function Ei(d,_){d.F=Date.now(),wa(d),d.A=Bn(d.v);var E=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),Dc(E.i,"t",N),d.C=0,E=d.j.J,d.h=new At,d.g=th(d.j,E?_:null,!d.m),0<d.O&&(d.M=new yp(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,N=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(va[0]=Y.toString()),Y=va);for(var te=0;te<Y.length;te++){var me=os(E,Y[te],N||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),cs(),Tc(d.i,d.u,d.A,d.l,d.R,d.m)}An.prototype.ca=function(d){d=d.target;const _=this.M;_&&nr(d)==3?_.j():this.Y(d)},An.prototype.Y=function(d){try{if(d==this.g)e:{const Gt=nr(this.g);var _=this.g.Ba();const Ii=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Kf(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=Ii?cs(3):cs(2)),hs(this);var E=this.g.Z();this.X=E;t:if(Bf(this)){var N=Kf(this.g);d="";var Y=N.length,te=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Lr(this);var me="";break t}this.h.i=new f.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,d+=this.h.i.decode(N[_],{stream:!(te&&_==Y-1)});N.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,vp(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,qt=this.g;if((Ke=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ke)){var Ye=Ke;break t}}Ye=null}if(E=Ye)us(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,E);else{this.o=!1,this.s=3,mt(12),rn(this),Lr(this);break e}}if(this.P){E=!0;let sn;for(;!this.J&&this.C<me.length;)if(sn=zf(this,me),sn==Io){Gt==4&&(this.s=4,mt(14),E=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Sc){this.s=4,mt(15),us(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else us(this.i,this.l,sn,null),Ta(this,sn);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||me.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)us(this.i,this.l,me,"[Invalid Chunked Response]"),rn(this),Lr(this);else if(0<me.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Oa(Zt),Zt.M=!0,mt(11))}}else us(this.i,this.l,me,null),Ta(this,me);Gt==4&&rn(this),this.o&&!this.J&&(Gt==4?Zf(this.j,this):(this.o=!1,wa(this)))}else Tp(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),rn(this),Lr(this)}}}catch{}finally{}};function Bf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function zf(d,_){var E=d.C,N=_.indexOf(`
`,E);return N==-1?Io:(E=Number(_.substring(E,N)),isNaN(E)?Sc:(N+=1,N+E>_.length?Io:(_=_.slice(N,N+E),d.C=N+E,_)))}An.prototype.cancel=function(){this.J=!0,rn(this)};function wa(d){d.S=Date.now()+d.I,Ff(d,d.I)}function Ff(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ot(b(d.ba,d),_)}function hs(d){d.B&&(f.clearTimeout(d.B),d.B=null)}An.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(jf(this.i,this.A),this.L!=2&&(cs(),mt(17)),rn(this),this.s=2,Lr(this)):Ff(this,this.S-d)};function Lr(d){d.j.G==0||d.J||Zf(d.j,d)}function rn(d){hs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,_a(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Ta(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||Ac(E.h,d))){if(!d.K&&Ac(E.h,d)&&E.G==3){try{var N=E.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)zo(E),jo(E);else break e;kc(E),mt(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ot(b(E.Za,E),6e3));if(1>=Po(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ci(E,11)}else if((d.K||E.g==d)&&zo(E),!P(_))for(Y=E.Da.g.parse(_),_=0;_<Y.length;_++){let Ye=Y[_];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Zt=Ye[3];Zt!=null&&(E.la=Zt,E.j.info("VER="+E.la));const Gt=Ye[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const Ii=Ye[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(N=1.5*Ii,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const sn=d.g;if(sn){const qr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var te=N.h;te.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(No(te,te.h),te.h=null))}if(N.D){const Lc=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Lc&&(N.ya=Lc,st(N.I,N.D,Lc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var me=d;if(N.qa=eh(N,N.J?N.ia:null,N.W),me.K){xn(N.h,me);var Ke=me,qt=N.L;qt&&(Ke.I=qt),Ke.B&&(hs(Ke),wa(Ke)),N.g=me}else Xf(N);0<E.i.length&&Bo(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ci(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ci(E,7):Mc(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}cs(4)}catch{}}var Hf=class{constructor(d,_){this.g=d,this.map=_}};function wi(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Do(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Po(d){return d.h?1:d.g?d.g.size:0}function Ac(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function No(d,_){d.g?d.g.add(_):d.h=_}function xn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}wi.prototype.cancel=function(){if(this.i=xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return R(d.i)}function _p(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],E=d.length,N=0;N<E;N++)_.push(d[N]);return _}_=[],E=0;for(N in d)_[E++]=d[N];return _}function Mo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const N in d)_[E++]=N;return _}}}function Rc(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=Mo(d),N=_p(d),Y=N.length,te=0;te<Y;te++)_.call(void 0,N[te],E&&E[te],d)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var N=d[E].indexOf("="),Y=null;if(0<=N){var te=d[E].substring(0,N);Y=d[E].substring(N+1)}else te=d[E];_(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function kt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kt){this.h=d.h,Aa(this,d.j),this.o=d.o,this.g=d.g,ds(this,d.s),this.l=d.l;var _=d.i,E=new Si;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ti(this,E),this.m=d.m}else d&&(_=String(d).match(Sa))?(this.h=!1,Aa(this,_[1]||"",!0),this.o=Jn(_[2]||""),this.g=Jn(_[3]||"",!0),ds(this,_[4]),this.l=Jn(_[5]||"",!0),Ti(this,_[6]||"",!0),this.m=Jn(_[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}kt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ra(_,Cc,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ra(_,Cc,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ra(E,E.charAt(0)=="/"?Ep:Ic,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ra(E,Oo)),d.join("")};function Bn(d){return new kt(d)}function Aa(d,_,E){d.j=E?Jn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ds(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ti(d,_,E){_ instanceof Si?(d.i=_,Gf(d.i,d.h)):(E||(_=Ra(_,wp)),d.i=new Si(_,d.h))}function st(d,_,E){d.i.set(_,E)}function xa(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Jn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ra(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,qf),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function qf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cc=/[#\/\?@]/g,Ic=/[#\?:]/g,Ep=/[#\?]/g,wp=/[#\?@]/g,Oo=/#/g;function Si(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function er(d){d.g||(d.g=new Map,d.h=0,d.i&&bp(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Si.prototype,t.add=function(d,_){er(this),this.i=null,d=Ur(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Ai(d,_){er(d),_=Ur(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function xi(d,_){return er(d),_=Ur(d,_),d.g.has(_)}t.forEach=function(d,_){er(this),this.g.forEach(function(E,N){E.forEach(function(Y){d.call(_,Y,N,this)},this)},this)},t.na=function(){er(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let N=0;N<_.length;N++){const Y=d[N];for(let te=0;te<Y.length;te++)E.push(_[N])}return E},t.V=function(d){er(this);let _=[];if(typeof d=="string")xi(this,d)&&(_=_.concat(this.g.get(Ur(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},t.set=function(d,_){return er(this),this.i=null,d=Ur(this,d),xi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Dc(d,_,E){Ai(d,_),0<E.length&&(d.i=null,d.g.set(Ur(d,_),R(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var N=_[E];const te=encodeURIComponent(String(N)),me=this.V(N);for(N=0;N<me.length;N++){var Y=te;me[N]!==""&&(Y+="="+encodeURIComponent(String(me[N]))),d.push(Y)}}return this.i=d.join("&")};function Ur(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Gf(d,_){_&&!d.j&&(er(d),d.i=null,d.g.forEach(function(E,N){var Y=N.toLowerCase();N!=Y&&(Ai(this,N),Dc(this,Y,E))},d)),d.j=_}function Ca(d,_){const E=new Zn;if(f.Image){const N=new Image;N.onload=S(tr,E,"TestLoadImage: loaded",!0,_,N),N.onerror=S(tr,E,"TestLoadImage: error",!1,_,N),N.onabort=S(tr,E,"TestLoadImage: abort",!1,_,N),N.ontimeout=S(tr,E,"TestLoadImage: timeout",!1,_,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else _(!1)}function vr(d,_){const E=new Zn,N=new AbortController,Y=setTimeout(()=>{N.abort(),tr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:N.signal}).then(te=>{clearTimeout(Y),te.ok?tr(E,"TestPingServer: ok",!0,_):tr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),tr(E,"TestPingServer: error",!1,_)})}function tr(d,_,E,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(E)}catch{}}function Ia(){this.g=new ba}function jr(d,_,E){const N=E||"";try{Rc(d,function(Y,te){let me=Y;m(Y)&&(me=gr(Y)),_.push(N+te+"="+encodeURIComponent(me))})}catch(Y){throw _.push(N+"type="+encodeURIComponent("_badmap")),Y}}function ms(d){this.l=d.Ub||null,this.j=d.eb||!1}C(ms,vc),ms.prototype.g=function(){return new Ri(this.l,this.j)},ms.prototype.i=(function(d){return function(){return d}})({});function Ri(d,_){Et.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ri,Et),t=Ri.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,zr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Br(this):zr(this),this.readyState==3&&Pc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Br(this))},t.Qa=function(d){this.g&&(this.response=d,Br(this))},t.ga=function(){this.g&&Br(this)};function Br(d){d.readyState=4,d.l=null,d.j=null,d.v=null,zr(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function zr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Nc(d){let _="";return re(d,function(E,N){_+=N,_+=":",_+=E,_+=`\r
`}),_}function Qt(d,_,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Nc(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):st(d,_,E))}function et(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(et,Et);var ko=/^https?$/i,Da=["POST","PUT"];t=et.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?_c(this.o):_c(kr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){$f(this,te);return}if(d=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)E.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const te of N.keys())E.set(te,N.get(te));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Y=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Da,_,void 0))||N||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of E)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){$f(this,te)}};function $f(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Vo(d),Fr(d)}function Vo(d){d.A||(d.A=!0,nt(d,"complete"),nt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,nt(this,"complete"),nt(this,"abort"),Fr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||nr(d)!=4||d.Z()!=2)){if(d.u&&nr(d)==4)pn(d.Ea,0,d);else if(nt(d,"readystatechange"),nr(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var N;if(N=me===0){var Y=String(d.D).match(Sa)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),N=!ko.test(Y?Y.toLowerCase():"")}E=N}if(E)nt(d,"complete"),nt(d,"success");else{d.m=6;try{var te=2<nr(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Vo(d)}}finally{Fr(d)}}}}function Fr(d,_){if(d.g){Pa(d);const E=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||nt(d,"ready");try{E.onreadystatechange=N}catch{}}}function Pa(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function nr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ro(_)}};function Kf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Tp(d){const _={};d=(d.g&&2<=nr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var E=B(d[N]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=_[Y]||[];_[Y]=te,te.push(E)}M(_,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Uo(d){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,d),this.cb=Na("retryDelaySeedMs",1e4,d),this.Wa=Na("forwardChannelMaxRetries",2,d),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(d&&d.concurrentRequestLimit),this.Da=new Ia,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uo.prototype,t.la=8,t.G=1,t.connect=function(d,_,E,N){mt(0),this.W=d,this.H=_||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=eh(this,null,this.W),Bo(this)};function Mc(d){if(Yf(d),d.G==3){var _=d.U++,E=Bn(d.I);if(st(E,"SID",d.K),st(E,"RID",_),st(E,"TYPE","terminate"),Ma(d,E),_=new An(d,d.j,_),_.L=2,_.v=xa(Bn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=th(_.j,null),_.g.ea(_.v)),_.F=Date.now(),wa(_)}Jf(d)}function jo(d){d.g&&(Oa(d),d.g.cancel(),d.g=null)}function Yf(d){jo(d),d.u&&(f.clearTimeout(d.u),d.u=null),zo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Bo(d){if(!Do(d.h)&&!d.s){d.s=!0;var _=d.Ga;ne||F(),X||(ne(),X=!0),ge.add(_,d),d.B=0}}function Sp(d,_){return Po(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ot(b(d.Ga,d,_),Vc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new An(this,this.j,d);let te=this.o;if(this.S&&(te?(te=A(te),U(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Wf(this,Y,_),E=Bn(this.I),st(E,"RID",d),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),Ma(this,E),te&&(this.O?_="headers="+encodeURIComponent(String(Nc(te)))+"&"+_:this.m&&Qt(E,this.m,te)),No(this.h,Y),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",_),st(E,"SID","null"),Y.T=!0,yr(Y,E,null)):yr(Y,E,_),this.G=2}}else this.G==3&&(d?Oc(this,d):this.i.length==0||Do(this.h)||Oc(this))};function Oc(d,_){var E;_?E=_.l:E=d.U++;const N=Bn(d.I);st(N,"SID",d.K),st(N,"RID",E),st(N,"AID",d.T),Ma(d,N),d.m&&d.o&&Qt(N,d.m,d.o),E=new An(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Wf(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),No(d.h,E),yr(E,N,_)}function Ma(d,_){d.H&&re(d.H,function(E,N){st(_,N,E)}),d.l&&Rc({},function(E,N){st(_,N,E)})}function Wf(d,_,E){E=Math.min(d.i.length,E);var N=d.l?b(d.l.Na,d.l,d):null;e:{var Y=d.i;let te=-1;for(;;){const me=["count="+E];te==-1?0<E?(te=Y[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let Ke=!0;for(let qt=0;qt<E;qt++){let Ye=Y[qt].g;const Zt=Y[qt].map;if(Ye-=te,0>Ye)te=Math.max(0,Y[qt].g-100),Ke=!1;else try{jr(Zt,me,"req"+Ye+"_")}catch{N&&N(Zt)}}if(Ke){N=me.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,N}function Xf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ne||F(),X||(ne(),X=!0),ge.add(_,d),d.v=0}}function kc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ot(b(d.Fa,d),Vc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Qf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ot(b(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),jo(this),Qf(this))};function Oa(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Qf(d){d.g=new An(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Bn(d.qa);st(_,"RID","rpc"),st(_,"SID",d.K),st(_,"AID",d.T),st(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(_,"TO",d.ja),st(_,"TYPE","xmlhttp"),Ma(d,_),d.m&&d.o&&Qt(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=xa(Bn(_)),E.m=null,E.P=!0,Ei(E,d)}t.Za=function(){this.C!=null&&(this.C=null,jo(this),kc(this),mt(19))};function zo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Zf(d,_){var E=null;if(d.g==_){zo(d),Oa(d),d.g=null;var N=2}else if(Ac(d.h,_))E=_.D,xn(d.h,_),N=1;else return;if(d.G!=0){if(_.o)if(N==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var Y=d.B;N=ls(),nt(N,new Ht(N,E)),Bo(d)}else Xf(d);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(N==1&&Sp(d,_)||N==2&&kc(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),Y){case 1:Ci(d,5);break;case 4:Ci(d,10);break;case 3:Ci(d,6);break;default:Ci(d,2)}}}function Vc(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Ci(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),N=d.Xa;const Y=!N;N=new kt(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Aa(N,"https"),xa(N),Y?Ca(N.toString(),E):vr(N.toString(),E)}else mt(2);d.G=0,d.l&&d.l.sa(_),Jf(d),Yf(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Jf(d){if(d.G=0,d.ka=[],d.l){const _=xc(d.h);(_.length!=0||d.i.length!=0)&&(x(d.ka,_),x(d.ka,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.ra()}}function eh(d,_,E){var N=E instanceof kt?Bn(E):new kt(E);if(N.g!="")_&&(N.g=_+"."+N.g),ds(N,N.s);else{var Y=f.location;N=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new kt(null);N&&Aa(te,N),_&&(te.g=_),Y&&ds(te,Y),E&&(te.l=E),N=te}return E=d.D,_=d.ya,E&&_&&st(N,E,_),st(N,"VER",d.la),Ma(d,N),N}function th(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new ms({eb:E})):new et(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}t=nh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(d,_){return new Rn(d,_)};function Rn(d,_){Et.call(this),this.g=new Uo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!P(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Hr(this)}C(Rn,Et),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Mc(this.g)},Rn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=gr(d),d=E);_.i.push(new Hf(_.Ya++,d)),_.G==3&&Bo(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Mc(this.g),delete this.g,Rn.aa.N.call(this)};function rh(d){_i.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(rh,_i);function ih(){Ec.call(this),this.status=1}C(ih,Ec);function Hr(d){this.g=d}C(Hr,nh),Hr.prototype.ua=function(){nt(this.g,"a")},Hr.prototype.ta=function(d){nt(this.g,new rh(d))},Hr.prototype.sa=function(d){nt(this.g,new ih)},Hr.prototype.ra=function(){nt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,WC=function(){return new Fo},YC=function(){return ls()},KC=Or,Tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Cd=fs,bi.COMPLETE="complete",$C=bi,bc.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Du=bc,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,GC=et}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const ES="@firebase/firestore",wS="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Im("@firebase/firestore");function El(){return fo.logLevel}function ye(t,...e){if(fo.logLevel<=qe.DEBUG){const n=e.map(K0);fo.debug(`Firestore (${tc}): ${t}`,...n)}}function Zi(t,...e){if(fo.logLevel<=qe.ERROR){const n=e.map(K0);fo.error(`Firestore (${tc}): ${t}`,...n)}}function Bl(t,...e){if(fo.logLevel<=qe.WARN){const n=e.map(K0);fo.warn(`Firestore (${tc}): ${t}`,...n)}}function K0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XC(t,r,n)}function XC(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zi(r),new Error(r)}function tt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||XC(e,a,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class g4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class y4{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new QC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class v4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new v4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=E4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Sv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return Py(a)===Py(o)?Ge(a,o):Py(a)?1:-1}return Ge(t.length,e.length)}const w4=55296,T4=57343;function Py(t){const e=t.charCodeAt(0);return e>=w4&&e<=T4}function zl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Xr.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),a=Xr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):Sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class ht extends Xr{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Xr{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SS}static keyField(){return new fn([SS])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(o(),a++)}if(o(),c)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ht.fromString(e))}static fromName(e){return new xe(ht.fromString(e).popFirst(5))}static empty(){return new xe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e,n){if(!n)throw new ve(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A4(t,e,n,r){if(e===!0&&r===!0)throw new ve(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!xe.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xS(t){if(xe.isDocumentKey(t))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function bf(t,e){if(!JC(t))throw new ve(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=-62135596800,CS=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CS);return new dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RS)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CS}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bf(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Ft("string",dt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new dt(0,0))}static max(){return new Me(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function x4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Js(a,xe.empty(),e)}function R4(t){return new Js(t.readTime,t.key,Xu)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(Me.min(),xe.empty(),Xu)}static max(){return new Js(Me.max(),xe.empty(),Xu)}}function C4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==I4)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let a=0,o=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++o,c&&o===a&&n()}),(h=>r(h)))})),c=!0,o===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((a=>a?ue.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,a)=>{const o=e.length,c=new Array(o);let f=0;for(let h=0;h<o;h++){const m=h;n(e[m]).next((g=>{c[m]=g,++f,f===o&&r(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new ue(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function P4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-1;function Om(t){return t==null}function Qd(t){return t===0&&1/t==-1/0}function N4(t){return typeof t=="number"&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="";function M4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IS(e)),e=O4(t.get(n),e);return IS(e)}function O4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case e1:n+="";break;default:n+=o}}return n}function IS(t){return t+e1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??un.RED,this.left=a??un.EMPTY,this.right=o??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new un(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PS(this.data.getIterator())}getIteratorFrom(e){return new PS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class PS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new n1("Invalid base64 string: "+o):o}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const k4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=k4.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="server_timestamp",i1="__type__",s1="__previous_value__",a1="__local_write_time__";function X0(t){return(t?.mapValue?.fields||{})[i1]?.stringValue===r1}function km(t){const e=t.mapValue.fields[s1];return X0(e)?km(e):e}function Qu(t){const e=ea(t.mapValue.fields[a1].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,a,o,c,f,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const Zd="(default)";class Zu{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="__type__",L4="__max__",ld={mapValue:{}},l1="__vector__",Jd="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X0(t)?4:j4(t)?9007199254740991:U4(t)?10:11:De(28295,{value:t})}function di(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=ea(a.timestampValue),f=ea(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return ta(a.bytesValue).isEqual(ta(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return It(a.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return It(a.integerValue)===It(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=It(a.doubleValue),f=It(o.doubleValue);return c===f?Qd(c)===Qd(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},f=o.mapValue.fields||{};if(DS(c)!==DS(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!di(c[h],f[h])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find((n=>di(n,e)))!==void 0}function Fl(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const f=It(o.integerValue||o.doubleValue),h=It(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(t,e);case 3:return NS(t.timestampValue,e.timestampValue);case 4:return NS(Qu(t),Qu(e));case 5:return Sv(t.stringValue,e.stringValue);case 6:return(function(o,c){const f=ta(o),h=ta(c);return f.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const f=o.split("/"),h=c.split("/");for(let m=0;m<f.length&&m<h.length;m++){const g=Ge(f[m],h[m]);if(g!==0)return g}return Ge(f.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const f=Ge(It(o.latitude),It(c.latitude));return f!==0?f:Ge(It(o.longitude),It(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MS(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const f=o.fields||{},h=c.fields||{},m=f[Jd]?.arrayValue,g=h[Jd]?.arrayValue,v=Ge(m?.values?.length||0,g?.values?.length||0);return v!==0?v:MS(m,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===ld.mapValue&&c===ld.mapValue)return 0;if(o===ld.mapValue)return 1;if(c===ld.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),m=c.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const b=Sv(h[v],g[v]);if(b!==0)return b;const S=Fl(f[h[v]],m[g[v]]);if(S!==0)return S}return Ge(h.length,g.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function NS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=ea(t),r=ea(e),a=Ge(n.seconds,r.seconds);return a!==0?a:Ge(n.nanos,r.nanos)}function MS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Fl(n[a],r[a]);if(o)return o}return Ge(n.length,r.length)}function Hl(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Av(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Av(n.fields[c])}`;return a+"}"})(t.mapValue):De(61005,{value:t})}function Id(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(t);return e?16+Id(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Id(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ca(r.fields,((o,c)=>{a+=o.length+Id(c)})),a})(t.mapValue);default:throw De(13486,{value:t})}}function OS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xv(t){return!!t&&"integerValue"in t}function Q0(t){return!!t&&"arrayValue"in t}function kS(t){return!!t&&"nullValue"in t}function VS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function U4(t){return(t?.mapValue?.fields||{})[o1]?.stringValue===l1}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function j4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=fn.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Uu(c):a.push(f.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Dd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ca(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new kn(Uu(this.value))}}function c1(t){const e=[];return ca(t.fields,((n,r)=>{const a=new fn([n]);if(Dd(r)){const o=c1(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,a,o,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new bn(e,0,Me.min(),Me.min(),Me.min(),kn.empty(),0)}static newFoundDocument(e,n,r,a){return new bn(e,1,n,Me.min(),r,a,0)}static newNoDocument(e,n){return new bn(e,2,n,Me.min(),Me.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Me.min(),Me.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.position=e,this.inclusive=n}}function LS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(c.referenceValue),n.key):r=Fl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function US(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n="asc"){this.field=e,this.dir=n}}function B4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{}class zt extends u1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F4(e,n,r):n==="array-contains"?new G4(e,r):n==="in"?new $4(e,r):n==="not-in"?new K4(e,r):n==="array-contains-any"?new Y4(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H4(e,r):new q4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends u1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cr(e,n)}matches(e){return f1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(t){return t.op==="and"}function h1(t){return z4(t)&&f1(t)}function z4(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function Rv(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(h1(t))return t.filters.map((e=>Rv(e))).join(",");{const e=t.filters.map((n=>Rv(n))).join(",");return`${t.op}(${e})`}}function d1(t,e){return t instanceof zt?(function(r,a){return a instanceof zt&&r.op===a.op&&r.field.isEqual(a.field)&&di(r.value,a.value)})(t,e):t instanceof Cr?(function(r,a){return a instanceof Cr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,f)=>o&&d1(c,a.filters[f])),!0):!1})(t,e):void De(19439)}function m1(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`})(t):t instanceof Cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"})(t):"Filter"}class F4 extends zt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class H4 extends zt{constructor(e,n){super(e,"in",n),this.keys=p1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class q4 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=p1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function p1(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class G4 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q0(n)&&Ju(n.arrayValue,this.value)}}class $4 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class K4 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class Y4 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ju(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n=null,r=[],a=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=f,this.Te=null}}function jS(t,e=null,n=[],r=[],a=null,o=null,c=null){return new W4(t,e,n,r,a,o,c)}function Z0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Hl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Hl(r))).join(",")),e.Te=n}return e.Te}function J0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!US(t.startAt,e.startAt)&&US(t.endAt,e.endAt)}function Cv(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n=null,r=[],a=[],o=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X4(t,e,n,r,a,o,c,f){return new Ef(t,e,n,r,a,o,c,f)}function e_(t){return new Ef(t)}function BS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g1(t){return t.collectionGroup!==null}function ju(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xt(fn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new tm(o,r))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new tm(fn.keyField(),r))}return e.Ie}function ni(t){const e=ke(t);return e.Ee||(e.Ee=Q4(e,ju(t))),e.Ee}function Q4(t,e){if(t.limitType==="F")return jS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new tm(a.field,o)}));const n=t.endAt?new em(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new em(t.startAt.position,t.startAt.inclusive):null;return jS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e){const n=t.filters.concat([e]);return new Ef(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dv(t,e,n){return new Ef(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return J0(ni(t),ni(e))&&t.limitType===e.limitType}function y1(t){return`${Z0(ni(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>m1(a))).join(", ")}]`),Om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Hl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Hl(a))).join(",")),`Target(${r})`})(ni(t))}; limitType=${t.limitType})`}function Lm(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of ju(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const m=LS(c,f,h);return c.inclusive?m<=0:m<0})(r.startAt,ju(r),a)||r.endAt&&!(function(c,f,h){const m=LS(c,f,h);return c.inclusive?m>=0:m>0})(r.endAt,ju(r),a))})(t,e)}function Z4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v1(t){return(e,n)=>{let r=!1;for(const a of ju(t)){const o=J4(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function J4(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(o,c,f){const h=c.data.field(o),m=f.data.field(o);return h!==null&&m!==null?Fl(h,m):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return t1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new bt(xe.comparator);function Ji(){return e3}const _1=new bt(xe.comparator);function Pu(...t){let e=_1;for(const n of t)e=e.insert(n.key,n);return e}function b1(t){let e=_1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function to(){return Bu()}function E1(){return Bu()}function Bu(){return new wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const t3=new bt(xe.comparator),n3=new Xt(xe.comparator);function $e(...t){let e=n3;for(const n of t)e=e.add(n);return e}const r3=new Xt(Ge);function i3(){return r3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function w1(t){return{integerValue:""+t}}function s3(t,e){return N4(e)?w1(e):t_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function a3(t,e,n){return t instanceof ef?(function(a,o){const c={fields:{[i1]:{stringValue:r1},[a1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&X0(o)&&(o=km(o)),o&&(c.fields[s1]=o),{mapValue:c}})(n,e):t instanceof tf?S1(t,e):t instanceof nf?A1(t,e):(function(a,o){const c=T1(a,o),f=zS(c)+zS(a.Ae);return xv(c)&&xv(a.Ae)?w1(f):t_(a.serializer,f)})(t,e)}function o3(t,e,n){return t instanceof tf?S1(t,e):t instanceof nf?A1(t,e):n}function T1(t,e){return t instanceof nm?(function(r){return xv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ef extends Um{}class tf extends Um{constructor(e){super(),this.elements=e}}function S1(t,e){const n=x1(e);for(const r of t.elements)n.some((a=>di(a,r)))||n.push(r);return{arrayValue:{values:n}}}class nf extends Um{constructor(e){super(),this.elements=e}}function A1(t,e){let n=x1(e);for(const r of t.elements)n=n.filter((a=>!di(a,r)));return{arrayValue:{values:n}}}class nm extends Um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zS(t){return It(t.integerValue||t.doubleValue)}function x1(t){return Q0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.field=e,this.transform=n}}function c3(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof tf&&a instanceof tf||r instanceof nf&&a instanceof nf?zl(r.elements,a.elements,di):r instanceof nm&&a instanceof nm?di(r.Ae,a.Ae):r instanceof ef&&a instanceof ef})(t.transform,e.transform)}class u3{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jm{}function R1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n_(t.key,mr.none()):new wf(t.key,t.data,mr.none());{const n=t.data,r=kn.empty();let a=new Xt(fn.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new ua(t.key,r,new Wn(a.toArray()),mr.none())}}function f3(t,e,n){t instanceof wf?(function(a,o,c){const f=a.value.clone(),h=HS(a.fieldTransforms,o,c.transformResults);f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ua?(function(a,o,c){if(!Pd(a.precondition,o))return void o.convertToUnknownDocument(c.version);const f=HS(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(C1(a)),h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function zu(t,e,n,r){return t instanceof wf?(function(o,c,f,h){if(!Pd(o.precondition,c))return f;const m=o.value.clone(),g=qS(o.fieldTransforms,h,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof ua?(function(o,c,f,h){if(!Pd(o.precondition,c))return f;const m=qS(o.fieldTransforms,h,c),g=c.data;return g.setAll(C1(o)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,c,f){return Pd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function h3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=T1(r.transform,a||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function FS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zl(r,a,((o,c)=>c3(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wf extends jm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends jm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function HS(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,f=e.data.field(o.field);r.set(o.field,o3(c,f,n[a]))}return r}function qS(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,a3(o,c,e))}return r}class n_ extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d3 extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&f3(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E1();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=n.has(a.key)?null:f;const h=R1(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,((n,r)=>FS(n,r)))&&zl(this.baseMutations,e.baseMutations,((n,r)=>FS(n,r)))}}class r_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return t3})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new r_(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Xe;function y3(t){switch(t){case ce.OK:return De(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function I1(t){if(t===void 0)return Zi("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Ut.OK:return ce.OK;case Ut.CANCELLED:return ce.CANCELLED;case Ut.UNKNOWN:return ce.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ce.INTERNAL;case Ut.UNAVAILABLE:return ce.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ce.NOT_FOUND;case Ut.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ut.ABORTED:return ce.ABORTED;case Ut.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ut.DATA_LOSS:return ce.DATA_LOSS;default:return De(39323,{code:t})}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Ws([4294967295,4294967295],0);function GS(t){const e=v3().encode(t),n=new qC;return n.update(e),new Uint8Array(n.digest())}function $S(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([a,o],0)]}class i_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nu(`Invalid padding: ${n}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ws.fromNumber(r)));return a.compare(_3)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GS(e),[r,a]=$S(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new i_(o,a,n);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=GS(e),[r,a]=$S(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Me.min(),a,new bt(Ge),Ji(),$e())}}class Tf{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tf(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class D1{constructor(e,n){this.targetId=e,this.Ce=n}}class P1{constructor(e,n,r=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class KS{constructor(){this.ve=0,this.Fe=YS(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:De(38017,{changeType:o})}})),new Tf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class b3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=cd(),this.He=cd(),this.Ye=new bt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Cv(o))if(r===0){const c=new xe(o.path);this.et(n,c,bn.newNoDocument(c,Me.min()))}else tt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,f;try{c=ta(r).toUint8Array()}catch(h){if(h instanceof n1)return Bl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new i_(c,a,o)}catch(h){return Bl(h instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const f=this.ot(c);if(f){if(o.current&&Cv(f.target)){const h=new xe(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,bn.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=$e();this.He.forEach(((o,c)=>{let f=!0;c.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Bm(e,n,this.Ye,this.je,r);return this.je=Ji(),this.Je=cd(),this.He=cd(),this.Ye=new bt(Ge),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new bt(xe.comparator)}function YS(){return new bt(xe.comparator)}const E3={asc:"ASCENDING",desc:"DESCENDING"},w3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T3={and:"AND",or:"OR"};class S3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pv(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A3(t,e){return rm(t,e.toTimestamp())}function ri(t){return tt(!!t,49232),Me.fromTimestamp((function(n){const r=ea(n);return new dt(r.seconds,r.nanos)})(t))}function s_(t,e){return Nv(t,e).canonicalString()}function Nv(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){const e=ht.fromString(t);return tt(U1(e),10190,{key:e.toString()}),e}function Mv(t,e){return s_(t.databaseId,e.path)}function Ny(t,e){const n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(k1(n))}function O1(t,e){return s_(t.databaseId,e)}function x3(t){const e=M1(t);return e.length===4?ht.emptyPath():k1(e)}function Ov(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k1(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WS(t,e,n){return{name:Mv(t,e),fields:n.value.mapValue.fields}}function R3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,g){return m.useProto3Json?(tt(g===void 0||typeof g=="string",58123),hn.fromBase64String(g||"")):(tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),hn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const g=m.code===void 0?ce.UNKNOWN:I1(m.code);return new ve(g,m.message||"")})(c);n=new P1(r,a,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ny(t,r.document.name),o=ri(r.document.updateTime),c=r.document.createTime?ri(r.document.createTime):Me.min(),f=new kn({mapValue:{fields:r.document.fields}}),h=bn.newFoundDocument(a,o,c,f),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Nd(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ny(t,r.document),o=r.readTime?ri(r.readTime):Me.min(),c=bn.newNoDocument(a,o),f=r.removedTargetIds||[];n=new Nd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ny(t,r.document),o=r.removedTargetIds||[];n=new Nd([],o,a,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new g3(a,o),f=r.targetId;n=new D1(f,c)}}return n}function C3(t,e){let n;if(e instanceof wf)n={update:WS(t,e.key,e.value)};else if(e instanceof n_)n={delete:Mv(t,e.key)};else if(e instanceof ua)n={update:WS(t,e.key,e.data),updateMask:L3(e.fieldMask)};else{if(!(e instanceof d3))return De(16599,{Vt:e.type});n={verify:Mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const f=c.transform;if(f instanceof ef)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nm)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw De(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:A3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)})(t,e.precondition)),n}function I3(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?ri(a.updateTime):ri(o);return c.isEqual(Me.min())&&(c=ri(o)),new u3(c,a.transformResults||[])})(n,e)))):[]}function D3(t,e){return{documents:[O1(t,e.path)]}}function P3(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O1(t,a);const o=(function(m){if(m.length!==0)return L1(Cr.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((g=>(function(b){return{field:Tl(b.field),direction:O3(b.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Pv(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function N3(t){let e=x3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){tt(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const b=V1(v);return b instanceof Cr&&h1(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(C){return new tm(Sl(C.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let b;return b=typeof v=="object"?v.value:v,Om(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(v){const b=!!v.before,S=v.values||[];return new em(S,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const b=!v.before,S=v.values||[];return new em(S,b)})(n.endAt)),X4(e,a,c,o,f,"F",h,m)}function M3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sl(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Cr.create(n.compositeFilter.filters.map((r=>V1(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function O3(t){return E3[t]}function k3(t){return w3[t]}function V3(t){return T3[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return fn.fromServerFormat(t.fieldPath)}function L1(t){return t instanceof zt?(function(n){if(n.op==="=="){if(VS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(kS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(kS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:k3(n.op),value:n.value}}})(t):t instanceof Cr?(function(n){const r=n.getFilters().map((a=>L1(a)));return r.length===1?r[0]:{compositeFilter:{op:V3(n.op),filters:r}}})(t):De(54877,{filter:t})}function L3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,a,o=Me.min(),c=Me.min(),f=hn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.yt=e}}function j3(t){const e=N3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.Cn=new z3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Js.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class z3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Xt(ht.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Xt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j1=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(j1,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="LruGarbageCollector",F3=1048576;function ZS([t,e],[n,r]){const a=Ge(t,n);return a===0?Ge(e,r):a}class H3{constructor(e){this.Ir=e,this.buffer=new Xt(ZS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(QS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?ye(QS,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)}))}}class G3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Mm.ce);const r=new H3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(XS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,f,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,f=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),El()<=qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function $3(t,e){return new G3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.changes=new wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&zu(r.mutation,a,Wn.empty(),dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const a=to();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Pu();return o.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=to();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,r,a){let o=Ji();const c=Bu(),f=(function(){return Bu()})();return n.forEach(((h,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof ua)?o=o.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),zu(g.mutation,m,g.mutation.getFieldMask(),dt.now())):c.set(m.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>f.set(m,new Y3(g,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const r=Bu();let a=new bt(((c,f)=>c-f)),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Wn.empty();g=f.applyToLocalView(m,g),r.set(h,g);const v=(a.get(f.batchId)||$e()).add(h);a=a.insert(f.batchId,v)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,g=h.value,v=E1();g.forEach((b=>{if(!o.has(b)){const S=R1(n.get(b),r.get(b));S!==null&&v.set(b,S),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ue.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):ue.resolve(to());let f=Xu,h=o;return c.next((m=>ue.forEach(m,((g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),o.get(g)?ue.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{h=h.insert(g,b)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,h,m,$e()))).next((g=>({batchId:f,changes:b1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let a=Pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(e,o).next((f=>ue.forEach(f,(h=>{const m=(function(v,b){return new Ef(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((g=>{g.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((h,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,bn.newInvalidDocument(g)))}));let f=Pu();return c.forEach(((h,m)=>{const g=o.get(h);g!==void 0&&zu(g.mutation,m,Wn.empty(),dt.now()),Lm(n,m)&&(f=f.insert(h,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ri(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:j3(a.bundledQuery),readTime:ri(a.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.overlays=new bt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=to();return ue.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const a=to(),o=n.length+1,c=new xe(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new bt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=o.get(m.largestBatchId);g===null&&(g=to(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=to(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=a)););return ue.resolve(f)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new p3(n,r));let o=this.qr.get(n);o===void 0&&(o=$e(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Qr=new Xt(nn.$r),this.Ur=new Xt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new ht([])),r=new nn(n,e),a=new nn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ht([])),r=new nn(n,e),a=new nn(n,e+1);let o=$e();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(nn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new m3(o,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new nn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?W0:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);o.push(f)})),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Ge);return n.forEach((a=>{const o=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(f=>{r=r.add(f.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const c=new nn(new xe(o),0);let f=new Xt(Ge);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(f=f.add(h.Yr)),!0)}),c),ue.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(n.mutations,(a=>{const o=new nn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nn(n,0),a=this.Zr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.ri=e,this.docs=(function(){return new bt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=Ji();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():bn.newInvalidDocument(a))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ji();const c=n.path,f=new xe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||C4(R4(g),r)<=0||(a.has(g.key)||Lm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,r,a){De(9500)}ii(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tU(this)}getSize(e){return ue.resolve(this.size)}}class tU extends K3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.persistence=e,this.si=new wo((n=>Z0(n)),J0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new a_,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ue.waitFor(o).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new Z3,this.referenceDelegate=e(this),this.Pi=new nU(this),this.indexManager=new B3,this.remoteDocumentCache=(function(a){return new eU(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new U3(n),this.Ii=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new J3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const a=new rU(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rU extends D4{constructor(e){super(),this.currentSequenceNumber=e}}class o_{constructor(e){this.persistence=e,this.Ri=new a_,this.Vi=null}static mi(e){return new o_(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const a=xe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class im{constructor(e,n){this.persistence=e,this.pi=new wo((r=>M4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=$3(this,n)}static mi(e,n){return new im(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?ue.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(r++,o.removeEntry(c,Me.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}br(e,n,r){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ue.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=$e(),a=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new l_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ck()?8:P4(wn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new iU;return this.Ss(e,n,c).next((f=>{if(o.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(El()<=qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(El()<=qe.DEBUG&&ye("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(El()<=qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):ue.resolve())}ys(e,n){if(BS(n))return ue.resolve(null);let r=ni(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Dv(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=$e(...o);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const m=this.Ds(n,f);return this.Cs(n,m,c,h.readTime)?this.ys(e,Dv(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,r,a){return BS(n)||a.isEqual(Me.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?ue.resolve(null):(El()<=qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wl(n)),this.vs(e,c,n,x4(a,Xu)).next((f=>f)))}))}Ds(e,n){let r=new Xt(v1(e));return n.forEach(((a,o)=>{Lm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return El()<=qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LocalStore",aU=3e8;class oU{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new bt(Ge),this.xs=new wo((o=>Z0(o)),J0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lU(t,e,n,r){return new oU(t,e,n,r)}async function z1(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],f=[];let h=$e();for(const m of a){c.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of o){f.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function cU(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,m,g){const v=m.batch,b=v.keys();let S=ue.resolve();return b.forEach((C=>{S=S.next((()=>g.getEntry(h,C))).next((R=>{const x=m.docVersions.get(C);tt(x!==null,48541),R.version.compareTo(x)<0&&(v.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),g.addEntry(R)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=$e();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function F1(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uU(t,e){const n=ke(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((g,v)=>{const b=a.get(v);if(!b)return;f.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v))));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(hn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),a=a.insert(v,S),(function(R,x,O){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=aU?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,S,g)&&f.push(n.Pi.updateTargetData(o,S))}));let h=Ji(),m=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),f.push(fU(o,c,e.documentUpdates).next((g=>{h=g.ks,m=g.qs}))),!r.isEqual(Me.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));f.push(g)}return ue.waitFor(f).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,m))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function fU(t,e,n){let r=$e(),a=$e();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Ji();return n.forEach(((f,h)=>{const m=o.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(c_,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function hU(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=W0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dU(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,ue.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new $s(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function kv(t,e,n){const r=ke(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!rc(c))throw c;ye(c_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function JS(t,e,n){const r=ke(t);let a=Me.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,m,g){const v=ke(h),b=v.xs.get(g);return b!==void 0?ue.resolve(v.Ms.get(b)):v.Pi.getTargetData(m,g)})(r,c,ni(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?o:$e()))).next((f=>(mU(r,Z4(e),f),{documents:f,Qs:o})))))}function mU(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class eA{constructor(){this.activeTargetIds=i3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pU{constructor(){this.Mo=new eA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="ConnectivityMonitor";class nA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(tA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(tA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function Vv(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="RestConnection",yU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=Vv(),f=this.zo(e,n.toUriEncodedString());ye(My,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:m}=new URL(f),g=Jl(m);return this.Jo(e,f,h,r,g).then((v=>(ye(My,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Bl(My,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",r),v}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=yU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class bU extends vU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=Vv();return new Promise(((f,h)=>{const m=new GC;m.setWithCredentials(!0),m.listenOnce($C.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cd.NO_ERROR:const v=m.getResponseJson();ye(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case Cd.TIMEOUT:ye(vn,`RPC '${e}' ${c} timed out`),h(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const b=m.getStatus();if(ye(vn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S?.error;if(C&&C.status&&C.message){const R=(function(O){const P=O.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN})(C.status);h(new ve(R,C.message))}else h(new ve(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ye(vn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);ye(vn,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=Vv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=WC(),f=YC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=o.join("");ye(vn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const v=c.createWebChannel(g,h);this.I_(v);let b=!1,S=!1;const C=new _U({Yo:x=>{S?ye(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(b||(ye(vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ye(vn,`RPC '${e}' stream ${a} sending:`,x),v.send(x))},Zo:()=>v.close()}),R=(x,O,P)=>{x.listen(O,(V=>{try{P(V)}catch(G){setTimeout((()=>{throw G}),0)}}))};return R(v,Du.EventType.OPEN,(()=>{S||(ye(vn,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),R(v,Du.EventType.CLOSE,(()=>{S||(S=!0,ye(vn,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(v))})),R(v,Du.EventType.ERROR,(x=>{S||(S=!0,Bl(vn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),C.a_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))})),R(v,Du.EventType.MESSAGE,(x=>{if(!S){const O=x.data[0];tt(!!O,16349);const P=O,V=P?.error||P[0]?.error;if(V){ye(vn,`RPC '${e}' stream ${a} received error:`,V);const G=V.status;let q=(function(A){const k=Ut[A];if(k!==void 0)return I1(k)})(G),re=V.message;q===void 0&&(q=ce.INTERNAL,re="Unknown error status: "+G+" with message "+V.message),S=!0,C.a_(new ve(q,re)),v.close()}else ye(vn,`RPC '${e}' stream ${a} received:`,O),C.u_(O)}})),R(f,KC.STAT_EVENT,(x=>{x.stat===Tv.PROXY?ye(vn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===Tv.NOPROXY&&ye(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new S3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="PersistentStream";class q1{constructor(e,n,r,a,o,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ve(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(rA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(rA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EU extends q1{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Me.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?ri(c.readTime):Me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ov(this.serializer),n.addTarget=(function(o,c){let f;const h=c.target;if(f=Cv(h)?{documents:D3(o,h)}:{query:P3(o,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=N1(o,c.resumeToken);const m=Pv(o,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=rm(o,c.snapshotVersion.toTimestamp());const m=Pv(o,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=M3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.q_(n)}}class wU extends q1{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=I3(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ov(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>C3(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{}class SU extends TU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Nv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ce.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Nv(n,r),a,c,f,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class xU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{To(this)&&(ye(ho,"Restarting streams for network reachability change."),await(async function(h){const m=ke(h);m.Ea.add(4),await Sf(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Fm(m)})(this))}))})),this.Ra=new AU(r,a)}}async function Fm(t){if(To(t))for(const e of t.da)await e(!0)}async function Sf(t){for(const e of t.da)await e(!1)}function G1(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),d_(n)?h_(n):ic(n).O_()&&f_(n,e))}function u_(t,e){const n=ke(t),r=ic(n);n.Ia.delete(e),r.O_()&&$1(n,e),n.Ia.size===0&&(r.O_()?r.L_():To(n)&&n.Ra.set("Unknown"))}function f_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).Y_(e)}function $1(t,e){t.Va.Ue(e),ic(t).Z_(e)}function h_(t){t.Va=new b3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Ra.ua()}function d_(t){return To(t)&&!ic(t).x_()&&t.Ia.size>0}function To(t){return ke(t).Ea.size===0}function K1(t){t.Va=void 0}async function RU(t){t.Ra.set("Online")}async function CU(t){t.Ia.forEach(((e,n)=>{f_(t,e)}))}async function IU(t,e){K1(t),d_(t)?(t.Ra.ha(e),h_(t)):t.Ra.set("Unknown")}async function DU(t,e,n){if(t.Ra.set("Online"),e instanceof P1&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const f of o.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(r){ye(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sm(t,r)}else if(e instanceof Nd?t.Va.Ze(e):e instanceof D1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await F1(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const f=o.Va.Tt(c);return f.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(m);g&&o.Ia.set(m,g.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,m)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),$1(o,h);const v=new $s(g.target,h,m,g.sequenceNumber);f_(o,v)})),o.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(r){ye(ho,"Failed to raise snapshot:",r),await sm(t,r)}}async function sm(t,e,n){if(!rc(e))throw e;t.Ea.add(1),await Sf(t),t.Ra.set("Offline"),n||(n=()=>F1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fm(t)}))}function Y1(t,e){return e().catch((n=>sm(t,n,e)))}async function Hm(t){const e=ke(t),n=ra(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:W0;for(;PU(e);)try{const a=await hU(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,NU(e,a)}catch(a){await sm(e,a)}W1(e)&&X1(e)}function PU(t){return To(t)&&t.Ta.length<10}function NU(t,e){t.Ta.push(e);const n=ra(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W1(t){return To(t)&&!ra(t).x_()&&t.Ta.length>0}function X1(t){ra(t).start()}async function MU(t){ra(t).ra()}async function OU(t){const e=ra(t);for(const n of t.Ta)e.ea(n.mutations)}async function kU(t,e,n){const r=t.Ta.shift(),a=r_.from(r,e,n);await Y1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Hm(t)}async function VU(t,e){e&&ra(t).X_&&await(async function(r,a){if((function(c){return y3(c)&&c!==ce.ABORTED})(a.code)){const o=r.Ta.shift();ra(r).B_(),await Y1(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Hm(r)}})(t,e),W1(t)&&X1(t)}async function iA(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ye(ho,"RemoteStore received new credentials");const r=To(n);n.Ea.add(3),await Sf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fm(n)}async function LU(t,e){const n=ke(t);e?(n.Ea.delete(2),await Fm(n)):e||(n.Ea.add(2),await Sf(n),n.Ra.set("Unknown"))}function ic(t){return t.ma||(t.ma=(function(n,r,a){const o=ke(n);return o.sa(),new EU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:RU.bind(null,t),t_:CU.bind(null,t),r_:IU.bind(null,t),H_:DU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),d_(t)?h_(t):t.Ra.set("Unknown")):(await t.ma.stop(),K1(t))}))),t.ma}function ra(t){return t.fa||(t.fa=(function(n,r,a){const o=ke(n);return o.sa(),new wU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:MU.bind(null,t),r_:VU.bind(null,t),ta:OU.bind(null,t),na:kU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hm(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,f=new m_(e,n,c,a,o);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),rc(t))return new ve(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.ga=new bt(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Gl{constructor(e,n,r,a,o,c,f,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Gl(e,n,Nl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jU{constructor(){this.queries=aA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ke(n),o=a.queries;a.queries=aA(),o.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function aA(){return new wo((t=>y1(t)),Vm)}async function BU(t,e){const n=ke(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new UU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=p_(c,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&g_(n)}async function zU(t,e){const n=ke(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FU(t,e){const n=ke(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&g_(n)}function HU(t,e,n){const r=ke(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function g_(t){t.Ca.forEach((e=>{e.next()}))}var Lv,oA;(oA=Lv||(Lv={})).Ma="default",oA.Cache="cache";class qU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class GU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=v1(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sA,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const b=a.get(g),S=Lm(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;b&&S?b.data.isEqual(S.data)?C!==R&&(r.track({type:3,doc:S}),x=!0):this.su(b,S)||(r.track({type:2,doc:S}),x=!0,(h&&this.eu(S,h)>0||m&&this.eu(S,m)<0)&&(f=!0)):!b&&S?(r.track({type:0,doc:S}),x=!0):b&&!S&&(r.track({type:1,doc:b}),x=!0,(h||m)&&(f=!0)),x&&(S?(c=c.add(S),o=R?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Cs:f,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(S,C){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:x})}};return R(S)-R(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),a=a??!1;const f=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,m=h!==this.Za;return this.Za=h,c.length!==0||m?{snapshot:new Gl(this.query,e.tu,o,c,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Q1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class $U{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KU{constructor(e){this.key=e,this.hu=!1}}class YU{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wo((f=>y1(f)),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(xe.comparator),this.Au=new Map,this.Ru=new a_,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WU(t,e,n=!0){const r=iI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await J1(r,e,n,!0),a}async function XU(t,e){const n=iI(t);await J1(n,e,!0,!1)}async function J1(t,e,n,r){const a=await dU(t.localStore,ni(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let f;return r&&(f=await QU(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&G1(t.remoteStore,a),f}async function QU(t,e,n,r,a){t.pu=(v,b,S)=>(async function(R,x,O,P){let V=x.view.ru(O);V.Cs&&(V=await JS(R.localStore,x.query,!1).then((({documents:M})=>x.view.ru(M,V))));const G=P&&P.targetChanges.get(x.targetId),q=P&&P.targetMismatches.get(x.targetId)!=null,re=x.view.applyChanges(V,R.isPrimaryClient,G,q);return cA(R,x.targetId,re.au),re.snapshot})(t,v,b,S);const o=await JS(t.localStore,e,!0),c=new GU(e,o.Qs),f=c.ru(o.documents),h=Tf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=c.applyChanges(f,t.isPrimaryClient,h);cA(t,n,m.au);const g=new $U(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function ZU(t,e,n){const r=ke(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Vm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await kv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&u_(r.remoteStore,a.targetId),Uv(r,a.targetId)})).catch(nc)):(Uv(r,a.targetId),await kv(r.localStore,a.targetId,!0))}async function JU(t,e){const n=ke(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),u_(n.remoteStore,r.targetId))}async function e6(t,e,n){const r=o6(t);try{const a=await(function(c,f){const h=ke(c),m=dt.now(),g=f.reduce(((S,C)=>S.add(C.key)),$e());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=Ji(),R=$e();return h.Ns.getEntries(S,g).next((x=>{C=x,C.forEach(((O,P)=>{P.isValidDocument()||(R=R.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,C))).next((x=>{v=x;const O=[];for(const P of f){const V=h3(P,v.get(P.key).overlayedDocument);V!=null&&O.push(new ua(P.key,V,c1(V.value.mapValue),mr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,O,f)})).next((x=>{b=x;const O=x.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(S,x.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:b1(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let m=c.Vu[c.currentUser.toKey()];m||(m=new bt(Ge)),m=m.insert(f,h),c.Vu[c.currentUser.toKey()]=m})(r,a.batchId,n),await Af(r,a.changes),await Hm(r.remoteStore)}catch(a){const o=p_(a,"Failed to persist write");n.reject(o)}}async function eI(t,e){const n=ke(t);try{const r=await uU(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Af(n,r,e)}catch(r){await nc(r)}}function lA(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=ke(c);h.onlineState=f;let m=!1;h.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(f)&&(m=!0)})),m&&g_(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t6(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new bt(xe.comparator);c=c.insert(o,bn.newNoDocument(o,Me.min()));const f=$e().add(o),h=new Bm(Me.min(),new Map,new bt(Ge),c,f);await eI(r,h),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await kv(r.localStore,e,!1).then((()=>Uv(r,e,n))).catch(nc)}async function n6(t,e){const n=ke(t),r=e.batch.batchId;try{const a=await cU(n.localStore,e);nI(n,r,null),tI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,a)}catch(a){await nc(a)}}async function r6(t,e,n){const r=ke(t);try{const a=await(function(c,f){const h=ke(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return h.mutationQueue.lookupMutationBatch(m,f).next((v=>(tt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>h.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);nI(r,e,n),tI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,a)}catch(a){await nc(a)}}function tI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nI(t,e,n){const r=ke(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||rI(t,r)}))}function rI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(u_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function cA(t,e,n){for(const r of n)r instanceof Q1?(t.Ru.addReference(r.key,e),i6(t,r)):r instanceof Z1?(ye(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rI(t,r.key)):De(19791,{wu:r})}function i6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ye(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ht.fromString(e)),r=t.fu.next();t.Au.set(r,new KU(n)),t.du=t.du.insert(n,r),G1(t.remoteStore,new $s(ni(e_(n.path)),r,"TargetPurposeLimboResolution",Mm.ce))}}async function Af(t,e,n){const r=ke(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){a.push(m);const g=l_.As(h.targetId,m);o.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,m){const g=ke(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(m,(b=>ue.forEach(b.Es,(S=>g.persistence.referenceDelegate.addReference(v,b.targetId,S))).next((()=>ue.forEach(b.ds,(S=>g.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))))))}catch(v){if(!rc(v))throw v;ye(c_,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const S=g.Ms.get(b),C=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(b,R)}}})(r.localStore,o))}async function s6(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ye(y_,"User change. New user:",e.toKey());const r=await z1(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((f=>{f.forEach((h=>{h.reject(new ve(ce.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.Ls)}}function a6(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let a=$e();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function iI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t6.bind(null,e),e.Pu.H_=FU.bind(null,e.eventManager),e.Pu.yu=HU.bind(null,e.eventManager),e}function o6(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r6.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lU(this.persistence,new sU,e.initialUser,this.serializer)}Cu(e){return new B1(o_.mi,this.serializer)}Du(e){return new pU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class l6 extends am{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof im,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new B1((r=>im.mi(r,n)),this.serializer)}}class jv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s6.bind(null,this.syncEngine),await LU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jU})()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=(function(o){return new bU(o)})(e.databaseInfo);return(function(o,c,f,h){return new SU(o,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,f){return new xU(r,a,o,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>lA(this.syncEngine,n,0)),(function(){return nA.v()?new nA:new gU})())}createSyncEngine(e,n){return(function(a,o,c,f,h,m,g){const v=new YU(a,o,c,f,h,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ye(ho,"RemoteStore shutting down."),r.Ea.add(5),await Sf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="FirestoreClient";class u6{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ye(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=p_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ky(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await z1(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f6(t);ye(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>iA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>iA(e.remoteStore,a))),t._onlineComponents=e}async function f6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ia,"Using user provided OfflineComponentProvider");try{await ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await ky(t,new am)}}else ye(ia,"Using default OfflineComponentProvider"),await ky(t,new l6(void 0));return t._offlineComponents}async function sI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ia,"Using user provided OnlineComponentProvider"),await uA(t,t._uninitializedComponentsProvider._online)):(ye(ia,"Using default OnlineComponentProvider"),await uA(t,new jv))),t._onlineComponents}function h6(t){return sI(t).then((e=>e.syncEngine))}async function fA(t){const e=await sI(t),n=e.eventManager;return n.onListen=WU.bind(null,e.syncEngine),n.onUnlisten=ZU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JU.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firestore.googleapis.com",dA=!0;class mA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oI,this.ssl=dA}else this.host=e.host,this.ssl=e.ssl??dA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F3)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new p4;switch(r.type){case"firstParty":return new _4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hA.get(n);r&&(ye("ComponentProvider","Removing Datastore"),hA.delete(n),r.terminate())})(this),Promise.resolve()}}function d6(t,e,n,r={}){t=ti(t,qm);const a=Jl(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(fC(`https://${f}`),hC("Firestore",!0)),o.host!==oI&&o.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:f,ssl:a,emulatorOptions:r};if(!Zs(h,c)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=_n.MOCK_USER;else{m=bk(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _n(v)}t._authCredentials=new g4(new QC(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bf(n,Dt._jsonSchema))return new Dt(e,r||null,new xe(ht.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ft("string",Dt._jsonSchemaVersion),referencePath:Ft("string")};class Xs extends sc{constructor(e,n,r){super(e,n,e_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new xe(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function so(t,e,...n){if(t=Pt(t),ZC("collection","path",e),t instanceof qm){const r=ht.fromString(e,...n);return xS(r),new Xs(t,null,r)}{if(!(t instanceof Dt||t instanceof Xs))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return xS(r),new Xs(t.firestore,null,r)}}function Bs(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Y0.newId()),ZC("doc","path",e),t instanceof qm){const r=ht.fromString(e,...n);return AS(r),new Dt(t,null,new xe(r))}{if(!(t instanceof Dt||t instanceof Xs))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return AS(r),new Dt(t.firestore,t instanceof Xs?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="AsyncQueue";class gA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H1(this,"async_queue_retry"),this._c=()=>{const r=Oy();r&&ye(pA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new io;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rc(e))throw e;ye(pA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",yA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=m_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:yA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class mo extends qm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new gA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gA(e),this._firestoreClient=void 0,await e}}}function m6(t,e){const n=typeof t=="object"?t:z0(),r=typeof t=="string"?t:Zd,a=Eo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=vk("firestore");o&&d6(a,...o)}return a}function lI(t){if(t._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p6(t),t._firestoreClient}function p6(t){const e=t._freezeSettings(),n=(function(a,o,c,f){return new V4(a,o,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,aI(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new u6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(hn.fromBase64String(e))}catch(n){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bf(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:Ft("string",hr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(bf(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Ft("string",ii._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bf(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new ve(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^__.*__$/;class y6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new wf(e,this.data,n,this.fieldTransforms)}}class cI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class __{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new __({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return om(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uI(this.Ac)&&g6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}Cc(e,n,r,a=!1){return new __({Ac:e,methodName:n,Dc:r,path:fn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new v6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fI(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);E_("Data must be an object, but it was:",c,r);const f=hI(r,c);let h,m;if(o.merge)h=new Wn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const b=Bv(e,v,n);if(!c.contains(b))throw new ve(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);mI(g,b)||g.push(b)}h=new Wn(g),m=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,m=c.fieldTransforms;return new y6(new kn(f),h,m)}class Ym extends $m{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}class b_ extends $m{_toFieldTransform(e){return new l3(e.path,new ef)}isEqual(e){return e instanceof b_}}function _6(t,e,n,r){const a=t.Cc(1,e,n);E_("Data must be an object, but it was:",a,r);const o=[],c=kn.empty();ca(r,((h,m)=>{const g=w_(e,h,n);m=Pt(m);const v=a.yc(g);if(m instanceof Ym)o.push(g);else{const b=xf(m,v);b!=null&&(o.push(g),c.set(g,b))}}));const f=new Wn(o);return new cI(c,f,a.fieldTransforms)}function b6(t,e,n,r,a,o){const c=t.Cc(1,e,n),f=[Bv(e,r,n)],h=[a];if(o.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)f.push(Bv(e,o[b])),h.push(o[b+1]);const m=[],g=kn.empty();for(let b=f.length-1;b>=0;--b)if(!mI(m,f[b])){const S=f[b];let C=h[b];C=Pt(C);const R=c.yc(S);if(C instanceof Ym)m.push(S);else{const x=xf(C,R);x!=null&&(m.push(S),g.set(S,x))}}const v=new Wn(m);return new cI(g,v,c.fieldTransforms)}function E6(t,e,n,r=!1){return xf(n,t.Cc(r?4:3,e))}function xf(t,e){if(dI(t=Pt(t)))return E_("Unsupported field value:",e,t),hI(t,e);if(t instanceof $m)return(function(r,a){if(!uI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const f of r){let h=xf(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:rm(a.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rm(a.serializer,o)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hr)return{bytesValue:N1(a.serializer,r._byteString)};if(r instanceof Dt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof si)return(function(c,f){return{mapValue:{fields:{[o1]:{stringValue:l1},[Jd]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return t_(f.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function hI(t,e){const n={};return t1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,((r,a)=>{const o=xf(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function dI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof ii||t instanceof hr||t instanceof Dt||t instanceof $m||t instanceof si)}function E_(t,e,n){if(!dI(n)||!JC(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Bv(t,e,n){if((e=Pt(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return w_(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const w6=new RegExp("[~\\*/\\[\\]]");function w_(t,e,n){if(e.search(w6)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new ve(ce.INVALID_ARGUMENT,f+t+h)}function mI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T6 extends pI{data(){return super.data()}}function T_(t,e){return typeof e=="string"?w_(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class A6 extends S_{}function x6(t,e,...n){let r=[];e instanceof S_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((h=>h instanceof A_)).length,f=o.filter((h=>h instanceof Wm)).length;if(c>1||c>0&&f>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Wm extends A6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wm(e,n,r)}_apply(e){const n=this._parse(e);return gI(e._query,n),new sc(e.firestore,e.converter,Iv(e._query,n))}_parse(e){const n=Km(e.firestore);return(function(o,c,f,h,m,g,v){let b;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){EA(v,g);const C=[];for(const R of v)C.push(bA(h,o,R));b={arrayValue:{values:C}}}else b=bA(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||EA(v,g),b=E6(f,c,v,g==="in"||g==="not-in");return zt.create(m,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _A(t,e,n){const r=e,a=T_("where",t);return Wm._create(a,r,n)}class A_ extends S_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new A_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const f=o.getFlattenedFilters();for(const h of f)gI(c,h),c=Iv(c,h)})(e._query,n),new sc(e.firestore,e.converter,Iv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bA(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g1(e)&&n.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!xe.isDocumentKey(r))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OS(t,new xe(r))}if(n instanceof Dt)return OS(t,n._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function EA(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gI(t,e){const n=(function(a,o){for(const c of a)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class R6{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ca(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map((r=>It(r.doubleValue)));return new si(n)}convertGeoPoint(e){return new ii(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=ea(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);tt(U1(r),9688,{name:e});const a=new Zu(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return a.isEqual(n)||Zi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends pI{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:Ft("string",ao._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Md extends ao{data(e={}){return super.data(e)}}class Ml{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new Md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Mu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new Md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Mu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:C6(f.type),doc:h,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}Ml._jsonSchemaVersion="firestore/querySnapshot/1.0",Ml._jsonSchema={type:Ft("string",Ml._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class vI extends R6{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function I6(t,e,n){t=ti(t,Dt);const r=ti(t.firestore,mo),a=yI(t.converter,e);return Xm(r,[fI(Km(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,mr.none())])}function zv(t,e,n,...r){t=ti(t,Dt);const a=ti(t.firestore,mo),o=Km(a);let c;return c=typeof(e=Pt(e))=="string"||e instanceof Gm?b6(o,"updateDoc",t._key,e,n,r):_6(o,"updateDoc",t._key,e),Xm(a,[c.toMutation(t._key,mr.exists(!0))])}function Fv(t){return Xm(ti(t.firestore,mo),[new n_(t._key,mr.none())])}function _I(t,e){const n=ti(t.firestore,mo),r=Bs(t),a=yI(t.converter,e);return Xm(n,[fI(Km(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then((()=>r))}function rf(t,...e){t=Pt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vA(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vA(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,c,f;if(t instanceof Dt)c=ti(t.firestore,mo),f=e_(t._key.path),o={next:h=>{e[r]&&e[r](D6(c,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ti(t,sc);c=ti(h.firestore,mo),f=h._query;const m=new vI(c);o={next:g=>{e[r]&&e[r](new Ml(c,m,h,g))},error:e[r+1],complete:e[r+2]},S6(t._query)}return(function(m,g,v,b){const S=new c6(b),C=new qU(g,S,v);return m.asyncQueue.enqueueAndForget((async()=>BU(await fA(m),C))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>zU(await fA(m),C)))}})(lI(c),f,a,o)}function Xm(t,e){return(function(r,a){const o=new io;return r.asyncQueue.enqueueAndForget((async()=>e6(await h6(r),a,o))),o.promise})(lI(t),e)}function D6(t,e,n){const r=n.docs.get(e._key),a=new vI(t);return new ao(t,a,e._key,r,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}function $i(){return new b_("serverTimestamp")}(function(e,n=!0){(function(a){tc=a})(ec),hi(new Rr("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),f=new mo(new y4(r.getProvider("auth-internal")),new b4(c,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(m.options.projectId,g)})(c,a),c);return o={useFetchStreams:n,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),dr(ES,wS,e),dr(ES,wS,"esm2020")})();function bI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P6=bI,EI=new bo("auth","Firebase",bI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Im("@firebase/auth");function N6(t,...e){lm.logLevel<=qe.WARN&&lm.warn(`Auth (${ec}): ${t}`,...e)}function Od(t,...e){lm.logLevel<=qe.ERROR&&lm.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw x_(t,...e)}function ai(t,...e){return x_(t,...e)}function wI(t,e,n){const r={...P6(),[e]:n};return new bo("auth","Firebase",r).create(e,{appName:t.name})}function Qs(t){return wI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EI.create(t,...e)}function Ie(t,e,...n){if(!t)throw x_(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function es(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return typeof self<"u"&&self.location?.href||""}function M6(){return wA()==="http:"||wA()==="https:"}function wA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M6()||dC()||"connection"in navigator)?navigator.onLine:!0}function k6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=Tk()||xk()}get(){return O6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U6=new Rf(3e4,6e4);function So(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fa(t,e,n,r,a={}){return SI(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const f=_f({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...o};return Ak()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(m.credentials="include"),TI.fetch()(await AI(t,t.config.apiHost,n,f),m)})}async function SI(t,e,n){t._canInitEmulator=!1;const r={...V6,...e};try{const a=new B6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw fd(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw fd(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw wI(t,g,m);Ir(t,g)}}catch(a){if(a instanceof Mr)throw a;Ir(t,"network-request-failed",{message:String(a)})}}async function Qm(t,e,n,r,a={}){const o=await fa(t,e,n,r,a);return"mfaPendingCredential"in o&&Ir(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function AI(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?R_(t.config,a):`${t.config.apiScheme}://${a}`;return L6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function j6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),U6.get())})}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ai(t,e,r);return a.customData._tokenResponse=n,a}function TA(t){return t!==void 0&&t.enterprise!==void 0}class z6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F6(t,e){return fa(t,"GET","/v2/recaptchaConfig",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){return fa(t,"POST","/v1/accounts:delete",e)}async function cm(t,e){return fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q6(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),a=C_(r);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Fu(Vy(a.auth_time)),issuedAtTime:Fu(Vy(a.iat)),expirationTime:Fu(Vy(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vy(t){return Number(t)*1e3}function C_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const a=oC(n);return a?JSON.parse(a):(Od("Failed to decode base64 JWT payload"),null)}catch(a){return Od("Caught error parsing JWT payload as JSON",a?.toString()),null}}function SA(t){const e=C_(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&G6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(t){const e=t.auth,n=await t.getIdToken(),r=await sf(t,cm(e,{idToken:n}));Ie(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?xI(a.providerUserInfo):[],c=Y6(t.providerData,o),f=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,m=f?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new qv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function K6(t){const e=Pt(t);await um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function xI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){const n=await SI(t,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await AI(t,a,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(h.credentials="include"),TI.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X6(t,e){return fa(t,"POST","/v2/accounts:revokeToken",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=SA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await W6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Ol;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ie(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new $6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sf(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q6(this,e)}reload(){return K6(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await sf(this,H6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:S,providerData:C,stsTokenManager:R}=n;Ie(v&&R,e,"internal-error");const x=Ol.fromJSON(this.name,R);Ie(typeof v=="string",e,"internal-error"),Vs(r,e.name),Vs(a,e.name),Ie(typeof b=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),Vs(o,e.name),Vs(c,e.name),Vs(f,e.name),Vs(h,e.name),Vs(m,e.name),Vs(g,e.name);const O=new Ar({uid:v,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:f,stsTokenManager:x,createdAt:m,lastLoginAt:g});return C&&Array.isArray(C)&&(O.providerData=C.map(P=>({...P}))),h&&(O._redirectEventId=h),O}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ol;a.updateFromServerResponse(n);const o=new Ar({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await um(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?xI(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,f=new Ol;f.updateFromIdToken(r);const h=new Ar({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new qv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Map;function Yi(t){es(t instanceof Function,"Expected a class definition");let e=AA.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const xA=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=kd(this.userKey,a.apiKey,o),this.fullPersistenceKey=kd("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cm(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(Yi(xA),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Yi(xA);const c=kd(r,e.config.apiKey,e.name);let f=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const b=await cm(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Ar._fromGetAccountInfoResponse(e,b,g)}else v=Ar._fromJSON(e,g);m!==o&&(f=v),o=m;break}}catch{}const h=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new kl(o,e,r):(o=h[0],f&&await o._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MI(e))return"Blackberry";if(OI(e))return"Webos";if(II(e))return"Safari";if((e.includes("chrome/")||DI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CI(t=wn()){return/firefox\//i.test(t)}function II(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DI(t=wn()){return/crios\//i.test(t)}function PI(t=wn()){return/iemobile/i.test(t)}function NI(t=wn()){return/android/i.test(t)}function MI(t=wn()){return/blackberry/i.test(t)}function OI(t=wn()){return/webos/i.test(t)}function I_(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q6(t=wn()){return I_(t)&&!!window.navigator?.standalone}function Z6(){return Rk()&&document.documentMode===10}function kI(t=wn()){return I_(t)||NI(t)||OI(t)||MI(t)||/windows phone/i.test(t)||PI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e=[]){let n;switch(t){case"Browser":n=RA(wn());break;case"Worker":n=`${RA(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,f)=>{try{const h=e(o);c(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e={}){return fa(t,"GET","/v2/passwordPolicy",So(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=6;class nj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CA(this),this.idTokenSubscription=new CA(this),this.beforeStateQueue=new J6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cm(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await um(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Qs(this));const n=e?Pt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ej(this),n=new nj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&N6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ac(t){return Pt(t)}class CA{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ok(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ij(t){Zm=t}function LI(t){return Zm.loadJS(t)}function sj(){return Zm.recaptchaEnterpriseScript}function aj(){return Zm.gapiScript}function oj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lj{constructor(){this.enterprise=new cj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uj="recaptcha-enterprise",UI="NO_RECAPTCHA";class fj{constructor(e){this.type=uj,this.auth=ac(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,f)=>{F6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new z6(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{f(h)})})}function a(o,c,f){const h=window.grecaptcha;TA(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(UI)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lj().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(f=>{if(!n&&TA(window.grecaptcha))a(f,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=sj();h.length!==0&&(h+=f),LI(h).then(()=>{a(f,o,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function IA(t,e,n,r=!1,a=!1){const o=new fj(t);let c;if(a)c=UI;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function DA(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await IA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IA(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t,e){const n=Eo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(Zs(o,e??{}))return a;Ir(a,"already-initialized")}return n.initialize({options:e})}function dj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mj(t,e,n){const r=ac(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=jI(e),{host:c,port:f}=pj(e),h=f===null?"":`:${f}`,m={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Zs(m,r.config.emulator)&&Zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Jl(c)?(fC(`${o}//${c}${h}`),hC("Auth",!0)):gj()}function jI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pj(t){const e=jI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:PA(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:PA(c)}}}function PA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function yj(t,e){return fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return Qm(t,"POST","/v1/accounts:signInWithPassword",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return Qm(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}async function bj(t,e){return Qm(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends D_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DA(e,n,"signInWithPassword",vj);case"emailLink":return _j(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DA(e,r,"signUpPassword",yj);case"emailLink":return bj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return Qm(t,"POST","/v1/accounts:signInWithIdp",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="http://localhost";class po extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new po(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:Ej,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tj(t){const e=Cu(Iu(t)).link,n=e?Cu(Iu(e)).deep_link_id:null,r=Cu(Iu(t)).deep_link_id;return(r?Cu(Iu(r)).link:null)||r||n||e||t}class P_{constructor(e){const n=Cu(Iu(e)),r=n.apiKey??null,a=n.oobCode??null,o=wj(n.mode??null);Ie(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Tj(e);try{return new P_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return af._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=P_.parseLink(n);return Ie(r,"argument-error"),af._fromEmailAndCode(e,r.code,r.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends BI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Cf{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Cf{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Cf{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ar._fromIdTokenResponse(e,r,a),c=NA(r);return new $l({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=NA(r);return new $l({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function NA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends Mr{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new fm(e,n,r,a)}}function zI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(t,o,e,r):o})}async function Sj(t,e,n=!1){const r=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(Qs(r));const a="reauthenticate";try{const o=await sf(t,zI(r,a,e,t),n);Ie(o.idToken,r,"internal-error");const c=C_(o.idToken);Ie(c,r,"internal-error");const{sub:f}=c;return Ie(t.uid===f,r,"user-mismatch"),$l._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e,n=!1){if(Sr(t.app))return Promise.reject(Qs(t));const r="signIn",a=await zI(t,r,e),o=await $l._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function xj(t,e){return FI(ac(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t){const e=ac(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Cj(t,e,n){return Sr(t.app)?Promise.reject(Qs(t)):xj(Pt(t),oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rj(t),r})}function Ij(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function Dj(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function Pj(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function Nj(t){return Pt(t).signOut()}const hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=1e3,Oj=10;class qI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);Z6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Oj):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const kj=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GI.type="SESSION";const $I=GI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,o)),h=await Vj(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((f,h)=>{const m=N_("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(b.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function Uj(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function jj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bj(){return navigator?.serviceWorker?.controller||null}function zj(){return KI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",Fj=1,dm="firebaseLocalStorage",WI="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ep(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function Hj(){const t=indexedDB.deleteDatabase(YI);return new If(t).toPromise()}function Gv(){const t=indexedDB.open(YI,Fj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:WI})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await Hj(),e(await Gv()))})})}async function MA(t,e,n){const r=ep(t,!0).put({[WI]:e,value:n});return new If(r).toPromise()}async function qj(t,e){const n=ep(t,!1).get(e),r=await new If(n).toPromise();return r===void 0?null:r.value}function OA(t,e){const n=ep(t,!0).delete(e);return new If(n).toPromise()}const Gj=800,$j=3;class XI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$j)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(zj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gv();return await MA(e,hm,"1"),await OA(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ep(a,!1).getAll();return new If(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XI.type="LOCAL";const Kj=XI;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e){return e?Yi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wj(t){return FI(t.auth,new M_(t),t.bypassAuthState)}function Xj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Aj(n,new M_(t),t.bypassAuthState)}async function Qj(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Sj(n,new M_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return Qj;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:Ir(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Rf(2e3,1e4);class Al extends QI{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=N_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zj.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="pendingRedirect",Vd=new Map;class e9 extends QI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await t9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t9(t,e){const n=i9(e),r=r9(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function n9(t,e){Vd.set(t._key(),e)}function r9(t){return Yi(t._redirectPersistence)}function i9(t){return kd(Jj,t.config.apiKey,t.name)}async function s9(t,e,n=!1){if(Sr(t.app))return Promise.reject(Qs(t));const r=ac(t),a=Yj(r,e),c=await new e9(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=600*1e3;class o9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a9&&this.cachedEventUids.clear(),this.cachedEventUids.has(kA(e))}saveEventToCache(e){this.cachedEventUids.add(kA(e)),this.lastProcessedEventTime=Date.now()}}function kA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function l9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e={}){return fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f9=/^https?/;async function h9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c9(t);for(const n of e)try{if(d9(n))return}catch{}Ir(t,"unauthorized-domain")}function d9(t){const e=Hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!f9.test(n))return!1;if(u9.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new Rf(3e4,6e4);function VA(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p9(t){return new Promise((e,n)=>{function r(){VA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VA(),n(ai(t,"network-request-failed"))},timeout:m9.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)r();else{const a=oj("iframefcb");return oi()[a]=()=>{gapi.load?r():n(ai(t,"network-request-failed"))},LI(`${aj()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function g9(t){return Ld=Ld||p9(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=new Rf(5e3,15e3),v9="__/auth/iframe",_9="emulator/auth/iframe",b9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w9(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?R_(e,_9):`https://${t.config.authDomain}/${v9}`,r={apiKey:e.apiKey,appName:t.name,v:ec},a=E9.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_f(r).slice(1)}`}async function T9(t){const e=await g9(t),n=oi().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:w9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b9,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=ai(t,"network-request-failed"),f=oi().setTimeout(()=>{o(c)},y9.get());function h(){oi().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A9=500,x9=600,R9="_blank",C9="http://localhost";class LA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I9(t,e,n,r=A9,a=x9){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...S9,width:r.toString(),height:a.toString(),top:o,left:c},m=wn().toLowerCase();n&&(f=DI(m)?R9:n),CI(m)&&(e=e||C9,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[S,C])=>`${b}${S}=${C},`,"");if(Q6(m)&&f!=="_self")return D9(e||"",f),new LA(null);const v=window.open(e||"",f,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new LA(v)}function D9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="__/auth/handler",N9="emulator/auth/handler",M9=encodeURIComponent("fac");async function UA(t,e,n,r,a,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:a};if(e instanceof BI){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Mk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof Cf){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await t._getAppCheckToken(),m=h?`#${M9}=${encodeURIComponent(h)}`:"";return`${O9(t)}?${_f(f).slice(1)}${m}`}function O9({config:t}){return t.emulator?R_(t,N9):`https://${t.authDomain}/${P9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="webStorageSupport";class k9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=s9,this._overrideRedirectResult=n9}async _openPopup(e,n,r,a){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await UA(e,n,r,Hv(),a);return I9(e,o,N_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await UA(e,n,r,Hv(),a);return Uj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T9(e),r=new o9(e);return n.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ly,{type:Ly},a=>{const o=a?.[0]?.[Ly];o!==void 0&&n(!!o),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kI()||II()||I_()}}const V9=k9;var jA="@firebase/auth",BA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j9(t){hi(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(t)},m=new rj(r,a,o,h);return dj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hi(new Rr("auth-internal",e=>{const n=ac(e.getProvider("auth").getImmediate());return(r=>new L9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(jA,BA,U9(t)),dr(jA,BA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=300,z9=uC("authIdTokenMaxAge")||B9;let zA=null;const F9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z9)return;const a=n?.token;zA!==a&&(zA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function H9(t=z0()){const e=Eo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hj(t,{popupRedirectResolver:V9,persistence:[Kj,kj,$I]}),r=uC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=F9(o.toString());Dj(n,c,()=>c(n.currentUser)),Ij(n,f=>c(f))}}const a=lC("auth");return a&&mj(n,`http://${a}`),n}function q9(){return document.getElementsByTagName("head")?.[0]??document}ij({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=ai("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",q9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j9("Browser");const G9={apiKey:"AIzaSyDUK53kiF3T-sih9KHgLE1vacWVZnsEhl0",authDomain:"agenda-terapias-3f6b6.firebaseapp.com",projectId:"agenda-terapias-3f6b6",storageBucket:"agenda-terapias-3f6b6.firebasestorage.app",messagingSenderId:"352538854602",appId:"1:352538854602:web:19e8b7405bdbf7ab97a033",measurementId:"G-RJRKY7YELN"},O_=_C(G9);f4(O_);const On=m6(O_),Uy=H9(O_);let $9={data:""},K9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$9,Y9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,W9=/\/\*[^]*?\*\/|  +/g,FA=/\n+/g,Gs=(t,e)=>{let n="",r="",a="";for(let o in t){let c=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+c+";":r+=o[1]=="f"?Gs(c,o):o+"{"+Gs(c,o[1]=="k"?"":e)+"}":typeof c=="object"?r+=Gs(c,e?e.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Gs.p?Gs.p(o,c):o+":"+c+";")}return n+(e&&a?e+"{"+a+"}":a)+r},Hi={},JI=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+JI(t[n]);return e}return t},X9=(t,e,n,r,a)=>{let o=JI(t),c=Hi[o]||(Hi[o]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(o));if(!Hi[c]){let h=o!==t?t:(m=>{let g,v,b=[{}];for(;g=Y9.exec(m.replace(W9,""));)g[4]?b.shift():g[3]?(v=g[3].replace(FA," ").trim(),b.unshift(b[0][v]=b[0][v]||{})):b[0][g[1]]=g[2].replace(FA," ").trim();return b[0]})(t);Hi[c]=Gs(a?{["@keyframes "+c]:h}:h,n?"":"."+c)}let f=n&&Hi.g?Hi.g:null;return n&&(Hi.g=Hi[c]),((h,m,g,v)=>{v?m.data=m.data.replace(v,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(Hi[c],e,r,f),c},Q9=(t,e,n)=>t.reduce((r,a,o)=>{let c=e[o];if(c&&c.call){let f=c(n),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=h?"."+h:f&&typeof f=="object"?f.props?"":Gs(f,""):f===!1?"":f}return r+a+(c??"")},"");function tp(t){let e=this||{},n=t.call?t(e.p):t;return X9(n.unshift?n.raw?Q9(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,K9(e.target),e.g,e.o,e.k)}let eD,$v,Kv;tp.bind({g:1});let ts=tp.bind({k:1});function Z9(t,e,n,r){Gs.p=e,eD=t,$v=n,Kv=r}function ha(t,e){let n=this||{};return function(){let r=arguments;function a(o,c){let f=Object.assign({},o),h=f.className||a.className;n.p=Object.assign({theme:$v&&$v()},f),n.o=/ *go\d+/.test(h),f.className=tp.apply(n,r)+(h?" "+h:"");let m=t;return t[0]&&(m=f.as||t,delete f.as),Kv&&m[0]&&Kv(f),eD(m,f)}return a}}var J9=t=>typeof t=="function",mm=(t,e)=>J9(t)?t(e):t,e5=(()=>{let t=0;return()=>(++t).toString()})(),tD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),t5=20,k_="default",nD=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return nD(t,{type:t.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Ud=[],rD={toasts:[],pausedAt:void 0,settings:{toastLimit:t5}},Zr={},iD=(t,e=k_)=>{Zr[e]=nD(Zr[e]||rD,t),Ud.forEach(([n,r])=>{n===e&&r(Zr[e])})},sD=t=>Object.keys(Zr).forEach(e=>iD(t,e)),n5=t=>Object.keys(Zr).find(e=>Zr[e].toasts.some(n=>n.id===t)),np=(t=k_)=>e=>{iD(e,t)},r5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},i5=(t={},e=k_)=>{let[n,r]=w.useState(Zr[e]||rD),a=w.useRef(Zr[e]);w.useEffect(()=>(a.current!==Zr[e]&&r(Zr[e]),Ud.push([e,r]),()=>{let c=Ud.findIndex(([f])=>f===e);c>-1&&Ud.splice(c,1)}),[e]);let o=n.toasts.map(c=>{var f,h,m;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((f=t[c.type])==null?void 0:f.removeDelay)||t?.removeDelay,duration:c.duration||((h=t[c.type])==null?void 0:h.duration)||t?.duration||r5[c.type],style:{...t.style,...(m=t[c.type])==null?void 0:m.style,...c.style}}});return{...n,toasts:o}},s5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||e5()}),Df=t=>(e,n)=>{let r=s5(e,t,n);return np(r.toasterId||n5(r.id))({type:2,toast:r}),r.id},Wt=(t,e)=>Df("blank")(t,e);Wt.error=Df("error");Wt.success=Df("success");Wt.loading=Df("loading");Wt.custom=Df("custom");Wt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?np(e)(n):sD(n)};Wt.dismissAll=t=>Wt.dismiss(void 0,t);Wt.remove=(t,e)=>{let n={type:4,toastId:t};e?np(e)(n):sD(n)};Wt.removeAll=t=>Wt.remove(void 0,t);Wt.promise=(t,e,n)=>{let r=Wt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let o=e.success?mm(e.success,a):void 0;return o?Wt.success(o,{id:r,...n,...n?.success}):Wt.dismiss(r),a}).catch(a=>{let o=e.error?mm(e.error,a):void 0;o?Wt.error(o,{id:r,...n,...n?.error}):Wt.dismiss(r)}),t};var a5=1e3,o5=(t,e="default")=>{let{toasts:n,pausedAt:r}=i5(t,e),a=w.useRef(new Map).current,o=w.useCallback((v,b=a5)=>{if(a.has(v))return;let S=setTimeout(()=>{a.delete(v),c({type:4,toastId:v})},b);a.set(v,S)},[]);w.useEffect(()=>{if(r)return;let v=Date.now(),b=n.map(S=>{if(S.duration===1/0)return;let C=(S.duration||0)+S.pauseDuration-(v-S.createdAt);if(C<0){S.visible&&Wt.dismiss(S.id);return}return setTimeout(()=>Wt.dismiss(S.id,e),C)});return()=>{b.forEach(S=>S&&clearTimeout(S))}},[n,r,e]);let c=w.useCallback(np(e),[e]),f=w.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=w.useCallback((v,b)=>{c({type:1,toast:{id:v,height:b}})},[c]),m=w.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),g=w.useCallback((v,b)=>{let{reverseOrder:S=!1,gutter:C=8,defaultPosition:R}=b||{},x=n.filter(V=>(V.position||R)===(v.position||R)&&V.height),O=x.findIndex(V=>V.id===v.id),P=x.filter((V,G)=>G<O&&V.visible).length;return x.filter(V=>V.visible).slice(...S?[P+1]:[0,P]).reduce((V,G)=>V+(G.height||0)+C,0)},[n]);return w.useEffect(()=>{n.forEach(v=>{if(v.dismissed)o(v.id,v.removeDelay);else{let b=a.get(v.id);b&&(clearTimeout(b),a.delete(v.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:f,endPause:m,calculateOffset:g}}},l5=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,c5=ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u5=ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,f5=ha("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${c5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,h5=ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,d5=ha("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${h5} 1s linear infinite;
`,m5=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p5=ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,g5=ha("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,y5=ha("div")`
  position: absolute;
`,v5=ha("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_5=ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b5=ha("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E5=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(b5,null,e):e:n==="blank"?null:w.createElement(v5,null,w.createElement(d5,{...r}),n!=="loading"&&w.createElement(y5,null,n==="error"?w.createElement(f5,{...r}):w.createElement(g5,{...r})))},w5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,T5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,S5="0%{opacity:0;} 100%{opacity:1;}",A5="0%{opacity:1;} 100%{opacity:0;}",x5=ha("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R5=ha("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C5=(t,e)=>{let n=t.includes("top")?1:-1,[r,a]=tD()?[S5,A5]:[w5(n),T5(n)];return{animation:e?`${ts(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ts(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},I5=w.memo(({toast:t,position:e,style:n,children:r})=>{let a=t.height?C5(t.position||e||"top-center",t.visible):{opacity:0},o=w.createElement(E5,{toast:t}),c=w.createElement(R5,{...t.ariaProps},mm(t.message,t));return w.createElement(x5,{className:t.className,style:{...a,...n,...t.style}},typeof r=="function"?r({icon:o,message:c}):w.createElement(w.Fragment,null,o,c))});Z9(w.createElement);var D5=({id:t,className:e,style:n,onHeightUpdate:r,children:a})=>{let o=w.useCallback(c=>{if(c){let f=()=>{let h=c.getBoundingClientRect().height;r(t,h)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:o,className:e,style:n},a)},P5=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...a}},N5=tp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hd=16,M5=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:a,toasterId:o,containerStyle:c,containerClassName:f})=>{let{toasts:h,handlers:m}=o5(n,o);return w.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:hd,left:hd,right:hd,bottom:hd,pointerEvents:"none",...c},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let v=g.position||e,b=m.calculateOffset(g,{reverseOrder:t,gutter:r,defaultPosition:e}),S=P5(v,b);return w.createElement(D5,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?N5:"",style:S},g.type==="custom"?mm(g.message,g):a?a(g):w.createElement(I5,{toast:g,position:v}))}))},dd=Wt;function O5({onLogin:t}){const[e,n]=w.useState(""),[r,a]=w.useState(""),[o,c]=w.useState(""),f=xm(),h=async m=>{m.preventDefault();try{await t(e,r),f("/horario")}catch{c("Usuario o contraseña incorrectos")}};return I.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-red-200 to-purple-300",children:I.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-96",children:[I.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"Iniciar Sesión"}),o&&I.jsx("p",{className:"text-red-500 text-center mb-4",children:o}),I.jsxs("form",{onSubmit:h,className:"space-y-4",children:[I.jsx("input",{required:!0,type:"email",placeholder:"Correo electrónico",value:e,onChange:m=>n(m.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400"}),I.jsx("input",{type:"password",required:!0,placeholder:"Contraseña",value:r,onChange:m=>a(m.target.value),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400"}),I.jsx("button",{type:"submit",className:"cursor-pointer w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition",children:"Entrar"})]})]})})}function HA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aD(...t){return e=>{let n=!1;const r=t.map(a=>{const o=HA(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():HA(t[a],null)}}}}function dn(...t){return w.useCallback(aD(...t),t)}function of(t){const e=V5(t),n=w.forwardRef((r,a)=>{const{children:o,...c}=r,f=w.Children.toArray(o),h=f.find(U5);if(h){const m=h.props.children,g=f.map(v=>v===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:v);return I.jsx(e,{...c,ref:a,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return I.jsx(e,{...c,ref:a,children:o})});return n.displayName=`${t}.Slot`,n}var k5=of("Slot");function V5(t){const e=w.forwardRef((n,r)=>{const{children:a,...o}=n;if(w.isValidElement(a)){const c=B5(a),f=j5(o,a.props);return a.type!==w.Fragment&&(f.ref=r?aD(r,c):c),w.cloneElement(a,f)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var L5=Symbol("radix.slottable");function U5(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L5}function j5(t,e){const n={...e};for(const r in e){const a=t[r],o=e[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...f)=>{const h=o(...f);return a(...f),h}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...t,...n}}function B5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function oD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=oD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lD(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=oD(t))&&(r&&(r+=" "),r+=e);return r}const qA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,GA=lD,z5=(t,e)=>n=>{var r;if(e?.variants==null)return GA(t,n?.class,n?.className);const{variants:a,defaultVariants:o}=e,c=Object.keys(a).map(m=>{const g=n?.[m],v=o?.[m];if(g===null)return null;const b=qA(g)||qA(v);return a[m][b]}),f=n&&Object.entries(n).reduce((m,g)=>{let[v,b]=g;return b===void 0||(m[v]=b),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:v,className:b,...S}=g;return Object.entries(S).every(C=>{let[R,x]=C;return Array.isArray(x)?x.includes({...o,...f}[R]):{...o,...f}[R]===x})?[...m,v,b]:m},[]);return GA(t,c,h,n?.class,n?.className)},V_="-",F5=t=>{const e=q5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const f=c.split(V_);return f[0]===""&&f.length!==1&&f.shift(),cD(f,e)||H5(c)},getConflictingClassGroupIds:(c,f)=>{const h=n[c]||[];return f&&r[c]?[...h,...r[c]]:h}}},cD=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?cD(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(V_);return e.validators.find(({validator:c})=>c(o))?.classGroupId},$A=/^\[(.+)\]$/,H5=t=>{if($A.test(t)){const e=$A.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},q5=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Yv(n[a],r,a,e);return r},Yv=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:KA(e,a);o.classGroupId=n;return}if(typeof a=="function"){if(G5(a)){Yv(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{Yv(c,KA(e,o),n,r)})})},KA=(t,e)=>{let n=t;return e.split(V_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G5=t=>t.isThemeGetter,$5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},Wv="!",Xv=":",K5=Xv.length,Y5=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,f=0,h=0,m;for(let C=0;C<a.length;C++){let R=a[C];if(c===0&&f===0){if(R===Xv){o.push(a.slice(h,C)),h=C+K5;continue}if(R==="/"){m=C;continue}}R==="["?c++:R==="]"?c--:R==="("?f++:R===")"&&f--}const g=o.length===0?a:a.substring(h),v=W5(g),b=v!==g,S=m&&m>h?m-h:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const a=e+Xv,o=r;r=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},W5=t=>t.endsWith(Wv)?t.substring(0,t.length-1):t.startsWith(Wv)?t.substring(1):t,X5=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},Q5=t=>({cache:$5(t.cacheSize),parseClassName:Y5(t),sortModifiers:X5(t),...F5(t)}),Z5=/\s+/,J5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],f=t.trim().split(Z5);let h="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:v,modifiers:b,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:R}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let x=!!R,O=r(x?C.substring(0,R):C);if(!O){if(!x){h=g+(h.length>0?" "+h:h);continue}if(O=r(C),!O){h=g+(h.length>0?" "+h:h);continue}x=!1}const P=o(b).join(":"),V=S?P+Wv:P,G=V+O;if(c.includes(G))continue;c.push(G);const q=a(O,x);for(let re=0;re<q.length;++re){const M=q[re];c.push(V+M)}h=g+(h.length>0?" "+h:h)}return h};function eB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uD(e))&&(r&&(r+=" "),r+=n);return r}const uD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uD(t[r]))&&(n&&(n+=" "),n+=e);return n};function tB(t,...e){let n,r,a,o=c;function c(h){const m=e.reduce((g,v)=>v(g),t());return n=Q5(m),r=n.cache.get,a=n.cache.set,o=f,f(h)}function f(h){const m=r(h);if(m)return m;const g=J5(h,n);return a(h,g),g}return function(){return o(eB.apply(null,arguments))}}const Yt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nB=/^\d+\/\d+$/,rB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=t=>nB.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),Ls=t=>!!t&&Number.isInteger(Number(t)),jy=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),qi=t=>rB.test(t),lB=()=>!0,cB=t=>iB.test(t)&&!sB.test(t),dD=()=>!1,uB=t=>aB.test(t),fB=t=>oB.test(t),hB=t=>!be(t)&&!Ee(t),dB=t=>lc(t,gD,dD),be=t=>fD.test(t),Xa=t=>lc(t,yD,cB),By=t=>lc(t,vB,Ue),YA=t=>lc(t,mD,dD),mB=t=>lc(t,pD,fB),md=t=>lc(t,vD,uB),Ee=t=>hD.test(t),xu=t=>cc(t,yD),pB=t=>cc(t,_B),WA=t=>cc(t,mD),gB=t=>cc(t,gD),yB=t=>cc(t,pD),pd=t=>cc(t,vD,!0),lc=(t,e,n)=>{const r=fD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},cc=(t,e,n=!1)=>{const r=hD.exec(t);return r?r[1]?e(r[1]):n:!1},mD=t=>t==="position"||t==="percentage",pD=t=>t==="image"||t==="url",gD=t=>t==="length"||t==="size"||t==="bg-size",yD=t=>t==="length",vB=t=>t==="number",_B=t=>t==="family-name",vD=t=>t==="shadow",bB=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),r=Yt("font-weight"),a=Yt("tracking"),o=Yt("leading"),c=Yt("breakpoint"),f=Yt("container"),h=Yt("spacing"),m=Yt("radius"),g=Yt("shadow"),v=Yt("inset-shadow"),b=Yt("text-shadow"),S=Yt("drop-shadow"),C=Yt("blur"),R=Yt("perspective"),x=Yt("aspect"),O=Yt("ease"),P=Yt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...G(),Ee,be],re=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],A=()=>[Ee,be,h],k=()=>[yl,"full","auto",...A()],U=()=>[Ls,"none","subgrid",Ee,be],B=()=>["auto",{span:["full",Ls,Ee,be]},Ls,Ee,be],j=()=>[Ls,"auto",Ee,be],L=()=>["auto","min","max","fr",Ee,be],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...A()],ne=()=>[yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],X=()=>[t,Ee,be],ge=()=>[...G(),WA,YA,{position:[Ee,be]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",gB,dB,{size:[Ee,be]}],de=()=>[jy,xu,Xa],oe=()=>["","none","full",m,Ee,be],ee=()=>["",Ue,xu,Xa],he=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ue,jy,WA,YA],Te=()=>["","none",C,Ee,be],ze=()=>["none",Ue,Ee,be],Oe=()=>["none",Ue,Ee,be],je=()=>[Ue,Ee,be],Qe=()=>[yl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qi],breakpoint:[qi],color:[lB],container:[qi],"drop-shadow":[qi],ease:["in","out","in-out"],font:[hB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qi],shadow:[qi],spacing:["px",Ue],text:[qi],"text-shadow":[qi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yl,be,Ee,x]}],container:["container"],columns:[{columns:[Ue,be,Ee,f]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ls,"auto",Ee,be]}],basis:[{basis:[yl,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,yl,"auto","initial","none",be]}],grow:[{grow:["",Ue,Ee,be]}],shrink:[{shrink:["",Ue,Ee,be]}],order:[{order:[Ls,"first","last","none",Ee,be]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,xu,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,By]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jy,be]}],"font-family":[{font:[pB,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,be]}],"line-clamp":[{"line-clamp":[Ue,"none",Ee,By]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ee,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Ee,Xa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Ue,"auto",Ee,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ls,Ee,be],radial:["",Ee,be],conic:[Ls,Ee,be]},yB,mB]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Ee,be]}],"outline-w":[{outline:["",Ue,xu,Xa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",g,pd,md]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",v,pd,md]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Ue,Xa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",b,pd,md]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Ue,Ee,be]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Ee,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,be]}],filter:[{filter:["","none",Ee,be]}],blur:[{blur:Te()}],brightness:[{brightness:[Ue,Ee,be]}],contrast:[{contrast:[Ue,Ee,be]}],"drop-shadow":[{"drop-shadow":["","none",S,pd,md]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Ue,Ee,be]}],"hue-rotate":[{"hue-rotate":[Ue,Ee,be]}],invert:[{invert:["",Ue,Ee,be]}],saturate:[{saturate:[Ue,Ee,be]}],sepia:[{sepia:["",Ue,Ee,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,be]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Ee,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Ee,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Ee,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Ee,be]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Ee,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Ee,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Ee,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Ee,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Ee,be]}],ease:[{ease:["linear","initial",O,Ee,be]}],delay:[{delay:[Ue,Ee,be]}],animate:[{animate:["none",P,Ee,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ee,be]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[Ee,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,be]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Ue,xu,Xa,By]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EB=tB(bB);function Tn(...t){return EB(lD(t))}const wB=z5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ut({className:t,variant:e,size:n,asChild:r=!1,...a}){const o=r?k5:"button";return I.jsx(o,{"data-slot":"button",className:Tn(wB({variant:e,size:n,className:t})),...a})}const TB=({onLogout:t})=>{const e=xm(),n="bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 text-white hover:from-purple-500 hover:via-purple-500 hover:to-blue-600",r="bg-gray-300 text-black hover:bg-gray-300";return I.jsxs("header",{className:"bg-white shadow-md px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[I.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Panel de Administración"}),I.jsxs("nav",{className:"flex items-center gap-4",children:[I.jsx(gv,{to:"/horario",children:({isActive:a})=>I.jsx(ut,{className:`cursor-pointer ${a?n:r}`,children:"Horario"})}),I.jsx(gv,{to:"/clientes",children:({isActive:a})=>I.jsx(ut,{className:`cursor-pointer ${a?n:r}`,children:"Clientes"})}),I.jsx(ut,{variant:"ghost",className:"text-red-600 hover:bg-red-100 transition-colors cursor-pointer",onClick:()=>{t?.(),e("/login")},children:"Salir"})]})]})};function Qv({className:t,...e}){return I.jsx("div",{"data-slot":"card",className:Tn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Zv({className:t,...e}){return I.jsx("div",{"data-slot":"card-content",className:Tn("px-6",t),...e})}function SB({className:t,...e}){return I.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:I.jsx("table",{"data-slot":"table",className:Tn("w-full caption-bottom text-sm",t),...e})})}function AB({className:t,...e}){return I.jsx("thead",{"data-slot":"table-header",className:Tn("[&_tr]:border-b",t),...e})}function xB({className:t,...e}){return I.jsx("tbody",{"data-slot":"table-body",className:Tn("[&_tr:last-child]:border-0",t),...e})}function XA({className:t,...e}){return I.jsx("tr",{"data-slot":"table-row",className:Tn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function zy({className:t,...e}){return I.jsx("th",{"data-slot":"table-head",className:Tn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Fy({className:t,...e}){return I.jsx("td",{"data-slot":"table-cell",className:Tn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Jr({className:t,type:e,...n}){return I.jsx("input",{type:e,"data-slot":"input",className:Tn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const RB=()=>{const[t,e]=w.useState([]);return w.useEffect(()=>{const n=rf(so(On,"citas"),r=>{const a=r.docs.map(o=>({...o.data(),docId:o.id}));e(a)});return()=>n()},[]),t},CB=t=>{switch(t){case"cancelada":return"bg-red-200";case"no-se-presentó":return"bg-orange-200";case"programada":return"bg-blue-200";case"completada":return"bg-green-200";default:return"bg-gray-200"}},IB={programada:"Programada",completada:"Completada",cancelada:"Cancelada","no-se-presentó":"No se presentó"},DB=({clientes:t,onAddClient:e,onUpdateClient:n,onDeleteClient:r})=>{const[a,o]=w.useState(!1),[c,f]=w.useState(!1),[h,m]=w.useState(!1),[g,v]=w.useState(!1),[b,S]=w.useState(!1),[C,R]=w.useState(null),[x,O]=w.useState({id:"",nombre:""}),P=RB(),V=()=>{O({id:"",nombre:""}),o(!0)},G=j=>{R(j),O({id:j.id,nombre:j.nombre}),f(!0)},q=j=>{R(j),m(!0)},re=j=>{R(j),S(!0)},M=j=>{j.preventDefault();const L=x.id?.trim(),we=x.nombre?.trim();if(!L||!we){toast.error("Debes completar todos los campos");return}if(!/^\d+$/.test(L)){toast.error("El número de documento debe contener solo dígitos");return}e({id:L,nombre:we}),o(!1),O({id:"",nombre:""})},A=j=>{j.preventDefault(),f(!1),v(!0)},k=()=>{n(x.id,x),v(!1)},U=()=>{r(C.id),m(!1)},B=Array.isArray(P)&&C?.id?P.filter(j=>String(j.clienteId)===String(C.id)):[];return I.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[I.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-800",children:"Administración de Clientes"}),I.jsx(Qv,{className:"mb-6",children:I.jsxs(Zv,{className:"p-4 flex justify-between items-center",children:[I.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Lista de Clientes"}),I.jsx(ut,{className:"cursor-pointer",onClick:V,children:"Añadir Nuevo Cliente"})]})}),I.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:I.jsxs(SB,{children:[I.jsx(AB,{children:I.jsxs(XA,{children:[I.jsx(zy,{className:"w-[150px]",children:"Documento"}),I.jsx(zy,{children:"Nombre"}),I.jsx(zy,{className:"text-right w-[250px]",children:"Acciones"})]})}),I.jsx(xB,{children:t.map(j=>I.jsxs(XA,{children:[I.jsx(Fy,{className:"font-medium",children:j.id}),I.jsx(Fy,{children:j.nombre}),I.jsxs(Fy,{className:"flex justify-end space-x-2",children:[I.jsx(ut,{className:"cursor-pointer",variant:"outline",size:"sm",onClick:()=>re(j),children:"Historial"}),I.jsx(ut,{className:"cursor-pointer",variant:"outline",size:"sm",onClick:()=>G(j),children:"Editar"}),I.jsx(ut,{className:"cursor-pointer",variant:"destructive",size:"sm",onClick:()=>q(j),children:"Eliminar"})]})]},j.id))})]})}),a&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[I.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Añadir Nuevo Cliente"}),I.jsxs("form",{onSubmit:M,className:"space-y-3",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),I.jsx(Jr,{inputMode:"numeric",value:x.id,onChange:j=>{const L=j.target.value;/^\d*$/.test(L)&&O({...x,id:L})},required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre completo"}),I.jsx(Jr,{type:"text",value:x.nombre,onChange:j=>O({...x,nombre:j.target.value}),required:!0})]}),I.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[I.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),I.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar"})]})]})]})}),c&&C&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[I.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Editar Cliente"}),I.jsxs("form",{onSubmit:A,className:"space-y-3",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),I.jsx(Jr,{type:"text",readOnly:!0,value:x.id,onChange:j=>O({...x,id:j.target.value}),className:"bg-gray-100 cursor-not-allowed"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre completo"}),I.jsx(Jr,{type:"text",value:x.nombre,onChange:j=>O({...x,nombre:j.target.value}),required:!0})]}),I.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[I.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),I.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar Cambios"})]})]})]})}),g&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 text-center",children:[I.jsx("h3",{className:"font-bold mb-4 text-gray-800",children:"Confirmar Edición"}),I.jsx("p",{className:"text-gray-700 mb-6",children:"¿Estás seguro de que deseas guardar los cambios para este cliente?"}),I.jsxs("div",{className:"flex justify-end space-x-2",children:[I.jsx(ut,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),I.jsx(ut,{onClick:k,children:"Confirmar"})]})]})}),h&&C&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96 text-center",children:[I.jsx("h3",{className:"font-bold mb-4 text-gray-800",children:"Confirmar Eliminación"}),I.jsxs("p",{className:"text-gray-700 mb-6",children:["¿Estás seguro de que deseas eliminar a **",C.nombre,"**?"]}),I.jsxs("div",{className:"flex justify-end space-x-2",children:[I.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>m(!1),children:"No"}),I.jsx(ut,{className:"cursor-pointer",variant:"destructive",onClick:U,children:"Sí, eliminar"})]})]})}),b&&C&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-[600px]",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"font-bold text-gray-800 text-2xl",children:["Historial de Citas de ",C?.nombre||"Cliente"]}),I.jsx(ut,{variant:"ghost",onClick:()=>S(!1),className:"cursor-pointer hover:text-white bg-black text-white hover:bg-gray-800",children:"Cerrar"})]}),I.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:B.length>0?B.map((j,L)=>I.jsx(Qv,{className:"p-4 bg-gray-50",children:I.jsx(Zv,{className:"p-0",children:I.jsx("div",{className:"flex justify-between items-center",children:I.jsxs("div",{className:"text-sm text-gray-700",children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Fecha:"})," ",j.fecha]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Hora:"})," ",j.hora]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Estado:"})," ",I.jsx("span",{className:`inline-block min-w-[15px] px-1 text-sm font-medium text-center rounded ${CB(j.estado)}`,children:IB[j.estado]||j.estado})]})]})})})},L)):I.jsx("div",{className:"text-center text-gray-500",children:I.jsx("p",{children:"No se encontraron citas para este cliente."})})})]})})]})};function QA(t,[e,n]){return Math.min(n,Math.max(e,t))}function Bt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function L_(t,e=[]){let n=[];function r(o,c){const f=w.createContext(c),h=n.length;n=[...n,c];const m=v=>{const{scope:b,children:S,...C}=v,R=b?.[t]?.[h]||f,x=w.useMemo(()=>C,Object.values(C));return I.jsx(R.Provider,{value:x,children:S})};m.displayName=o+"Provider";function g(v,b){const S=b?.[t]?.[h]||f,C=w.useContext(S);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,g]}const a=()=>{const o=n.map(c=>w.createContext(c));return function(f){const h=f?.[t]||o;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return a.scopeName=t,[r,PB(a,...e)]}function PB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=r.reduce((f,{useScope:h,scopeName:m})=>{const v=h(o)[`__scope${m}`];return{...f,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function NB(t){const e=t+"CollectionProvider",[n,r]=L_(e),[a,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:x,children:O}=R,P=Gi.useRef(null),V=Gi.useRef(new Map).current;return I.jsx(a,{scope:x,itemMap:V,collectionRef:P,children:O})};c.displayName=e;const f=t+"CollectionSlot",h=of(f),m=Gi.forwardRef((R,x)=>{const{scope:O,children:P}=R,V=o(f,O),G=dn(x,V.collectionRef);return I.jsx(h,{ref:G,children:P})});m.displayName=f;const g=t+"CollectionItemSlot",v="data-radix-collection-item",b=of(g),S=Gi.forwardRef((R,x)=>{const{scope:O,children:P,...V}=R,G=Gi.useRef(null),q=dn(x,G),re=o(g,O);return Gi.useEffect(()=>(re.itemMap.set(G,{ref:G,...V}),()=>void re.itemMap.delete(G))),I.jsx(b,{[v]:"",ref:q,children:P})});S.displayName=g;function C(R){const x=o(t+"CollectionConsumer",R);return Gi.useCallback(()=>{const P=x.collectionRef.current;if(!P)return[];const V=Array.from(P.querySelectorAll(`[${v}]`));return Array.from(x.itemMap.values()).sort((re,M)=>V.indexOf(re.ref.current)-V.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:c,Slot:m,ItemSlot:S},C,r]}var MB=w.createContext(void 0);function OB(t){const e=w.useContext(MB);return t||e||"ltr"}var kB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nt=kB.reduce((t,e)=>{const n=of(`Primitive.${e}`),r=w.forwardRef((a,o)=>{const{asChild:c,...f}=a,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(h,{...f,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VB(t,e){t&&vf.flushSync(()=>t.dispatchEvent(e))}function go(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function LB(t,e=globalThis?.document){const n=go(t);w.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UB="DismissableLayer",Jv="dismissableLayer.update",jB="dismissableLayer.pointerDownOutside",BB="dismissableLayer.focusOutside",ZA,_D=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bD=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:f,...h}=t,m=w.useContext(_D),[g,v]=w.useState(null),b=g?.ownerDocument??globalThis?.document,[,S]=w.useState({}),C=dn(e,M=>v(M)),R=Array.from(m.layers),[x]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=R.indexOf(x),P=g?R.indexOf(g):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,G=P>=O,q=HB(M=>{const A=M.target,k=[...m.branches].some(U=>U.contains(A));!G||k||(a?.(M),c?.(M),M.defaultPrevented||f?.())},b),re=qB(M=>{const A=M.target;[...m.branches].some(U=>U.contains(A))||(o?.(M),c?.(M),M.defaultPrevented||f?.())},b);return LB(M=>{P===m.layers.size-1&&(r?.(M),!M.defaultPrevented&&f&&(M.preventDefault(),f()))},b),w.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(ZA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),JA(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=ZA)}},[g,b,n,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),JA())},[g,m]),w.useEffect(()=>{const M=()=>S({});return document.addEventListener(Jv,M),()=>document.removeEventListener(Jv,M)},[]),I.jsx(Nt.div,{...h,ref:C,style:{pointerEvents:V?G?"auto":"none":void 0,...t.style},onFocusCapture:Bt(t.onFocusCapture,re.onFocusCapture),onBlurCapture:Bt(t.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Bt(t.onPointerDownCapture,q.onPointerDownCapture)})});bD.displayName=UB;var zB="DismissableLayerBranch",FB=w.forwardRef((t,e)=>{const n=w.useContext(_D),r=w.useRef(null),a=dn(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),I.jsx(Nt.div,{...t,ref:a})});FB.displayName=zB;function HB(t,e=globalThis?.document){const n=go(t),r=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=f=>{if(f.target&&!r.current){let h=function(){ED(jB,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qB(t,e=globalThis?.document){const n=go(t),r=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!r.current&&ED(BB,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JA(){const t=new CustomEvent(Jv);document.dispatchEvent(t)}function ED(t,e,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),r?VB(a,o):a.dispatchEvent(o)}var Hy=0;function GB(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ex()),document.body.insertAdjacentElement("beforeend",t[1]??ex()),Hy++,()=>{Hy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hy--}},[])}function ex(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qy="focusScope.autoFocusOnMount",Gy="focusScope.autoFocusOnUnmount",tx={bubbles:!1,cancelable:!0},$B="FocusScope",wD=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=t,[f,h]=w.useState(null),m=go(a),g=go(o),v=w.useRef(null),b=dn(e,R=>h(R)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let R=function(V){if(S.paused||!f)return;const G=V.target;f.contains(G)?v.current=G:Us(v.current,{select:!0})},x=function(V){if(S.paused||!f)return;const G=V.relatedTarget;G!==null&&(f.contains(G)||Us(v.current,{select:!0}))},O=function(V){if(document.activeElement===document.body)for(const q of V)q.removedNodes.length>0&&Us(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",x);const P=new MutationObserver(O);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",x),P.disconnect()}}},[r,f,S.paused]),w.useEffect(()=>{if(f){rx.add(S);const R=document.activeElement;if(!f.contains(R)){const O=new CustomEvent(qy,tx);f.addEventListener(qy,m),f.dispatchEvent(O),O.defaultPrevented||(KB(ZB(TD(f)),{select:!0}),document.activeElement===R&&Us(f))}return()=>{f.removeEventListener(qy,m),setTimeout(()=>{const O=new CustomEvent(Gy,tx);f.addEventListener(Gy,g),f.dispatchEvent(O),O.defaultPrevented||Us(R??document.body,{select:!0}),f.removeEventListener(Gy,g),rx.remove(S)},0)}}},[f,m,g,S]);const C=w.useCallback(R=>{if(!n&&!r||S.paused)return;const x=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,O=document.activeElement;if(x&&O){const P=R.currentTarget,[V,G]=YB(P);V&&G?!R.shiftKey&&O===G?(R.preventDefault(),n&&Us(V,{select:!0})):R.shiftKey&&O===V&&(R.preventDefault(),n&&Us(G,{select:!0})):O===P&&R.preventDefault()}},[n,r,S.paused]);return I.jsx(Nt.div,{tabIndex:-1,...c,ref:b,onKeyDown:C})});wD.displayName=$B;function KB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Us(r,{select:e}),document.activeElement!==n)return}function YB(t){const e=TD(t),n=nx(e,t),r=nx(e.reverse(),t);return[n,r]}function TD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nx(t,e){for(const n of t)if(!WB(n,{upTo:e}))return n}function WB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XB(t){return t instanceof HTMLInputElement&&"select"in t}function Us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&XB(t)&&e&&t.select()}}var rx=QB();function QB(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=ix(t,e),t.unshift(e)},remove(e){t=ix(t,e),t[0]?.resume()}}}function ix(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ZB(t){return t.filter(e=>e.tagName!=="A")}var Un=globalThis?.document?w.useLayoutEffect:()=>{},JB=BR[" useId ".trim().toString()]||(()=>{}),ez=0;function U_(t){const[e,n]=w.useState(JB());return Un(()=>{n(r=>r??String(ez++))},[t]),t||(e?`radix-${e}`:"")}const tz=["top","right","bottom","left"],sa=Math.min,Yn=Math.max,pm=Math.round,gd=Math.floor,li=t=>({x:t,y:t}),nz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function e0(t,e,n){return Yn(t,sa(e,n))}function ns(t,e){return typeof t=="function"?t(e):t}function rs(t){return t.split("-")[0]}function uc(t){return t.split("-")[1]}function j_(t){return t==="x"?"y":"x"}function B_(t){return t==="y"?"height":"width"}const iz=new Set(["top","bottom"]);function ei(t){return iz.has(rs(t))?"y":"x"}function z_(t){return j_(ei(t))}function sz(t,e,n){n===void 0&&(n=!1);const r=uc(t),a=z_(t),o=B_(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=gm(c)),[c,gm(c)]}function az(t){const e=gm(t);return[t0(t),e,t0(e)]}function t0(t){return t.replace(/start|end/g,e=>rz[e])}const sx=["left","right"],ax=["right","left"],oz=["top","bottom"],lz=["bottom","top"];function cz(t,e,n){switch(t){case"top":case"bottom":return n?e?ax:sx:e?sx:ax;case"left":case"right":return e?oz:lz;default:return[]}}function uz(t,e,n,r){const a=uc(t);let o=cz(rs(t),n==="start",r);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(t0)))),o}function gm(t){return t.replace(/left|right|bottom|top/g,e=>nz[e])}function fz(t){return{top:0,right:0,bottom:0,left:0,...t}}function SD(t){return typeof t!="number"?fz(t):{top:t,right:t,bottom:t,left:t}}function ym(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function ox(t,e,n){let{reference:r,floating:a}=t;const o=ei(e),c=z_(e),f=B_(c),h=rs(e),m=o==="y",g=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,b=r[f]/2-a[f]/2;let S;switch(h){case"top":S={x:g,y:r.y-a.height};break;case"bottom":S={x:g,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:v};break;case"left":S={x:r.x-a.width,y:v};break;default:S={x:r.x,y:r.y}}switch(uc(e)){case"start":S[c]-=b*(n&&m?-1:1);break;case"end":S[c]+=b*(n&&m?-1:1);break}return S}const hz=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,f=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:g,y:v}=ox(m,r,h),b=r,S={},C=0;for(let R=0;R<f.length;R++){const{name:x,fn:O}=f[R],{x:P,y:V,data:G,reset:q}=await O({x:g,y:v,initialPlacement:r,placement:b,strategy:a,middlewareData:S,rects:m,platform:c,elements:{reference:t,floating:e}});g=P??g,v=V??v,S={...S,[x]:{...S[x],...G}},q&&C<=50&&(C++,typeof q=="object"&&(q.placement&&(b=q.placement),q.rects&&(m=q.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):q.rects),{x:g,y:v}=ox(m,b,h)),R=-1)}return{x:g,y:v,placement:b,strategy:a,middlewareData:S}};async function lf(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:c,elements:f,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=ns(e,t),C=SD(S),x=f[b?v==="floating"?"reference":"floating":v],O=ym(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:h})),P=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),G=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},q=ym(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:V,strategy:h}):P);return{top:(O.top-q.top+C.top)/G.y,bottom:(q.bottom-O.bottom+C.bottom)/G.y,left:(O.left-q.left+C.left)/G.x,right:(q.right-O.right+C.right)/G.x}}const dz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:o,platform:c,elements:f,middlewareData:h}=e,{element:m,padding:g=0}=ns(t,e)||{};if(m==null)return{};const v=SD(g),b={x:n,y:r},S=z_(a),C=B_(S),R=await c.getDimensions(m),x=S==="y",O=x?"top":"left",P=x?"bottom":"right",V=x?"clientHeight":"clientWidth",G=o.reference[C]+o.reference[S]-b[S]-o.floating[C],q=b[S]-o.reference[S],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=re?re[V]:0;(!M||!await(c.isElement==null?void 0:c.isElement(re)))&&(M=f.floating[V]||o.floating[C]);const A=G/2-q/2,k=M/2-R[C]/2-1,U=sa(v[O],k),B=sa(v[P],k),j=U,L=M-R[C]-B,we=M/2-R[C]/2+A,Se=e0(j,we,L),K=!h.arrow&&uc(a)!=null&&we!==Se&&o.reference[C]/2-(we<j?U:B)-R[C]/2<0,ne=K?we<j?we-j:we-L:0;return{[S]:b[S]+ne,data:{[S]:Se,centerOffset:we-Se-ne,...K&&{alignmentOffset:ne}},reset:K}}}),mz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:o,rects:c,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0,...x}=ns(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const O=rs(a),P=ei(f),V=rs(f)===f,G=await(h.isRTL==null?void 0:h.isRTL(m.floating)),q=b||(V||!R?[gm(f)]:az(f)),re=C!=="none";!b&&re&&q.push(...uz(f,R,C,G));const M=[f,...q],A=await lf(e,x),k=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&k.push(A[O]),v){const we=sz(a,c,G);k.push(A[we[0]],A[we[1]])}if(U=[...U,{placement:a,overflows:k}],!k.every(we=>we<=0)){var B,j;const we=(((B=o.flip)==null?void 0:B.index)||0)+1,Se=M[we];if(Se&&(!(v==="alignment"?P!==ei(Se):!1)||U.every(X=>ei(X.placement)===P?X.overflows[0]>0:!0)))return{data:{index:we,overflows:U},reset:{placement:Se}};let K=(j=U.filter(ne=>ne.overflows[0]<=0).sort((ne,X)=>ne.overflows[1]-X.overflows[1])[0])==null?void 0:j.placement;if(!K)switch(S){case"bestFit":{var L;const ne=(L=U.filter(X=>{if(re){const ge=ei(X.placement);return ge===P||ge==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ge=>ge>0).reduce((ge,F)=>ge+F,0)]).sort((X,ge)=>X[1]-ge[1])[0])==null?void 0:L[0];ne&&(K=ne);break}case"initialPlacement":K=f;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function lx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cx(t){return tz.some(e=>t[e]>=0)}const pz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...a}=ns(t,e);switch(r){case"referenceHidden":{const o=await lf(e,{...a,elementContext:"reference"}),c=lx(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:cx(c)}}}case"escaped":{const o=await lf(e,{...a,altBoundary:!0}),c=lx(o,n.floating);return{data:{escapedOffsets:c,escaped:cx(c)}}}default:return{}}}}},AD=new Set(["left","top"]);async function gz(t,e){const{placement:n,platform:r,elements:a}=t,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=rs(n),f=uc(n),h=ei(n)==="y",m=AD.has(c)?-1:1,g=o&&h?-1:1,v=ns(e,t);let{mainAxis:b,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),h?{x:S*g,y:b*m}:{x:b*m,y:S*g}}const yz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:o,placement:c,middlewareData:f}=e,h=await gz(e,t);return c===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:c}}}}},vz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:f={fn:x=>{let{x:O,y:P}=x;return{x:O,y:P}}},...h}=ns(t,e),m={x:n,y:r},g=await lf(e,h),v=ei(rs(a)),b=j_(v);let S=m[b],C=m[v];if(o){const x=b==="y"?"top":"left",O=b==="y"?"bottom":"right",P=S+g[x],V=S-g[O];S=e0(P,S,V)}if(c){const x=v==="y"?"top":"left",O=v==="y"?"bottom":"right",P=C+g[x],V=C-g[O];C=e0(P,C,V)}const R=f.fn({...e,[b]:S,[v]:C});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[b]:o,[v]:c}}}}}},_z=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:a,rects:o,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=ns(t,e),g={x:n,y:r},v=ei(a),b=j_(v);let S=g[b],C=g[v];const R=ns(f,e),x=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const V=b==="y"?"height":"width",G=o.reference[b]-o.floating[V]+x.mainAxis,q=o.reference[b]+o.reference[V]-x.mainAxis;S<G?S=G:S>q&&(S=q)}if(m){var O,P;const V=b==="y"?"width":"height",G=AD.has(rs(a)),q=o.reference[v]-o.floating[V]+(G&&((O=c.offset)==null?void 0:O[v])||0)+(G?0:x.crossAxis),re=o.reference[v]+o.reference[V]+(G?0:((P=c.offset)==null?void 0:P[v])||0)-(G?x.crossAxis:0);C<q?C=q:C>re&&(C=re)}return{[b]:S,[v]:C}}}},bz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:a,rects:o,platform:c,elements:f}=e,{apply:h=()=>{},...m}=ns(t,e),g=await lf(e,m),v=rs(a),b=uc(a),S=ei(a)==="y",{width:C,height:R}=o.floating;let x,O;v==="top"||v==="bottom"?(x=v,O=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(O=v,x=b==="end"?"top":"bottom");const P=R-g.top-g.bottom,V=C-g.left-g.right,G=sa(R-g[x],P),q=sa(C-g[O],V),re=!e.middlewareData.shift;let M=G,A=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=P),re&&!b){const U=Yn(g.left,0),B=Yn(g.right,0),j=Yn(g.top,0),L=Yn(g.bottom,0);S?A=C-2*(U!==0||B!==0?U+B:Yn(g.left,g.right)):M=R-2*(j!==0||L!==0?j+L:Yn(g.top,g.bottom))}await h({...e,availableWidth:A,availableHeight:M});const k=await c.getDimensions(f.floating);return C!==k.width||R!==k.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function fc(t){return xD(t)?(t.nodeName||"").toLowerCase():"#document"}function Qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gi(t){var e;return(e=(xD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xD(t){return rp()?t instanceof Node||t instanceof Qn(t).Node:!1}function Dr(t){return rp()?t instanceof Element||t instanceof Qn(t).Element:!1}function mi(t){return rp()?t instanceof HTMLElement||t instanceof Qn(t).HTMLElement:!1}function ux(t){return!rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qn(t).ShadowRoot}const Ez=new Set(["inline","contents"]);function Pf(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ez.has(a)}const wz=new Set(["table","td","th"]);function Tz(t){return wz.has(fc(t))}const Sz=[":popover-open",":modal"];function ip(t){return Sz.some(e=>{try{return t.matches(e)}catch{return!1}})}const Az=["transform","translate","scale","rotate","perspective"],xz=["transform","translate","scale","rotate","perspective","filter"],Rz=["paint","layout","strict","content"];function F_(t){const e=H_(),n=Dr(t)?Pr(t):t;return Az.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xz.some(r=>(n.willChange||"").includes(r))||Rz.some(r=>(n.contain||"").includes(r))}function Cz(t){let e=aa(t);for(;mi(e)&&!Kl(e);){if(F_(e))return e;if(ip(e))return null;e=aa(e)}return null}function H_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Iz=new Set(["html","body","#document"]);function Kl(t){return Iz.has(fc(t))}function Pr(t){return Qn(t).getComputedStyle(t)}function sp(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function aa(t){if(fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ux(t)&&t.host||gi(t);return ux(e)?e.host:e}function RD(t){const e=aa(t);return Kl(e)?t.ownerDocument?t.ownerDocument.body:t.body:mi(e)&&Pf(e)?e:RD(e)}function cf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=RD(t),o=a===((r=t.ownerDocument)==null?void 0:r.body),c=Qn(a);if(o){const f=n0(c);return e.concat(c,c.visualViewport||[],Pf(a)?a:[],f&&n?cf(f):[])}return e.concat(a,cf(a,[],n))}function n0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CD(t){const e=Pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=mi(t),o=a?t.offsetWidth:n,c=a?t.offsetHeight:r,f=pm(n)!==o||pm(r)!==c;return f&&(n=o,r=c),{width:n,height:r,$:f}}function q_(t){return Dr(t)?t:t.contextElement}function Ll(t){const e=q_(t);if(!mi(e))return li(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:o}=CD(e);let c=(o?pm(n.width):n.width)/r,f=(o?pm(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const Dz=li(0);function ID(t){const e=Qn(t);return!H_()||!e.visualViewport?Dz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qn(t)?!1:e}function yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=q_(t);let c=li(1);e&&(r?Dr(r)&&(c=Ll(r)):c=Ll(t));const f=Pz(o,n,r)?ID(o):li(0);let h=(a.left+f.x)/c.x,m=(a.top+f.y)/c.y,g=a.width/c.x,v=a.height/c.y;if(o){const b=Qn(o),S=r&&Dr(r)?Qn(r):r;let C=b,R=n0(C);for(;R&&r&&S!==C;){const x=Ll(R),O=R.getBoundingClientRect(),P=Pr(R),V=O.left+(R.clientLeft+parseFloat(P.paddingLeft))*x.x,G=O.top+(R.clientTop+parseFloat(P.paddingTop))*x.y;h*=x.x,m*=x.y,g*=x.x,v*=x.y,h+=V,m+=G,C=Qn(R),R=n0(C)}}return ym({width:g,height:v,x:h,y:m})}function ap(t,e){const n=sp(t).scrollLeft;return e?e.left+n:yo(gi(t)).left+n}function DD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ap(t,n),a=n.top+e.scrollTop;return{x:r,y:a}}function Nz(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const o=a==="fixed",c=gi(r),f=e?ip(e.floating):!1;if(r===c||f&&o)return n;let h={scrollLeft:0,scrollTop:0},m=li(1);const g=li(0),v=mi(r);if((v||!v&&!o)&&((fc(r)!=="body"||Pf(c))&&(h=sp(r)),mi(r))){const S=yo(r);m=Ll(r),g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}const b=c&&!v&&!o?DD(c,h):li(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+g.x+b.x,y:n.y*m.y-h.scrollTop*m.y+g.y+b.y}}function Mz(t){return Array.from(t.getClientRects())}function Oz(t){const e=gi(t),n=sp(t),r=t.ownerDocument.body,a=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+ap(t);const f=-n.scrollTop;return Pr(r).direction==="rtl"&&(c+=Yn(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:c,y:f}}const fx=25;function kz(t,e){const n=Qn(t),r=gi(t),a=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,f=0,h=0;if(a){o=a.width,c=a.height;const g=H_();(!g||g&&e==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}const m=ap(r);if(m<=0){const g=r.ownerDocument,v=g.body,b=getComputedStyle(v),S=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(r.clientWidth-v.clientWidth-S);C<=fx&&(o-=C)}else m<=fx&&(o+=m);return{width:o,height:c,x:f,y:h}}const Vz=new Set(["absolute","fixed"]);function Lz(t,e){const n=yo(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,o=mi(t)?Ll(t):li(1),c=t.clientWidth*o.x,f=t.clientHeight*o.y,h=a*o.x,m=r*o.y;return{width:c,height:f,x:h,y:m}}function hx(t,e,n){let r;if(e==="viewport")r=kz(t,n);else if(e==="document")r=Oz(gi(t));else if(Dr(e))r=Lz(e,n);else{const a=ID(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ym(r)}function PD(t,e){const n=aa(t);return n===e||!Dr(n)||Kl(n)?!1:Pr(n).position==="fixed"||PD(n,e)}function Uz(t,e){const n=e.get(t);if(n)return n;let r=cf(t,[],!1).filter(f=>Dr(f)&&fc(f)!=="body"),a=null;const o=Pr(t).position==="fixed";let c=o?aa(t):t;for(;Dr(c)&&!Kl(c);){const f=Pr(c),h=F_(c);!h&&f.position==="fixed"&&(a=null),(o?!h&&!a:!h&&f.position==="static"&&!!a&&Vz.has(a.position)||Pf(c)&&!h&&PD(t,c))?r=r.filter(g=>g!==c):a=f,c=aa(c)}return e.set(t,r),r}function jz(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const c=[...n==="clippingAncestors"?ip(e)?[]:Uz(e,this._c):[].concat(n),r],f=c[0],h=c.reduce((m,g)=>{const v=hx(e,g,a);return m.top=Yn(v.top,m.top),m.right=sa(v.right,m.right),m.bottom=sa(v.bottom,m.bottom),m.left=Yn(v.left,m.left),m},hx(e,f,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Bz(t){const{width:e,height:n}=CD(t);return{width:e,height:n}}function zz(t,e,n){const r=mi(e),a=gi(e),o=n==="fixed",c=yo(t,!0,o,e);let f={scrollLeft:0,scrollTop:0};const h=li(0);function m(){h.x=ap(a)}if(r||!r&&!o)if((fc(e)!=="body"||Pf(a))&&(f=sp(e)),r){const S=yo(e,!0,o,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();o&&!r&&a&&m();const g=a&&!r&&!o?DD(a,f):li(0),v=c.left+f.scrollLeft-h.x-g.x,b=c.top+f.scrollTop-h.y-g.y;return{x:v,y:b,width:c.width,height:c.height}}function $y(t){return Pr(t).position==="static"}function dx(t,e){if(!mi(t)||Pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gi(t)===n&&(n=n.ownerDocument.body),n}function ND(t,e){const n=Qn(t);if(ip(t))return n;if(!mi(t)){let a=aa(t);for(;a&&!Kl(a);){if(Dr(a)&&!$y(a))return a;a=aa(a)}return n}let r=dx(t,e);for(;r&&Tz(r)&&$y(r);)r=dx(r,e);return r&&Kl(r)&&$y(r)&&!F_(r)?n:r||Cz(t)||n}const Fz=async function(t){const e=this.getOffsetParent||ND,n=this.getDimensions,r=await n(t.floating);return{reference:zz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hz(t){return Pr(t).direction==="rtl"}const qz={convertOffsetParentRelativeRectToViewportRelativeRect:Nz,getDocumentElement:gi,getClippingRect:jz,getOffsetParent:ND,getElementRects:Fz,getClientRects:Mz,getDimensions:Bz,getScale:Ll,isElement:Dr,isRTL:Hz};function MD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Gz(t,e){let n=null,r;const a=gi(t);function o(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),o();const m=t.getBoundingClientRect(),{left:g,top:v,width:b,height:S}=m;if(f||e(),!b||!S)return;const C=gd(v),R=gd(a.clientWidth-(g+b)),x=gd(a.clientHeight-(v+S)),O=gd(g),V={rootMargin:-C+"px "+-R+"px "+-x+"px "+-O+"px",threshold:Yn(0,sa(1,h))||1};let G=!0;function q(re){const M=re[0].intersectionRatio;if(M!==h){if(!G)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!MD(m,t.getBoundingClientRect())&&c(),G=!1}try{n=new IntersectionObserver(q,{...V,root:a.ownerDocument})}catch{n=new IntersectionObserver(q,V)}n.observe(t)}return c(!0),o}function $z(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=q_(t),g=a||o?[...m?cf(m):[],...cf(e)]:[];g.forEach(O=>{a&&O.addEventListener("scroll",n,{passive:!0}),o&&O.addEventListener("resize",n)});const v=m&&f?Gz(m,n):null;let b=-1,S=null;c&&(S=new ResizeObserver(O=>{let[P]=O;P&&P.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var V;(V=S)==null||V.observe(e)})),n()}),m&&!h&&S.observe(m),S.observe(e));let C,R=h?yo(t):null;h&&x();function x(){const O=yo(t);R&&!MD(R,O)&&n(),R=O,C=requestAnimationFrame(x)}return n(),()=>{var O;g.forEach(P=>{a&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),v?.(),(O=S)==null||O.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const Kz=yz,Yz=vz,Wz=mz,Xz=bz,Qz=pz,mx=dz,Zz=_z,Jz=(t,e,n)=>{const r=new Map,a={platform:qz,...n},o={...a.platform,_c:r};return hz(t,e,{...a,platform:o})};var eF=typeof document<"u",tF=function(){},jd=eF?w.useLayoutEffect:tF;function vm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vm(t[r],e[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&t.$$typeof)&&!vm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function OD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function px(t,e){const n=OD(t);return Math.round(e*n)/n}function Ky(t){const e=w.useRef(t);return jd(()=>{e.current=t}),e}function nF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:c}={},transform:f=!0,whileElementsMounted:h,open:m}=t,[g,v]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(r);vm(b,r)||S(r);const[C,R]=w.useState(null),[x,O]=w.useState(null),P=w.useCallback(X=>{X!==re.current&&(re.current=X,R(X))},[]),V=w.useCallback(X=>{X!==M.current&&(M.current=X,O(X))},[]),G=o||C,q=c||x,re=w.useRef(null),M=w.useRef(null),A=w.useRef(g),k=h!=null,U=Ky(h),B=Ky(a),j=Ky(m),L=w.useCallback(()=>{if(!re.current||!M.current)return;const X={placement:e,strategy:n,middleware:b};B.current&&(X.platform=B.current),Jz(re.current,M.current,X).then(ge=>{const F={...ge,isPositioned:j.current!==!1};we.current&&!vm(A.current,F)&&(A.current=F,vf.flushSync(()=>{v(F)}))})},[b,e,n,B,j]);jd(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(X=>({...X,isPositioned:!1})))},[m]);const we=w.useRef(!1);jd(()=>(we.current=!0,()=>{we.current=!1}),[]),jd(()=>{if(G&&(re.current=G),q&&(M.current=q),G&&q){if(U.current)return U.current(G,q,L);L()}},[G,q,L,U,k]);const Se=w.useMemo(()=>({reference:re,floating:M,setReference:P,setFloating:V}),[P,V]),K=w.useMemo(()=>({reference:G,floating:q}),[G,q]),ne=w.useMemo(()=>{const X={position:n,left:0,top:0};if(!K.floating)return X;const ge=px(K.floating,g.x),F=px(K.floating,g.y);return f?{...X,transform:"translate("+ge+"px, "+F+"px)",...OD(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:F}},[n,f,K.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:L,refs:Se,elements:K,floatingStyles:ne}),[g,L,Se,K,ne])}const rF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mx({element:r.current,padding:a}).fn(n):{}:r?mx({element:r,padding:a}).fn(n):{}}}},iF=(t,e)=>({...Kz(t),options:[t,e]}),sF=(t,e)=>({...Yz(t),options:[t,e]}),aF=(t,e)=>({...Zz(t),options:[t,e]}),oF=(t,e)=>({...Wz(t),options:[t,e]}),lF=(t,e)=>({...Xz(t),options:[t,e]}),cF=(t,e)=>({...Qz(t),options:[t,e]}),uF=(t,e)=>({...rF(t),options:[t,e]});var fF="Arrow",kD=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:a=5,...o}=t;return I.jsx(Nt.svg,{...o,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});kD.displayName=fF;var hF=kD;function dF(t){const[e,n]=w.useState(void 0);return Un(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,f;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,f=m.blockSize}else c=t.offsetWidth,f=t.offsetHeight;n({width:c,height:f})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var G_="Popper",[VD,LD]=L_(G_),[mF,UD]=VD(G_),jD=t=>{const{__scopePopper:e,children:n}=t,[r,a]=w.useState(null);return I.jsx(mF,{scope:e,anchor:r,onAnchorChange:a,children:n})};jD.displayName=G_;var BD="PopperAnchor",zD=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...a}=t,o=UD(BD,n),c=w.useRef(null),f=dn(e,c),h=w.useRef(null);return w.useEffect(()=>{const m=h.current;h.current=r?.current||c.current,m!==h.current&&o.onAnchorChange(h.current)}),r?null:I.jsx(Nt.div,{...a,ref:f})});zD.displayName=BD;var $_="PopperContent",[pF,gF]=VD($_),FD=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:C,...R}=t,x=UD($_,n),[O,P]=w.useState(null),V=dn(e,fe=>P(fe)),[G,q]=w.useState(null),re=dF(G),M=re?.width??0,A=re?.height??0,k=r+(o!=="center"?"-"+o:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},B=Array.isArray(m)?m:[m],j=B.length>0,L={padding:U,boundary:B.filter(vF),altBoundary:j},{refs:we,floatingStyles:Se,placement:K,isPositioned:ne,middlewareData:X}=nF({strategy:"fixed",placement:k,whileElementsMounted:(...fe)=>$z(...fe,{animationFrame:S==="always"}),elements:{reference:x.anchor},middleware:[iF({mainAxis:a+A,alignmentAxis:c}),h&&sF({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?aF():void 0,...L}),h&&oF({...L}),lF({...L,apply:({elements:fe,rects:Te,availableWidth:ze,availableHeight:Oe})=>{const{width:je,height:Qe}=Te.reference,Mt=fe.floating.style;Mt.setProperty("--radix-popper-available-width",`${ze}px`),Mt.setProperty("--radix-popper-available-height",`${Oe}px`),Mt.setProperty("--radix-popper-anchor-width",`${je}px`),Mt.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),G&&uF({element:G,padding:f}),_F({arrowWidth:M,arrowHeight:A}),b&&cF({strategy:"referenceHidden",...L})]}),[ge,F]=GD(K),se=go(C);Un(()=>{ne&&se?.()},[ne,se]);const de=X.arrow?.x,oe=X.arrow?.y,ee=X.arrow?.centerOffset!==0,[he,pe]=w.useState();return Un(()=>{O&&pe(window.getComputedStyle(O).zIndex)},[O]),I.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:ne?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:I.jsx(pF,{scope:n,placedSide:ge,onArrowChange:q,arrowX:de,arrowY:oe,shouldHideArrow:ee,children:I.jsx(Nt.div,{"data-side":ge,"data-align":F,...R,ref:V,style:{...R.style,animation:ne?void 0:"none"}})})})});FD.displayName=$_;var HD="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},qD=w.forwardRef(function(e,n){const{__scopePopper:r,...a}=e,o=gF(HD,r),c=yF[o.placedSide];return I.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:I.jsx(hF,{...a,ref:n,style:{...a.style,display:"block"}})})});qD.displayName=HD;function vF(t){return t!==null}var _F=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:a}=e,c=a.arrow?.centerOffset!==0,f=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,g]=GD(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+h/2;let C="",R="";return m==="bottom"?(C=c?v:`${b}px`,R=`${-h}px`):m==="top"?(C=c?v:`${b}px`,R=`${r.floating.height+h}px`):m==="right"?(C=`${-h}px`,R=c?v:`${S}px`):m==="left"&&(C=`${r.floating.width+h}px`,R=c?v:`${S}px`),{data:{x:C,y:R}}}});function GD(t){const[e,n="center"]=t.split("-");return[e,n]}var bF=jD,EF=zD,wF=FD,TF=qD,SF="Portal",$D=w.forwardRef((t,e)=>{const{container:n,...r}=t,[a,o]=w.useState(!1);Un(()=>o(!0),[]);const c=n||a&&globalThis?.document?.body;return c?ck.createPortal(I.jsx(Nt.div,{...r,ref:e}),c):null});$D.displayName=SF;var AF=BR[" useInsertionEffect ".trim().toString()]||Un;function gx({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[a,o,c]=xF({defaultProp:e,onChange:n}),f=t!==void 0,h=f?t:a;{const g=w.useRef(t!==void 0);w.useEffect(()=>{const v=g.current;v!==f&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,r])}const m=w.useCallback(g=>{if(f){const v=RF(g)?g(t):g;v!==t&&c.current?.(v)}else o(g)},[f,t,o,c]);return[h,m]}function xF({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),a=w.useRef(n),o=w.useRef(e);return AF(()=>{o.current=e},[e]),w.useEffect(()=>{a.current!==n&&(o.current?.(n),a.current=n)},[n,a]),[n,r,o]}function RF(t){return typeof t=="function"}function CF(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var KD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IF="VisuallyHidden",DF=w.forwardRef((t,e)=>I.jsx(Nt.span,{...t,ref:e,style:{...KD,...t.style}}));DF.displayName=IF;var PF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,yd=new WeakMap,vd={},Yy=0,YD=function(t){return t&&(t.host||YD(t.parentNode))},NF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=YD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MF=function(t,e,n,r){var a=NF(e,Array.isArray(t)?t:[t]);vd[n]||(vd[n]=new WeakMap);var o=vd[n],c=[],f=new Set,h=new Set(a),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};a.forEach(m);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(b){if(f.has(b))g(b);else try{var S=b.getAttribute(r),C=S!==null&&S!=="false",R=(vl.get(b)||0)+1,x=(o.get(b)||0)+1;vl.set(b,R),o.set(b,x),c.push(b),R===1&&C&&yd.set(b,!0),x===1&&b.setAttribute(n,"true"),C||b.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",b,O)}})};return g(e),f.clear(),Yy++,function(){c.forEach(function(v){var b=vl.get(v)-1,S=o.get(v)-1;vl.set(v,b),o.set(v,S),b||(yd.has(v)||v.removeAttribute(r),yd.delete(v)),S||v.removeAttribute(n)}),Yy--,Yy||(vl=new WeakMap,vl=new WeakMap,yd=new WeakMap,vd={})}},OF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=PF(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),MF(r,a,n,"aria-hidden")):function(){return null}},Qr=function(){return Qr=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Qr.apply(this,arguments)};function WD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function kF(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Bd="right-scroll-bar-position",zd="width-before-scroll-bar",VF="with-scroll-bars-hidden",LF="--removed-body-scroll-bar-size";function Wy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UF(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=e,n.facade}var jF=typeof window<"u"?w.useLayoutEffect:w.useEffect,yx=new WeakMap;function BF(t,e){var n=UF(null,function(r){return t.forEach(function(a){return Wy(a,r)})});return jF(function(){var r=yx.get(n);if(r){var a=new Set(r),o=new Set(t),c=n.current;a.forEach(function(f){o.has(f)||Wy(f,null)}),o.forEach(function(f){a.has(f)||Wy(f,c)})}yx.set(n,t)},[t]),n}function zF(t){return t}function FF(t,e){e===void 0&&(e=zF);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(f){return f!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(f){return o(f)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var f=n;n=[],f.forEach(o),c=n}var h=function(){var g=c;c=[],g.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return a}function HF(t){t===void 0&&(t={});var e=FF(null);return e.options=Qr({async:!0,ssr:!1},t),e}var XD=function(t){var e=t.sideCar,n=WD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Qr({},n))};XD.isSideCarExport=!0;function qF(t,e){return t.useMedium(e),XD}var QD=HF(),Xy=function(){},op=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Xy,onWheelCapture:Xy,onTouchMoveCapture:Xy}),a=r[0],o=r[1],c=t.forwardProps,f=t.children,h=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,b=t.sideCar,S=t.noRelative,C=t.noIsolation,R=t.inert,x=t.allowPinchZoom,O=t.as,P=O===void 0?"div":O,V=t.gapMode,G=WD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=b,re=BF([n,e]),M=Qr(Qr({},G),a);return w.createElement(w.Fragment,null,g&&w.createElement(q,{sideCar:QD,removeScrollBar:m,shards:v,noRelative:S,noIsolation:C,inert:R,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:V}),c?w.cloneElement(w.Children.only(f),Qr(Qr({},M),{ref:re})):w.createElement(P,Qr({},M,{className:h,ref:re}),f))});op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};op.classNames={fullWidth:zd,zeroRight:Bd};var GF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $F(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GF();return e&&t.setAttribute("nonce",e),t}function KF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function YF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var WF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$F())&&(KF(e,n),YF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XF=function(){var t=WF();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ZD=function(){var t=XF(),e=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return e},QF={left:0,top:0,right:0,gap:0},Qy=function(t){return parseInt(t||"",10)||0},ZF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Qy(n),Qy(r),Qy(a)]},JF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QF;var e=ZF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},e7=ZD(),Ul="data-scroll-locked",t7=function(t,e,n,r){var a=t.left,o=t.top,c=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bd,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(LF,": ").concat(f,`px;
  }
`)},vx=function(){var t=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(t)?t:0},n7=function(){w.useEffect(function(){return document.body.setAttribute(Ul,(vx()+1).toString()),function(){var t=vx()-1;t<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,t.toString())}},[])},r7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;n7();var o=w.useMemo(function(){return JF(a)},[a]);return w.createElement(e7,{styles:t7(o,!e,a,n?"":"!important")})},r0=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return r0=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{r0=!1}var _l=r0?{passive:!1}:!1,i7=function(t){return t.tagName==="TEXTAREA"},JD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!i7(t)&&n[e]==="visible")},s7=function(t){return JD(t,"overflowY")},a7=function(t){return JD(t,"overflowX")},_x=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=eP(t,r);if(a){var o=tP(t,r),c=o[1],f=o[2];if(c>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},l7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},eP=function(t,e){return t==="v"?s7(e):a7(e)},tP=function(t,e){return t==="v"?o7(e):l7(e)},c7=function(t,e){return t==="h"&&e==="rtl"?-1:1},u7=function(t,e,n,r,a){var o=c7(t,window.getComputedStyle(e).direction),c=o*r,f=n.target,h=e.contains(f),m=!1,g=c>0,v=0,b=0;do{if(!f)break;var S=tP(t,f),C=S[0],R=S[1],x=S[2],O=R-x-o*C;(C||O)&&eP(t,f)&&(v+=O,b+=C);var P=f.parentNode;f=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(m=!0),m},bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bx=function(t){return[t.deltaX,t.deltaY]},Ex=function(t){return t&&"current"in t?t.current:t},f7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},h7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},d7=0,bl=[];function m7(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),a=w.useState(d7++)[0],o=w.useState(ZD)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var R=kF([t.lockRef.current],(t.shards||[]).map(Ex),!0).filter(Boolean);return R.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),R.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var f=w.useCallback(function(R,x){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var O=bd(R),P=n.current,V="deltaX"in R?R.deltaX:P[0]-O[0],G="deltaY"in R?R.deltaY:P[1]-O[1],q,re=R.target,M=Math.abs(V)>Math.abs(G)?"h":"v";if("touches"in R&&M==="h"&&re.type==="range")return!1;var A=_x(M,re);if(!A)return!0;if(A?q=M:(q=M==="v"?"h":"v",A=_x(M,re)),!A)return!1;if(!r.current&&"changedTouches"in R&&(V||G)&&(r.current=q),!q)return!0;var k=r.current||q;return u7(k,x,R,k==="h"?V:G)},[]),h=w.useCallback(function(R){var x=R;if(!(!bl.length||bl[bl.length-1]!==o)){var O="deltaY"in x?bx(x):bd(x),P=e.current.filter(function(q){return q.name===x.type&&(q.target===x.target||x.target===q.shadowParent)&&f7(q.delta,O)})[0];if(P&&P.should){x.cancelable&&x.preventDefault();return}if(!P){var V=(c.current.shards||[]).map(Ex).filter(Boolean).filter(function(q){return q.contains(x.target)}),G=V.length>0?f(x,V[0]):!c.current.noIsolation;G&&x.cancelable&&x.preventDefault()}}},[]),m=w.useCallback(function(R,x,O,P){var V={name:R,delta:x,target:O,should:P,shadowParent:p7(O)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(G){return G!==V})},1)},[]),g=w.useCallback(function(R){n.current=bd(R),r.current=void 0},[]),v=w.useCallback(function(R){m(R.type,bx(R),R.target,f(R,t.lockRef.current))},[]),b=w.useCallback(function(R){m(R.type,bd(R),R.target,f(R,t.lockRef.current))},[]);w.useEffect(function(){return bl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",h,_l),document.addEventListener("touchmove",h,_l),document.addEventListener("touchstart",g,_l),function(){bl=bl.filter(function(R){return R!==o}),document.removeEventListener("wheel",h,_l),document.removeEventListener("touchmove",h,_l),document.removeEventListener("touchstart",g,_l)}},[]);var S=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(o,{styles:h7(a)}):null,S?w.createElement(r7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function p7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const g7=qF(QD,m7);var nP=w.forwardRef(function(t,e){return w.createElement(op,Qr({},t,{ref:e,sideCar:g7}))});nP.classNames=op.classNames;var y7=[" ","Enter","ArrowUp","ArrowDown"],v7=[" ","Enter"],vo="Select",[lp,cp,_7]=NB(vo),[hc,aK]=L_(vo,[_7,LD]),up=LD(),[b7,da]=hc(vo),[E7,w7]=hc(vo),rP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:a,onOpenChange:o,value:c,defaultValue:f,onValueChange:h,dir:m,name:g,autoComplete:v,disabled:b,required:S,form:C}=t,R=up(e),[x,O]=w.useState(null),[P,V]=w.useState(null),[G,q]=w.useState(!1),re=OB(m),[M,A]=gx({prop:r,defaultProp:a??!1,onChange:o,caller:vo}),[k,U]=gx({prop:c,defaultProp:f,onChange:h,caller:vo}),B=w.useRef(null),j=x?C||!!x.closest("form"):!0,[L,we]=w.useState(new Set),Se=Array.from(L).map(K=>K.props.value).join(";");return I.jsx(bF,{...R,children:I.jsxs(b7,{required:S,scope:e,trigger:x,onTriggerChange:O,valueNode:P,onValueNodeChange:V,valueNodeHasChildren:G,onValueNodeHasChildrenChange:q,contentId:U_(),value:k,onValueChange:U,open:M,onOpenChange:A,dir:re,triggerPointerDownPosRef:B,disabled:b,children:[I.jsx(lp.Provider,{scope:e,children:I.jsx(E7,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(K=>{we(ne=>new Set(ne).add(K))},[]),onNativeOptionRemove:w.useCallback(K=>{we(ne=>{const X=new Set(ne);return X.delete(K),X})},[]),children:n})}),j?I.jsxs(AP,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:v,value:k,onChange:K=>U(K.target.value),disabled:b,form:C,children:[k===void 0?I.jsx("option",{value:""}):null,Array.from(L)]},Se):null]})})};rP.displayName=vo;var iP="SelectTrigger",sP=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,o=up(n),c=da(iP,n),f=c.disabled||r,h=dn(e,c.onTriggerChange),m=cp(n),g=w.useRef("touch"),[v,b,S]=RP(R=>{const x=m().filter(V=>!V.disabled),O=x.find(V=>V.value===c.value),P=CP(x,R,O);P!==void 0&&c.onValueChange(P.value)}),C=R=>{f||(c.onOpenChange(!0),S()),R&&(c.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return I.jsx(EF,{asChild:!0,...o,children:I.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":xP(c.value)?"":void 0,...a,ref:h,onClick:Bt(a.onClick,R=>{R.currentTarget.focus(),g.current!=="mouse"&&C(R)}),onPointerDown:Bt(a.onPointerDown,R=>{g.current=R.pointerType;const x=R.target;x.hasPointerCapture(R.pointerId)&&x.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(C(R),R.preventDefault())}),onKeyDown:Bt(a.onKeyDown,R=>{const x=v.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&b(R.key),!(x&&R.key===" ")&&y7.includes(R.key)&&(C(),R.preventDefault())})})})});sP.displayName=iP;var aP="SelectValue",oP=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:c="",...f}=t,h=da(aP,n),{onValueNodeHasChildrenChange:m}=h,g=o!==void 0,v=dn(e,h.onValueNodeChange);return Un(()=>{m(g)},[m,g]),I.jsx(Nt.span,{...f,ref:v,style:{pointerEvents:"none"},children:xP(h.value)?I.jsx(I.Fragment,{children:c}):o})});oP.displayName=aP;var T7="SelectIcon",lP=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...a}=t;return I.jsx(Nt.span,{"aria-hidden":!0,...a,ref:e,children:r||"▼"})});lP.displayName=T7;var S7="SelectPortal",cP=t=>I.jsx($D,{asChild:!0,...t});cP.displayName=S7;var _o="SelectContent",uP=w.forwardRef((t,e)=>{const n=da(_o,t.__scopeSelect),[r,a]=w.useState();if(Un(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?vf.createPortal(I.jsx(fP,{scope:t.__scopeSelect,children:I.jsx(lp.Slot,{scope:t.__scopeSelect,children:I.jsx("div",{children:t.children})})}),o):null}return I.jsx(hP,{...t,ref:e})});uP.displayName=_o;var wr=10,[fP,ma]=hc(_o),A7="SelectContentImpl",x7=of("SelectContent.RemoveScroll"),hP=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:f,sideOffset:h,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:x,...O}=t,P=da(_o,n),[V,G]=w.useState(null),[q,re]=w.useState(null),M=dn(e,fe=>G(fe)),[A,k]=w.useState(null),[U,B]=w.useState(null),j=cp(n),[L,we]=w.useState(!1),Se=w.useRef(!1);w.useEffect(()=>{if(V)return OF(V)},[V]),GB();const K=w.useCallback(fe=>{const[Te,...ze]=j().map(Qe=>Qe.ref.current),[Oe]=ze.slice(-1),je=document.activeElement;for(const Qe of fe)if(Qe===je||(Qe?.scrollIntoView({block:"nearest"}),Qe===Te&&q&&(q.scrollTop=0),Qe===Oe&&q&&(q.scrollTop=q.scrollHeight),Qe?.focus(),document.activeElement!==je))return},[j,q]),ne=w.useCallback(()=>K([A,V]),[K,A,V]);w.useEffect(()=>{L&&ne()},[L,ne]);const{onOpenChange:X,triggerPointerDownPosRef:ge}=P;w.useEffect(()=>{if(V){let fe={x:0,y:0};const Te=Oe=>{fe={x:Math.abs(Math.round(Oe.pageX)-(ge.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(ge.current?.y??0))}},ze=Oe=>{fe.x<=10&&fe.y<=10?Oe.preventDefault():V.contains(Oe.target)||X(!1),document.removeEventListener("pointermove",Te),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ze,{capture:!0})}}},[V,X,ge]),w.useEffect(()=>{const fe=()=>X(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[X]);const[F,se]=RP(fe=>{const Te=j().filter(je=>!je.disabled),ze=Te.find(je=>je.ref.current===document.activeElement),Oe=CP(Te,fe,ze);Oe&&setTimeout(()=>Oe.ref.current.focus())}),de=w.useCallback((fe,Te,ze)=>{const Oe=!Se.current&&!ze;(P.value!==void 0&&P.value===Te||Oe)&&(k(fe),Oe&&(Se.current=!0))},[P.value]),oe=w.useCallback(()=>V?.focus(),[V]),ee=w.useCallback((fe,Te,ze)=>{const Oe=!Se.current&&!ze;(P.value!==void 0&&P.value===Te||Oe)&&B(fe)},[P.value]),he=r==="popper"?i0:dP,pe=he===i0?{side:f,sideOffset:h,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:x}:{};return I.jsx(fP,{scope:n,content:V,viewport:q,onViewportChange:re,itemRefCallback:de,selectedItem:A,onItemLeave:oe,itemTextRefCallback:ee,focusSelectedItem:ne,selectedItemText:U,position:r,isPositioned:L,searchRef:F,children:I.jsx(nP,{as:x7,allowPinchZoom:!0,children:I.jsx(wD,{asChild:!0,trapped:P.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Bt(a,fe=>{P.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:I.jsx(bD,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:I.jsx(he,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:fe=>fe.preventDefault(),...O,...pe,onPlaced:()=>we(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:Bt(O.onKeyDown,fe=>{const Te=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Te&&fe.key.length===1&&se(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let Oe=j().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const je=fe.target,Qe=Oe.indexOf(je);Oe=Oe.slice(Qe+1)}setTimeout(()=>K(Oe)),fe.preventDefault()}})})})})})})});hP.displayName=A7;var R7="SelectItemAlignedPosition",dP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,o=da(_o,n),c=ma(_o,n),[f,h]=w.useState(null),[m,g]=w.useState(null),v=dn(e,M=>g(M)),b=cp(n),S=w.useRef(!1),C=w.useRef(!0),{viewport:R,selectedItem:x,selectedItemText:O,focusSelectedItem:P}=c,V=w.useCallback(()=>{if(o.trigger&&o.valueNode&&f&&m&&R&&x&&O){const M=o.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),U=O.getBoundingClientRect();if(o.dir!=="rtl"){const je=U.left-A.left,Qe=k.left-je,Mt=M.left-Qe,Sn=M.width+Mt,yi=Math.max(Sn,A.width),os=window.innerWidth-wr,mn=QA(Qe,[wr,Math.max(wr,os-yi)]);f.style.minWidth=Sn+"px",f.style.left=mn+"px"}else{const je=A.right-U.right,Qe=window.innerWidth-k.right-je,Mt=window.innerWidth-M.right-Qe,Sn=M.width+Mt,yi=Math.max(Sn,A.width),os=window.innerWidth-wr,mn=QA(Qe,[wr,Math.max(wr,os-yi)]);f.style.minWidth=Sn+"px",f.style.right=mn+"px"}const B=b(),j=window.innerHeight-wr*2,L=R.scrollHeight,we=window.getComputedStyle(m),Se=parseInt(we.borderTopWidth,10),K=parseInt(we.paddingTop,10),ne=parseInt(we.borderBottomWidth,10),X=parseInt(we.paddingBottom,10),ge=Se+K+L+X+ne,F=Math.min(x.offsetHeight*5,ge),se=window.getComputedStyle(R),de=parseInt(se.paddingTop,10),oe=parseInt(se.paddingBottom,10),ee=M.top+M.height/2-wr,he=j-ee,pe=x.offsetHeight/2,fe=x.offsetTop+pe,Te=Se+K+fe,ze=ge-Te;if(Te<=ee){const je=B.length>0&&x===B[B.length-1].ref.current;f.style.bottom="0px";const Qe=m.clientHeight-R.offsetTop-R.offsetHeight,Mt=Math.max(he,pe+(je?oe:0)+Qe+ne),Sn=Te+Mt;f.style.height=Sn+"px"}else{const je=B.length>0&&x===B[0].ref.current;f.style.top="0px";const Mt=Math.max(ee,Se+R.offsetTop+(je?de:0)+pe)+ze;f.style.height=Mt+"px",R.scrollTop=Te-ee+R.offsetTop}f.style.margin=`${wr}px 0`,f.style.minHeight=F+"px",f.style.maxHeight=j+"px",r?.(),requestAnimationFrame(()=>S.current=!0)}},[b,o.trigger,o.valueNode,f,m,R,x,O,o.dir,r]);Un(()=>V(),[V]);const[G,q]=w.useState();Un(()=>{m&&q(window.getComputedStyle(m).zIndex)},[m]);const re=w.useCallback(M=>{M&&C.current===!0&&(V(),P?.(),C.current=!1)},[V,P]);return I.jsx(I7,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:re,children:I.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:I.jsx(Nt.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});dP.displayName=R7;var C7="SelectPopperPosition",i0=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=wr,...o}=t,c=up(n);return I.jsx(wF,{...c,...o,ref:e,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});i0.displayName=C7;var[I7,K_]=hc(_o,{}),s0="SelectViewport",mP=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...a}=t,o=ma(s0,n),c=K_(s0,n),f=dn(e,o.onViewportChange),h=w.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),I.jsx(lp.Slot,{scope:n,children:I.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Bt(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=c;if(b?.current&&v){const S=Math.abs(h.current-g.scrollTop);if(S>0){const C=window.innerHeight-wr*2,R=parseFloat(v.style.minHeight),x=parseFloat(v.style.height),O=Math.max(R,x);if(O<C){const P=O+S,V=Math.min(C,P),G=P-V;v.style.height=V+"px",v.style.bottom==="0px"&&(g.scrollTop=G>0?G:0,v.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});mP.displayName=s0;var pP="SelectGroup",[D7,P7]=hc(pP),N7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=U_();return I.jsx(D7,{scope:n,id:a,children:I.jsx(Nt.div,{role:"group","aria-labelledby":a,...r,ref:e})})});N7.displayName=pP;var gP="SelectLabel",M7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=P7(gP,n);return I.jsx(Nt.div,{id:a.id,...r,ref:e})});M7.displayName=gP;var _m="SelectItem",[O7,yP]=hc(_m),vP=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...c}=t,f=da(_m,n),h=ma(_m,n),m=f.value===r,[g,v]=w.useState(o??""),[b,S]=w.useState(!1),C=dn(e,P=>h.itemRefCallback?.(P,r,a)),R=U_(),x=w.useRef("touch"),O=()=>{a||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(O7,{scope:n,value:r,disabled:a,textId:R,isSelected:m,onItemTextChange:w.useCallback(P=>{v(V=>V||(P?.textContent??"").trim())},[]),children:I.jsx(lp.ItemSlot,{scope:n,value:r,disabled:a,textValue:g,children:I.jsx(Nt.div,{role:"option","aria-labelledby":R,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:Bt(c.onFocus,()=>S(!0)),onBlur:Bt(c.onBlur,()=>S(!1)),onClick:Bt(c.onClick,()=>{x.current!=="mouse"&&O()}),onPointerUp:Bt(c.onPointerUp,()=>{x.current==="mouse"&&O()}),onPointerDown:Bt(c.onPointerDown,P=>{x.current=P.pointerType}),onPointerMove:Bt(c.onPointerMove,P=>{x.current=P.pointerType,a?h.onItemLeave?.():x.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(c.onPointerLeave,P=>{P.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Bt(c.onKeyDown,P=>{h.searchRef?.current!==""&&P.key===" "||(v7.includes(P.key)&&O(),P.key===" "&&P.preventDefault())})})})})});vP.displayName=_m;var Ou="SelectItemText",_P=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,...o}=t,c=da(Ou,n),f=ma(Ou,n),h=yP(Ou,n),m=w7(Ou,n),[g,v]=w.useState(null),b=dn(e,O=>v(O),h.onItemTextChange,O=>f.itemTextRefCallback?.(O,h.value,h.disabled)),S=g?.textContent,C=w.useMemo(()=>I.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:R,onNativeOptionRemove:x}=m;return Un(()=>(R(C),()=>x(C)),[R,x,C]),I.jsxs(I.Fragment,{children:[I.jsx(Nt.span,{id:h.textId,...o,ref:b}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?vf.createPortal(o.children,c.valueNode):null]})});_P.displayName=Ou;var bP="SelectItemIndicator",EP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yP(bP,n).isSelected?I.jsx(Nt.span,{"aria-hidden":!0,...r,ref:e}):null});EP.displayName=bP;var a0="SelectScrollUpButton",wP=w.forwardRef((t,e)=>{const n=ma(a0,t.__scopeSelect),r=K_(a0,t.__scopeSelect),[a,o]=w.useState(!1),c=dn(e,r.onScrollButtonChange);return Un(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollTop>0;o(m)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?I.jsx(SP,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});wP.displayName=a0;var o0="SelectScrollDownButton",TP=w.forwardRef((t,e)=>{const n=ma(o0,t.__scopeSelect),r=K_(o0,t.__scopeSelect),[a,o]=w.useState(!1),c=dn(e,r.onScrollButtonChange);return Un(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;o(g)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?I.jsx(SP,{...t,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});TP.displayName=o0;var SP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,o=ma("SelectScrollButton",n),c=w.useRef(null),f=cp(n),h=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),Un(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),I.jsx(Nt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Bt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Bt(a.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Bt(a.onPointerLeave,()=>{h()})})}),k7="SelectSeparator",V7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return I.jsx(Nt.div,{"aria-hidden":!0,...r,ref:e})});V7.displayName=k7;var l0="SelectArrow",L7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=up(n),o=da(l0,n),c=ma(l0,n);return o.open&&c.position==="popper"?I.jsx(TF,{...a,...r,ref:e}):null});L7.displayName=l0;var U7="SelectBubbleInput",AP=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const a=w.useRef(null),o=dn(r,a),c=CF(e);return w.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&g){const v=new Event("change",{bubbles:!0});g.call(f,e),f.dispatchEvent(v)}},[c,e]),I.jsx(Nt.select,{...n,style:{...KD,...n.style},ref:o,defaultValue:e})});AP.displayName=U7;function xP(t){return t===""||t===void 0}function RP(t){const e=go(t),n=w.useRef(""),r=w.useRef(0),a=w.useCallback(c=>{const f=n.current+c;e(f),(function h(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(f)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function CP(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=j7(t,Math.max(o,0));a.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function j7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var B7=rP,z7=sP,F7=oP,H7=lP,q7=cP,G7=uP,$7=mP,K7=vP,Y7=_P,W7=EP,X7=wP,Q7=TP;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),wx=t=>{const e=J7(t);return e.charAt(0).toUpperCase()+e.slice(1)},IP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),eH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...f},h)=>w.createElement("svg",{ref:h,...tH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IP("lucide",a),...!o&&!eH(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=(t,e)=>{const n=w.forwardRef(({className:r,...a},o)=>w.createElement(nH,{ref:o,iconNode:e,className:IP(`lucide-${Z7(wx(t))}`,`lucide-${t}`,r),...a}));return n.displayName=wx(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iH=Y_("check",rH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DP=Y_("chevron-down",sH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oH=Y_("chevron-up",aH);function lH({...t}){return I.jsx(B7,{"data-slot":"select",...t})}function cH({...t}){return I.jsx(F7,{"data-slot":"select-value",...t})}function uH({className:t,size:e="default",children:n,...r}){return I.jsxs(z7,{"data-slot":"select-trigger","data-size":e,className:Tn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,I.jsx(H7,{asChild:!0,children:I.jsx(DP,{className:"size-4 opacity-50"})})]})}function fH({className:t,children:e,position:n="popper",...r}){return I.jsx(q7,{children:I.jsxs(G7,{"data-slot":"select-content",className:Tn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[I.jsx(hH,{}),I.jsx($7,{className:Tn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),I.jsx(dH,{})]})})}function Ed({className:t,children:e,...n}){return I.jsxs(K7,{"data-slot":"select-item",className:Tn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[I.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:I.jsx(W7,{children:I.jsx(iH,{className:"size-4"})})}),I.jsx(Y7,{children:e})]})}function hH({className:t,...e}){return I.jsx(X7,{"data-slot":"select-scroll-up-button",className:Tn("flex cursor-default items-center justify-center py-1",t),...e,children:I.jsx(oH,{className:"size-4"})})}function dH({className:t,...e}){return I.jsx(Q7,{"data-slot":"select-scroll-down-button",className:Tn("flex cursor-default items-center justify-center py-1",t),...e,children:I.jsx(DP,{className:"size-4"})})}const Tx=t=>{switch(t){case"cancelada":return"bg-red-200";case"no-se-presentó":return"bg-orange-200";case"programada":return"bg-blue-200";case"completada":return"bg-green-200";default:return"bg-gray-200"}},Sx={programada:"Programada",completada:"Completada",cancelada:"Cancelada","no-se-presentó":"No se presentó"},mH=["07","08","09","10","14","15","16","17"],pH=["00","15","30","45"],gH=({selectedDay:t,selectedCell:e,setSelectedDay:n,selectedDate:r,showModal:a,setShowModal:o,citasByDate:c,citasByDay:f,setShowEditModal:h,setSelectedAppointment:m,showEditModal:g,selectedAppointment:v,handleUpdate:b,handleDelete:S,setSelectedCell:C})=>{const R=()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-icon lucide-eye text-blue-500 hover:text-blue-700 transition-colors cursor-pointer",children:[I.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),I.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),x=w.useCallback((P,V)=>{const G=new Date(P),q=G.getDay(),re=q===0?-6:1-q,M=new Date(G);M.setDate(G.getDate()+re);const k=["Lunes","Martes","Miércoles","Jueves","Viernes"].indexOf(V),U=new Date(M);return U.setDate(M.getDate()+k),(j=>{const L=j.getFullYear(),we=String(j.getMonth()+1).padStart(2,"0"),Se=String(j.getDate()).padStart(2,"0");return`${L}-${we}-${Se}`})(U)},[]),O=["07:00:00","08:00:00","09:00:00","10:00:00","14:00:00","15:00:00","16:00:00","17:00:00"];return I.jsxs(I.Fragment,{children:[a&&e&&!t&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[I.jsxs("h3",{className:"font-bold mb-2 text-gray-800",children:["Citas en ",e.day," a las ",e.hour.slice(0,5)]}),c[`${x(r,e.day)}-${e.hour.slice(0,2)}`]?.length===0?I.jsx("p",{className:"text-gray-500",children:"No hay citas"}):I.jsx("ul",{className:"text-sm space-y-2 flex flex-col items-start w-full",children:c[`${x(r,e.day)}-${e.hour.slice(0,2)}`]?.map(P=>I.jsxs("li",{className:`w-full max-w-[22rem] text-left text-gray-900 flex justify-between items-center px-4 py-2 rounded-lg ${Tx(P.estado)}`,children:[I.jsxs("div",{children:[P.paciente," - Hora: ",P.hora.slice(0,5)," - Estado: ",Sx[P.estado]||P.estado]}),I.jsx("div",{className:"flex items-center space-x-2",children:I.jsx("span",{onClick:()=>{m({...P,fecha:P.fecha,hora:P.hora.slice(0,5)}),h(!0),o(!1)},children:I.jsx(R,{})})})]},P.id))}),I.jsx("div",{className:"flex justify-end mt-4",children:I.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>{o(!1),C(null)},children:"Cerrar"})})]})}),a&&t&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-[28rem] max-h-[80vh] flex flex-col",children:[I.jsxs("h3",{className:"font-bold mb-4 text-gray-800",children:["Citas en ",t]}),f[x(r,t)]?.length===0?I.jsx("p",{className:"text-gray-500",children:"No hay citas este día"}):I.jsx("div",{className:"overflow-y-auto pr-2 flex-grow",children:I.jsx("div",{className:"space-y-3",children:O.map(P=>{const V=c[`${x(r,t)}-${P.slice(0,2)}`]||[];return I.jsxs("div",{children:[I.jsx("p",{className:"font-semibold text-gray-700",children:P.slice(0,5)}),V.length===0?I.jsx("p",{className:"text-gray-400 text-sm",children:"Sin citas"}):I.jsx("ul",{className:"text-sm space-y-2 flex flex-col items-start",children:V.map(G=>I.jsxs("li",{className:`w-full max-w-[24rem] text-left text-gray-900 flex justify-between items-center px-4 py-2 rounded-lg ${Tx(G.estado)}`,children:[I.jsxs("div",{children:[G.paciente," - Hora: ",G.hora.slice(0,5)," - Estado: ",Sx[G.estado]||G.estado]}),I.jsx("div",{className:"flex items-center space-x-2",children:I.jsx("span",{onClick:()=>{m({...G,fecha:G.fecha,hora:G.hora.slice(0,5)}),h(!0),o(!1)},children:I.jsx(R,{})})})]},G.id))})]},P)})})}),I.jsx("div",{className:"flex justify-end mt-4",children:I.jsx(ut,{className:"cursor-pointer",variant:"outline",onClick:()=>{o(!1),n(null)},children:"Cerrar"})})]})}),g&&v&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",children:[I.jsx("h3",{className:"font-bold mb-4 text-gray-800 text-center",children:"Gestionar Cita"}),I.jsxs("form",{onSubmit:b,className:"space-y-3",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre del paciente"}),I.jsx(Jr,{type:"text",value:v.paciente,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),I.jsx(Jr,{type:"text",value:v.clienteId,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Fecha de la cita"}),I.jsx(Jr,{type:"date",value:v.fecha,onChange:P=>m({...v,fecha:P.target.value}),required:!0})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Hora"}),I.jsxs("select",{value:v.hora.split(":")[0],onChange:P=>m(V=>({...V,hora:`${P.target.value}:${V.hora.split(":")[1]||"00"}:00`})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[I.jsx("option",{value:"",children:"--"}),mH.map(P=>I.jsx("option",{value:P,children:P},P))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Minutos"}),I.jsxs("select",{value:v.hora.split(":")[1],onChange:P=>m(V=>({...V,hora:`${V.hora.split(":")[0]||"07"}:${P.target.value}:00`})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[I.jsx("option",{value:"",children:"--"}),pH.map(P=>I.jsx("option",{value:P,children:P},P))]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Estado"}),I.jsxs(lH,{value:v.estado,onValueChange:P=>m({...v,estado:P}),children:[I.jsx(uH,{children:I.jsx(cH,{placeholder:"Seleccionar estado"})}),I.jsxs(fH,{children:[I.jsx(Ed,{value:"programada",children:"Programada"}),I.jsx(Ed,{value:"completada",children:"Completada"}),I.jsx(Ed,{value:"no-se-presentó",children:"No se presentó"}),I.jsx(Ed,{value:"cancelada",children:"Cancelada"})]})]})]}),I.jsxs("div",{className:"flex justify-between items-center mt-4",children:[I.jsx(ut,{type:"button",variant:"destructive",onClick:S,className:"cursor-pointer",children:"Eliminar"}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx(ut,{type:"button",variant:"outline",onClick:()=>h(!1),className:"cursor-pointer",children:"Cancelar"}),I.jsx(ut,{type:"submit",className:"cursor-pointer",children:"Guardar Cambios"})]})]})]})]})})]})},yH=["07:00:00","08:00:00","09:00:00","10:00:00","14:00:00","15:00:00","16:00:00","17:00:00"],Ax=["Lunes","Martes","Miércoles","Jueves","Viernes"],vH=["07","08","09","10","14","15","16","17"],_H=["00","15","30","45"],Zy=(t,e)=>{const r=["Lunes","Martes","Miércoles","Jueves","Viernes"].indexOf(e),{monday:a}=u0(t),o=new Date(a);return o.setDate(a.getDate()+r),c0(o)},c0=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},u0=t=>{const e=new Date(t),n=e.getDay(),r=n===0?-6:1-n,a=new Date(e);a.setDate(e.getDate()+r);const o=new Date(a);return o.setDate(a.getDate()+4),{monday:a,friday:o,startDateStr:c0(a),endDateStr:c0(o)}},bH=(t,e)=>{const n=w.useRef(null);return w.useCallback((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...r)},e)},[t,e])},EH=()=>{const t=new Date,e=t.getDay(),n=e===0?-6:1-e;return t.setDate(t.getDate()+n),t};function wH(){const[t,e]=w.useState("view"),[n,r]=w.useState([]),[a,o]=w.useState([]),[c,f]=w.useState(EH()),[h,m]=w.useState(null),[g,v]=w.useState(null),[b,S]=w.useState(!1),[C,R]=w.useState(!1),[x,O]=w.useState(!1),[P,V]=w.useState(null),[G,q]=w.useState(""),[re,M]=w.useState([]),[A,k]=w.useState(null),[U,B]=w.useState({documento:"",paciente:"",hora:""});w.useEffect(()=>{const ee=rf(so(On,"clientes"),he=>{const pe=he.docs.map(fe=>fe.data());r(pe)});return()=>ee()},[]),w.useEffect(()=>{},[a]),w.useEffect(()=>{const{startDateStr:ee,endDateStr:he}=u0(c),pe=x6(so(On,"citas"),_A("fecha",">=",ee),_A("fecha","<=",he)),fe=rf(pe,Te=>{const ze=Te.docs.map(Oe=>({...Oe.data(),docId:Oe.id}));o(ze)});return()=>fe()},[c]);const j=w.useMemo(()=>a.reduce((ee,he)=>{const pe=`${he.fecha}-${he.hora.slice(0,2)}`;return ee[pe]||(ee[pe]=[]),ee[pe].push(he),ee},{}),[a]),L=w.useMemo(()=>a.reduce((ee,he)=>(ee[he.fecha]||(ee[he.fecha]=[]),ee[he.fecha].push(he),ee),{}),[a]),we=w.useCallback((ee,he)=>{B({documento:"",paciente:"",hora:he.slice(0,5)}),k(null),q(""),M([]),m({day:ee,hour:he}),v(null),R(!0)},[]),Se=w.useCallback(async ee=>{ee.preventDefault();const{documento:he,paciente:pe,hora:fe}=U;if(!he||!pe||!fe)return;if(!A?.id){dd.error("Debes seleccionar un cliente antes de guardar la cita");return}const Te={clienteId:A.id,paciente:pe,documento:he,fecha:Zy(c,h.day),hora:`${fe}:00`,estado:"programada",creadoEn:$i(),actualizadoEn:$i()};try{await _I(so(On,"citas"),Te),dd.success(`Cita para ${pe} añadida a las ${fe}`),R(!1),k(null),B({documento:"",paciente:"",hora:""})}catch(ze){console.error("Error al guardar la cita:",ze),dd.error("Hubo un problema al guardar la cita")}},[U,h,c,A]),K=w.useCallback(async ee=>{if(ee.preventDefault(),!P?.docId)return;const{paciente:he,fecha:pe,hora:fe,estado:Te,clienteId:ze}=P;try{await zv(Bs(On,"citas",P.docId),{paciente:he,fecha:pe,hora:fe,estado:Te,clienteId:ze,actualizadoEn:$i()}),O(!1),V(null)}catch(Oe){console.error("Error al actualizar la cita:",Oe),dd.error("Hubo un problema al actualizar la cita")}},[P]),ne=w.useCallback(async()=>{if(P?.docId)try{await Fv(Bs(On,"citas",P.docId)),O(!1),V(null)}catch(ee){console.error("Error al eliminar la cita:",ee)}},[P]),X=w.useMemo(()=>{const{monday:ee,friday:he}=u0(c);return`${ee.toLocaleDateString()} al ${he.toLocaleDateString()}`},[c]),ge=w.useCallback(ee=>{f(he=>{const pe=new Date(he);return pe.setDate(pe.getDate()+ee*7),pe})},[]),F=w.useCallback(ee=>{if(ee.length>0){const he=n.filter(pe=>pe.nombre.toLowerCase().includes(ee.toLowerCase())||pe.id.includes(ee));M(he)}else M([])},[n]),se=bH(F,300),de=ee=>{q(ee.target.value),se(ee.target.value)},oe=ee=>{k(ee),B({...U,documento:ee.id,paciente:ee.nombre,clienteId:ee.id}),q(""),M([])};return w.useMemo(()=>{const ee=["07","08","09","10","14","15","16","17"],he=["00","15","30","45"],pe=[];return ee.forEach(fe=>{he.forEach(Te=>{pe.push(`${fe}:${Te}`)})}),pe},[]),I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx(ut,{className:"cursor-pointer bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 hover:from-purple-500 hover:via-purple-500 hover:to-blue-500 transition",onClick:()=>ge(-1),children:"← Semana anterior"}),I.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 gap-y-4 bg-white rounded shadow-md w-100 h-30",children:[I.jsxs("h2",{className:`text-xl font-bold text-center ${t==="view"?"text-blue-600":"text-orange-600"}`,children:["Semana de ",X]}),I.jsx(ut,{className:"cursor-pointer",onClick:()=>e(t==="view"?"edit":"view"),children:t==="view"?"Añadir Agenda":"Ver Agenda"})]}),I.jsx(ut,{className:"cursor-pointer bg-gradient-to-r from-purple-700 via-purple-700 to-blue-700 hover:from-purple-500 hover:via-purple-500 hover:to-blue-500 transition",onClick:()=>ge(1),children:"Semana siguiente →"})]}),I.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[I.jsx("div",{}),Ax.map(ee=>I.jsx("div",{className:"font-bold text-white shadow-md py-2 rounded text-center cursor-pointer bg-gradient-to-r from-blue-800 via-blue-600/85 to-blue-500 hover:from-blue-900 hover:to-blue-900 transition",onClick:()=>{v(ee),m(null),S(!0)},children:ee},ee)),yH.map(ee=>I.jsxs(Gi.Fragment,{children:[I.jsx("div",{className:"font-bold text-white shadow-md py-2 flex items-center justify-center rounded bg-gradient-to-r from-blue-800 via-blue-600/85 to-blue-500",children:ee.slice(0,5)}),Ax.map(he=>{const pe=Zy(c,he),fe=j[`${pe}-${ee.slice(0,2)}`]||[],Te=fe.length>0;return I.jsx(Qv,{className:`cursor-pointer h-20 flex items-center justify-center text-sm transition-colors rounded-lg ${t==="edit"?"bg-yellow-300 hover:bg-yellow-500":Te?"bg-green-400 hover:bg-green-500":"bg-blue-50 hover:bg-blue-100"}`,onClick:()=>{m({day:he,hour:ee}),v(null),t==="edit"?we(he,ee):S(!0)},children:I.jsx(Zv,{className:"text-center",children:t==="edit"?I.jsx("p",{className:"text-gray-800 font-medium",children:"Añadir Nuevo"}):Te?I.jsxs("p",{className:"font-semibold text-gray-800",children:[fe.length," cita(s)"]}):I.jsx("p",{className:"text-gray-500",children:"Sin citas"})})},he+ee)})]},ee))]}),t==="edit"&&I.jsx("div",{className:"fixed bottom-6 right-6",children:I.jsx(ut,{onClick:()=>e("view"),className:"bg-green-600 text-white shadow-lg cursor-pointer",children:"Guardar cambios"})}),C&&h&&I.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>R(!1),children:I.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-96",onClick:ee=>ee.stopPropagation(),children:[I.jsxs("h3",{className:"font-bold mb-4 text-gray-800",children:["Nueva cita para el ",h.day," (",Zy(c,h.day),")"]}),I.jsxs("form",{onSubmit:Se,className:"space-y-3",children:[A?I.jsxs(I.Fragment,{children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Nombre del paciente"}),I.jsx(Jr,{type:"text",value:A.nombre,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Número de documento"}),I.jsx(Jr,{type:"text",value:A.id,readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]})]}):I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700",children:"Buscar paciente"}),I.jsx(Jr,{type:"text",placeholder:"Buscar por nombre",value:G,onChange:de}),re.length>0&&I.jsx("ul",{className:"mt-2 border rounded-md max-h-48 overflow-y-auto",children:re.map(ee=>I.jsxs("li",{className:"p-2 cursor-pointer hover:bg-gray-100",onClick:()=>oe(ee),children:[ee.nombre," (Doc: ",ee.id,")"]},ee.id))})]}),A&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora"}),I.jsxs("select",{value:U.hora.split(":")[0]||"",onChange:ee=>B(he=>({...he,hora:`${ee.target.value}:${he.hora.split(":")[1]||"00"}`})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[I.jsx("option",{value:"",children:"--"}),vH.map(ee=>I.jsx("option",{value:ee,children:ee},ee))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minutos"}),I.jsxs("select",{value:U.hora.split(":")[1]||"",onChange:ee=>B(he=>({...he,hora:`${he.hora.split(":")[0]||"07"}:${ee.target.value}`})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[I.jsx("option",{value:"",children:"--"}),_H.map(ee=>I.jsx("option",{value:ee,children:ee},ee))]})]})]}),I.jsxs("div",{className:"flex justify-end space-x-2",children:[I.jsx(ut,{className:"cursor-pointer",type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancelar"}),I.jsx(ut,{className:"cursor-pointer",type:"submit",children:"Guardar"})]})]})]})]})}),I.jsx(gH,{selectedDay:g,selectedCell:h,selectedDate:c,showModal:b,setShowModal:S,citasByDate:j,citasByDay:L,setShowEditModal:O,setSelectedAppointment:V,showEditModal:x,selectedAppointment:P,handleUpdate:K,handleDelete:ne,setSelectedCell:m,setSelectedDay:v})]})}const W_=w.createContext({});function X_(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Q_=typeof window<"u",PP=Q_?w.useLayoutEffect:w.useEffect,fp=w.createContext(null);function Z_(t,e){t.indexOf(e)===-1&&t.push(e)}function J_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const is=(t,e,n)=>n>e?e:n<t?t:n;let eb=()=>{};const ss={},NP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MP(t){return typeof t=="object"&&t!==null}const OP=t=>/^0[^.\s]+$/u.test(t);function tb(t){let e;return()=>(e===void 0&&(e=t()),e)}const pr=t=>t,TH=(t,e)=>n=>e(t(n)),Nf=(...t)=>t.reduce(TH),uf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class nb{constructor(){this.subscriptions=[]}add(e){return Z_(this.subscriptions,e),()=>J_(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=t=>t*1e3,ui=t=>t/1e3;function kP(t,e){return e?t*(1e3/e):0}const VP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SH=1e-7,AH=12;function xH(t,e,n,r,a){let o,c,f=0;do c=e+(n-e)/2,o=VP(c,r,a)-t,o>0?n=c:e=c;while(Math.abs(o)>SH&&++f<AH);return c}function Mf(t,e,n,r){if(t===e&&n===r)return pr;const a=o=>xH(o,0,1,t,n);return o=>o===0||o===1?o:VP(a(o),e,r)}const LP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UP=t=>e=>1-t(1-e),jP=Mf(.33,1.53,.69,.99),rb=UP(jP),BP=LP(rb),zP=t=>(t*=2)<1?.5*rb(t):.5*(2-Math.pow(2,-10*(t-1))),ib=t=>1-Math.sin(Math.acos(t)),FP=UP(ib),HP=LP(ib),RH=Mf(.42,0,1,1),CH=Mf(0,0,.58,1),qP=Mf(.42,0,.58,1),IH=t=>Array.isArray(t)&&typeof t[0]!="number",GP=t=>Array.isArray(t)&&typeof t[0]=="number",DH={linear:pr,easeIn:RH,easeInOut:qP,easeOut:CH,circIn:ib,circInOut:HP,circOut:FP,backIn:rb,backInOut:BP,backOut:jP,anticipate:zP},PH=t=>typeof t=="string",xx=t=>{if(GP(t)){eb(t.length===4);const[e,n,r,a]=t;return Mf(e,n,r,a)}else if(PH(t))return DH[t];return t},wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NH(t,e){let n=new Set,r=new Set,a=!1,o=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(m.schedule(g),t()),g(f)}const m={schedule:(g,v=!1,b=!1)=>{const C=b&&a?n:r;return v&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(f=g,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(h),n.clear(),a=!1,o&&(o=!1,m.process(g))}};return m}const MH=40;function $P(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=wd.reduce((V,G)=>(V[G]=NH(o),V),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:g,update:v,preRender:b,render:S,postRender:C}=c,R=()=>{const V=ss.useManualTiming?a.timestamp:performance.now();n=!1,ss.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(V-a.timestamp,MH),1)),a.timestamp=V,a.isProcessing=!0,f.process(a),h.process(a),m.process(a),g.process(a),v.process(a),b.process(a),S.process(a),C.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(R))},x=()=>{n=!0,r=!0,a.isProcessing||t(R)};return{schedule:wd.reduce((V,G)=>{const q=c[G];return V[G]=(re,M=!1,A=!1)=>(n||x(),q.schedule(re,M,A)),V},{}),cancel:V=>{for(let G=0;G<wd.length;G++)c[wd[G]].cancel(V)},state:a,steps:c}}const{schedule:gt,cancel:oa,state:cn,steps:Jy}=$P(typeof requestAnimationFrame<"u"?requestAnimationFrame:pr,!0);let Fd;function OH(){Fd=void 0}const Vn={now:()=>(Fd===void 0&&Vn.set(cn.isProcessing||ss.useManualTiming?cn.timestamp:performance.now()),Fd),set:t=>{Fd=t,queueMicrotask(OH)}},KP=t=>e=>typeof e=="string"&&e.startsWith(t),sb=KP("--"),kH=KP("var(--"),ab=t=>kH(t)?VH.test(t.split("/*")[0].trim()):!1,VH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ff={...dc,transform:t=>is(0,1,t)},Td={...dc,default:1},Hu=t=>Math.round(t*1e5)/1e5,ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LH(t){return t==null}const UH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lb=(t,e)=>n=>!!(typeof n=="string"&&UH.test(n)&&n.startsWith(t)||e&&!LH(n)&&Object.prototype.hasOwnProperty.call(n,e)),YP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,o,c,f]=r.match(ob);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},jH=t=>is(0,255,t),ev={...dc,transform:t=>Math.round(jH(t))},no={test:lb("rgb","red"),parse:YP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ev.transform(t)+", "+ev.transform(e)+", "+ev.transform(n)+", "+Hu(ff.transform(r))+")"};function BH(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const f0={test:lb("#"),parse:BH,transform:no.transform},Of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),js=Of("deg"),fi=Of("%"),Ne=Of("px"),zH=Of("vh"),FH=Of("vw"),Rx={...fi,parse:t=>fi.parse(t)/100,transform:t=>fi.transform(t*100)},xl={test:lb("hsl","hue"),parse:YP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fi.transform(Hu(e))+", "+fi.transform(Hu(n))+", "+Hu(ff.transform(r))+")"},jt={test:t=>no.test(t)||f0.test(t)||xl.test(t),parse:t=>no.test(t)?no.parse(t):xl.test(t)?xl.parse(t):f0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):xl.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},HH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qH(t){return isNaN(t)&&typeof t=="string"&&(t.match(ob)?.length||0)+(t.match(HH)?.length||0)>0}const WP="number",XP="color",GH="var",$H="var(",Cx="${}",KH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const f=e.replace(KH,h=>(jt.test(h)?(r.color.push(o),a.push(XP),n.push(jt.parse(h))):h.startsWith($H)?(r.var.push(o),a.push(GH),n.push(h)):(r.number.push(o),a.push(WP),n.push(parseFloat(h))),++o,Cx)).split(Cx);return{values:n,split:f,indexes:r,types:a}}function QP(t){return hf(t).values}function ZP(t){const{split:e,types:n}=hf(t),r=e.length;return a=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],a[c]!==void 0){const f=n[c];f===WP?o+=Hu(a[c]):f===XP?o+=jt.transform(a[c]):o+=a[c]}return o}}const YH=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function WH(t){const e=QP(t);return ZP(t)(e.map(YH))}const la={test:qH,parse:QP,createTransformer:ZP,getAnimatableNone:WH};function tv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,h=2*n-f;a=tv(h,f,t+1/3),o=tv(h,f,t),c=tv(h,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function bm(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,nv=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},QH=[f0,no,xl],ZH=t=>QH.find(e=>e.test(t));function Ix(t){const e=ZH(t);if(!e)return!1;let n=e.parse(t);return e===xl&&(n=XH(n)),n}const Dx=(t,e)=>{const n=Ix(t),r=Ix(e);if(!n||!r)return bm(t,e);const a={...n};return o=>(a.red=nv(n.red,r.red,o),a.green=nv(n.green,r.green,o),a.blue=nv(n.blue,r.blue,o),a.alpha=_t(n.alpha,r.alpha,o),no.transform(a))},h0=new Set(["none","hidden"]);function JH(t,e){return h0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e8(t,e){return n=>_t(t,e,n)}function cb(t){return typeof t=="number"?e8:typeof t=="string"?ab(t)?bm:jt.test(t)?Dx:r8:Array.isArray(t)?JP:typeof t=="object"?jt.test(t)?Dx:t8:bm}function JP(t,e){const n=[...t],r=n.length,a=t.map((o,c)=>cb(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=a[c](o);return n}}function t8(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=cb(t[a])(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function n8(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][r[o]],f=t.values[c]??0;n[a]=f,r[o]++}return n}const r8=(t,e)=>{const n=la.createTransformer(e),r=hf(t),a=hf(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?h0.has(t)&&!a.values.length||h0.has(e)&&!r.values.length?JH(t,e):Nf(JP(n8(r,a),a.values),n):bm(t,e)};function eN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):cb(t)(t,e)}const i8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gt.update(e,n),stop:()=>oa(e),now:()=>cn.isProcessing?cn.timestamp:Vn.now()}},tN=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)r+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Em=2e4;function ub(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Em;)e+=n,r=t.next(e);return e>=Em?1/0:e}function s8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(ub(r),Em);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:ui(a)}}const a8=5;function nN(t,e,n){const r=Math.max(e-a8,0);return kP(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rv=.001;function o8({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let a,o,c=1-e;c=is(St.minDamping,St.maxDamping,c),t=is(St.minDuration,St.maxDuration,ui(t)),c<1?(a=m=>{const g=m*c,v=g*t,b=g-n,S=d0(m,c),C=Math.exp(-v);return rv-b/S*C},o=m=>{const v=m*c*t,b=v*n+n,S=Math.pow(c,2)*Math.pow(m,2)*t,C=Math.exp(-v),R=d0(Math.pow(m,2),c);return(-a(m)+rv>0?-1:1)*((b-S)*C)/R}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-rv+g*v},o=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const f=5/t,h=c8(a,o,f);if(t=ci(t),isNaN(h))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const l8=12;function c8(t,e,n){let r=n;for(let a=1;a<l8;a++)r=r-t(r)/e(r);return r}function d0(t,e){return t*Math.sqrt(1-e*e)}const u8=["duration","bounce"],f8=["stiffness","damping","mass"];function Px(t,e){return e.some(n=>t[n]!==void 0)}function h8(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!Px(t,f8)&&Px(t,u8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*is(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:o}}else{const n=o8(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function wm(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:o},{stiffness:h,damping:m,mass:g,duration:v,velocity:b,isResolvedFromDuration:S}=h8({...n,velocity:-ui(n.velocity||0)}),C=b||0,R=m/(2*Math.sqrt(h*g)),x=c-o,O=ui(Math.sqrt(h/g)),P=Math.abs(x)<5;r||(r=P?St.restSpeed.granular:St.restSpeed.default),a||(a=P?St.restDelta.granular:St.restDelta.default);let V;if(R<1){const q=d0(O,R);V=re=>{const M=Math.exp(-R*O*re);return c-M*((C+R*O*x)/q*Math.sin(q*re)+x*Math.cos(q*re))}}else if(R===1)V=q=>c-Math.exp(-O*q)*(x+(C+O*x)*q);else{const q=O*Math.sqrt(R*R-1);V=re=>{const M=Math.exp(-R*O*re),A=Math.min(q*re,300);return c-M*((C+R*O*x)*Math.sinh(A)+q*x*Math.cosh(A))/q}}const G={calculatedDuration:S&&v||null,next:q=>{const re=V(q);if(S)f.done=q>=v;else{let M=q===0?C:0;R<1&&(M=q===0?ci(C):nN(V,q,re));const A=Math.abs(M)<=r,k=Math.abs(c-re)<=a;f.done=A&&k}return f.value=f.done?c:re,f},toString:()=>{const q=Math.min(ub(G),Em),re=tN(M=>G.next(q*M).value,q,30);return q+"ms "+re},toTransition:()=>{}};return G}wm.applyToOptions=t=>{const e=s8(t,100,wm);return t.ease=e.ease,t.duration=ci(e.duration),t.type="keyframes",t};function m0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:f,max:h,restDelta:m=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},S=A=>f!==void 0&&A<f||h!==void 0&&A>h,C=A=>f===void 0?h:h===void 0||Math.abs(f-A)<Math.abs(h-A)?f:h;let R=n*e;const x=v+R,O=c===void 0?x:c(x);O!==x&&(R=O-v);const P=A=>-R*Math.exp(-A/r),V=A=>O+P(A),G=A=>{const k=P(A),U=V(A);b.done=Math.abs(k)<=m,b.value=b.done?O:U};let q,re;const M=A=>{S(b.value)&&(q=A,re=wm({keyframes:[b.value,C(b.value)],velocity:nN(V,A,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return M(0),{calculatedDuration:null,next:A=>{let k=!1;return!re&&q===void 0&&(k=!0,G(A),M(A)),q!==void 0&&A>=q?re.next(A-q):(!k&&G(A),b)}}}function d8(t,e,n){const r=[],a=n||ss.mix||eN,o=t.length-1;for(let c=0;c<o;c++){let f=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||pr:e;f=Nf(h,f)}r.push(f)}return r}function m8(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(eb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=d8(e,r,a),h=f.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=uf(t[v],t[v+1],g);return f[v](b)};return n?g=>m(is(t[0],t[o-1],g)):m}function p8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=uf(0,e,r);t.push(_t(n,1,a))}}function g8(t){const e=[0];return p8(e,t.length-1),e}function y8(t,e){return t.map(n=>n*e)}function v8(t,e){return t.map(()=>e||qP).splice(0,t.length-1)}function qu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=IH(r)?r.map(xx):xx(r),o={done:!1,value:e[0]},c=y8(n&&n.length===e.length?n:g8(e),t),f=m8(c,e,{ease:Array.isArray(a)?a:v8(e,a)});return{calculatedDuration:t,next:h=>(o.value=f(h),o.done=h>=t,o)}}const _8=t=>t!==null;function fb(t,{repeat:e,repeatType:n="loop"},r,a=1){const o=t.filter(_8),f=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!f||r===void 0?o[f]:r}const b8={decay:m0,inertia:m0,tween:qu,keyframes:qu,spring:wm};function rN(t){typeof t.type=="string"&&(t.type=b8[t.type])}class hb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const E8=t=>t/100;class db extends hb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rN(e);const{type:n=qu,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:f}=e;const h=n||qu;h!==qu&&typeof f[0]!="number"&&(this.mixKeyframes=Nf(E8,eN(f[0],f[1])),f=[0,100]);const m=h({...e,keyframes:f});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=ub(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:S,type:C,onUpdate:R,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,G=r;if(v){const A=Math.min(this.currentTime,a)/f;let k=Math.floor(A),U=A%1;!U&&A>=1&&(U=1),U===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(b==="reverse"?(U=1-U,S&&(U-=S/f)):b==="mirror"&&(G=c)),V=is(0,1,U)*f}const q=P?{done:!1,value:g[0]}:G.next(V);o&&(q.value=o(q.value));let{done:re}=q;!P&&h!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return M&&C!==m0&&(q.value=fb(g,this.options,x,this.speed)),R&&R(q.value),M&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return ui(this.calculatedDuration)}get time(){return ui(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=i8,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function w8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ro=t=>t*180/Math.PI,p0=t=>{const e=ro(Math.atan2(t[1],t[0]));return g0(e)},T8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:p0,rotateZ:p0,skewX:t=>ro(Math.atan(t[1])),skewY:t=>ro(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},g0=t=>(t=t%360,t<0&&(t+=360),t),Nx=p0,Mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ox=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mx,scaleY:Ox,scale:t=>(Mx(t)+Ox(t))/2,rotateX:t=>g0(ro(Math.atan2(t[6],t[5]))),rotateY:t=>g0(ro(Math.atan2(-t[2],t[0]))),rotateZ:Nx,rotate:Nx,skewX:t=>ro(Math.atan(t[4])),skewY:t=>ro(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function y0(t){return t.includes("scale")?1:0}function v0(t,e){if(!t||t==="none")return y0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=S8,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=T8,a=f}if(!a)return y0(e);const o=r[e],c=a[1].split(",").map(x8);return typeof o=="function"?o(c):c[o]}const A8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return v0(n,e)};function x8(t){return parseFloat(t.trim())}const mc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(mc),kx=t=>t===dc||t===Ne,R8=new Set(["x","y","z"]),C8=mc.filter(t=>!R8.has(t));function I8(t){const e=[];return C8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>v0(e,"x"),y:(t,{transform:e})=>v0(e,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const lo=new Set;let _0=!1,b0=!1,E0=!1;function iN(){if(b0){const t=Array.from(lo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=I8(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,c])=>{r.getValue(o)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}b0=!1,_0=!1,lo.forEach(t=>t.complete(E0)),lo.clear()}function sN(){lo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(b0=!0)})}function D8(){E0=!0,sN(),iN(),E0=!1}class mb{constructor(e,n,r,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),_0||(_0=!0,gt.read(sN),gt.resolveKeyframes(iN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}w8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P8=t=>t.startsWith("--");function N8(t,e,n){P8(e)?t.style.setProperty(e,n):t.style[e]=n}const M8=tb(()=>window.ScrollTimeline!==void 0),O8={};function k8(t,e){const n=tb(t);return()=>O8[e]??n()}const aN=k8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ku=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ku([0,.65,.55,1]),circOut:ku([.55,0,1,.45]),backIn:ku([.31,.01,.66,-.59]),backOut:ku([.33,1.53,.69,.99])};function oN(t,e){if(t)return typeof t=="function"?aN()?tN(t,e):"ease-out":GP(t)?ku(t):Array.isArray(t)?t.map(n=>oN(n,e)||Vx.easeOut):Vx[t]}function V8(t,e,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:f="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const v=oN(f,a);Array.isArray(v)&&(g.easing=v);const b={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function lN(t){return typeof t=="function"&&"applyToOptions"in t}function L8({type:t,...e}){return lN(t)&&aN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U8 extends hb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,eb(typeof e.type!="string");const m=L8(e);this.animation=V8(n,r,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=fb(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):N8(n,r,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ui(Number(e))}get time(){return ui(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&M8()?(this.animation.timeline=e,pr):n(this)}}const cN={anticipate:zP,backInOut:BP,circInOut:HP};function j8(t){return t in cN}function B8(t){typeof t.ease=="string"&&j8(t.ease)&&(t.ease=cN[t.ease])}const Lx=10;class z8 extends U8{constructor(e){B8(e),rN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new db({...c,autoplay:!1}),h=ci(this.finishedTime??this.time);n.setWithVelocity(f.sample(h-Lx).value,f.sample(h).value,Lx),f.stop()}}const Ux=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(la.test(t)||t==="0")&&!t.startsWith("url("));function F8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H8(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=Ux(a,e),f=Ux(o,e);return!c||!f?!1:F8(t)||(n==="spring"||lN(n))&&r}function w0(t){t.duration=0,t.type}const q8=new Set(["opacity","clipPath","filter","transform"]),G8=tb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $8(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return G8()&&n&&q8.has(n)&&(n!=="transform"||!m)&&!h&&!r&&a!=="mirror"&&o!==0&&c!=="inertia"}const K8=40;class Y8 extends hb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:f,name:h,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const b={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:c,name:h,motionValue:m,element:g,...v},S=g?.KeyframeResolver||mb;this.keyframeResolver=new S(f,(C,R,x)=>this.onKeyframesResolved(C,R,b,!x),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:f,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Vn.now(),H8(e,o,c,f)||((ss.instantAnimations||!h)&&g?.(fb(e,r,n)),e[0]=e[e.length-1],w0(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>K8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&$8(b)?new z8({...b,element:b.motionValue.owner.current}):new db(b);S.finished.then(()=>this.notifyFinished()).catch(pr),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),D8()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const W8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X8(t){const e=W8.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function uN(t,e,n=1){const[r,a]=X8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return NP(c)?parseFloat(c):c}return ab(a)?uN(a,e,n+1):a}function pb(t,e){return t?.[e]??t?.default??t}const fN=new Set(["width","height","top","left","right","bottom",...mc]),Q8={test:t=>t==="auto",parse:t=>t},hN=t=>e=>e.test(t),dN=[dc,Ne,fi,js,FH,zH,Q8],jx=t=>dN.find(hN(t));function Z8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OP(t):!0}const J8=new Set(["brightness","contrast","saturate","opacity"]);function eq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ob)||[];if(!r)return t;const a=n.replace(r,"");let o=J8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const tq=/\b([a-z-]*)\(.*?\)/gu,T0={...la,getAnimatableNone:t=>{const e=t.match(tq);return e?e.map(eq).join(" "):t}},Bx={...dc,transform:Math.round},nq={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:js,skewX:js,skewY:js,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:ff,originX:Rx,originY:Rx,originZ:Ne},gb={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...nq,zIndex:Bx,fillOpacity:ff,strokeOpacity:ff,numOctaves:Bx},rq={...gb,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:T0,WebkitFilter:T0},mN=t=>rq[t];function pN(t,e){let n=mN(t);return n!==T0&&(n=la),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iq=new Set(["auto","none","0"]);function sq(t,e,n){let r=0,a;for(;r<t.length&&!a;){const o=t[r];typeof o=="string"&&!iq.has(o)&&hf(o).values.length&&(a=t[r]),r++}if(a&&n)for(const o of e)t[o]=pN(n,a)}class aq extends mb{constructor(e,n,r,a,o){super(e,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),ab(m))){const g=uN(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!fN.has(r)||e.length!==2)return;const[a,o]=e,c=jx(a),f=jx(o);if(c!==f)if(kx(c)&&kx(f))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else oo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Z8(e[a]))&&r.push(a);r.length&&sq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=oo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function oq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const gN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yN(t){return MP(t)&&"offsetHeight"in t}const zx=30,lq=t=>!isNaN(parseFloat(t));class cq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nb);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zx);return kP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(t,e){return new cq(t,e)}const{schedule:yb}=$P(queueMicrotask,!1),Tr={x:!1,y:!1};function vN(){return Tr.x||Tr.y}function uq(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}function _N(t,e){const n=oq(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Fx(t){return!(t.pointerType==="touch"||vN())}function fq(t,e,n={}){const[r,a,o]=_N(t,n),c=f=>{if(!Fx(f))return;const{target:h}=f,m=e(h,f);if(typeof m!="function"||!h)return;const g=v=>{Fx(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),o}const bN=(t,e)=>e?t===e?!0:bN(t,e.parentElement):!1,vb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dq(t){return hq.has(t.tagName)||t.tabIndex!==-1}const Hd=new WeakSet;function Hx(t){return e=>{e.key==="Enter"&&t(e)}}function iv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hx(()=>{if(Hd.has(n))return;iv(n,"down");const a=Hx(()=>{iv(n,"up")}),o=()=>iv(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qx(t){return vb(t)&&!vN()}function pq(t,e,n={}){const[r,a,o]=_N(t,n),c=f=>{const h=f.currentTarget;if(!qx(f))return;Hd.add(h);const m=e(h,f),g=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Hd.has(h)&&Hd.delete(h),qx(S)&&typeof m=="function"&&m(S,{success:C})},v=S=>{g(S,h===window||h===document||n.useGlobalTarget||bN(h,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),yN(f)&&(f.addEventListener("focus",m=>mq(m,a)),!dq(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),o}function EN(t){return MP(t)&&"ownerSVGElement"in t}function gq(t){return EN(t)&&t.tagName==="svg"}const En=t=>!!(t&&t.getVelocity),yq=[...dN,jt,la],vq=t=>yq.find(hN(t)),_b=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _q extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=yN(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bq({children:t,isPresent:e,anchorX:n,root:r}){const a=w.useId(),o=w.useRef(null),c=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=w.useContext(_b);return w.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:v,right:b}=c.current;if(e||!o.current||!h||!m)return;const S=n==="left"?`left: ${v}`:`right: ${b}`;o.current.dataset.motionPopId=a;const C=document.createElement("style");f&&(C.nonce=f);const R=r??document.head;return R.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{R.contains(C)&&R.removeChild(C)}},[e]),I.jsx(_q,{isPresent:e,childRef:o,sizeRef:c,children:w.cloneElement(t,{ref:o})})}const Eq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:c,anchorX:f,root:h})=>{const m=X_(wq),g=w.useId();let v=!0,b=w.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:S=>{m.set(S,!0);for(const C of m.values())if(!C)return;r&&r()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,r]);return o&&v&&(b={...b}),w.useMemo(()=>{m.forEach((S,C)=>m.set(C,!1))},[n]),w.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=I.jsx(bq,{isPresent:n,anchorX:f,root:h,children:t})),I.jsx(fp.Provider,{value:b,children:t})};function wq(){return new Map}function wN(t=!0){const e=w.useContext(fp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,o=w.useId();w.useEffect(()=>{if(t)return a(o)},[t]);const c=w.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const Sd=t=>t.key||"";function Gx(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Tq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:f="left",root:h})=>{const[m,g]=wN(c),v=w.useMemo(()=>Gx(t),[t]),b=c&&!m?[]:v.map(Sd),S=w.useRef(!0),C=w.useRef(v),R=X_(()=>new Map),[x,O]=w.useState(v),[P,V]=w.useState(v);PP(()=>{S.current=!1,C.current=v;for(let re=0;re<P.length;re++){const M=Sd(P[re]);b.includes(M)?R.delete(M):R.get(M)!==!0&&R.set(M,!1)}},[P,b.length,b.join("-")]);const G=[];if(v!==x){let re=[...v];for(let M=0;M<P.length;M++){const A=P[M],k=Sd(A);b.includes(k)||(re.splice(M,0,A),G.push(A))}return o==="wait"&&G.length&&(re=G),V(Gx(re)),O(v),null}const{forceRender:q}=w.useContext(W_);return I.jsx(I.Fragment,{children:P.map(re=>{const M=Sd(re),A=c&&!m?!1:v===P||b.includes(M),k=()=>{if(R.has(M))R.set(M,!0);else return;let U=!0;R.forEach(B=>{B||(U=!1)}),U&&(q?.(),V(C.current),c&&g?.(),r&&r())};return I.jsx(Eq,{isPresent:A,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:h,onExitComplete:A?void 0:k,anchorX:f,children:re},M)})})},TN=w.createContext({strict:!1}),$x={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in $x)Wl[t]={isEnabled:e=>$x[t].some(n=>!!e[n])};function Sq(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}const Aq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Aq.has(t)}let SN=t=>!Tm(t);function xq(t){typeof t=="function"&&(SN=e=>e.startsWith("on")?!Tm(e):t(e))}try{xq(require("@emotion/is-prop-valid").default)}catch{}function Rq(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(SN(a)||n===!0&&Tm(a)||!e&&!Tm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const hp=w.createContext({});function dp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function df(t){return typeof t=="string"||Array.isArray(t)}const bb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Eb=["initial",...bb];function mp(t){return dp(t.animate)||Eb.some(e=>df(t[e]))}function AN(t){return!!(mp(t)||t.variants)}function Cq(t,e){if(mp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||df(n)?n:void 0,animate:df(r)?r:void 0}}return t.inherit!==!1?e:{}}function Iq(t){const{initial:e,animate:n}=Cq(t,w.useContext(hp));return w.useMemo(()=>({initial:e,animate:n}),[Kx(e),Kx(n)])}function Kx(t){return Array.isArray(t)?t.join(" "):t}const mf={};function Dq(t){for(const e in t)mf[e]=t[e],sb(e)&&(mf[e].isCSSVariable=!0)}function xN(t,{layout:e,layoutId:n}){return pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mf[t]||t==="opacity")}const Pq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nq=mc.length;function Mq(t,e,n){let r="",a=!0;for(let o=0;o<Nq;o++){const c=mc[o],f=t[c];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(c.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const m=gN(f,gb[c]);if(!h){a=!1;const g=Pq[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function wb(t,e,n){const{style:r,vars:a,transformOrigin:o}=t;let c=!1,f=!1;for(const h in e){const m=e[h];if(pc.has(h)){c=!0;continue}else if(sb(h)){a[h]=m;continue}else{const g=gN(m,gb[h]);h.startsWith("origin")?(f=!0,o[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=Mq(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:g=0}=o;r.transformOrigin=`${h} ${m} ${g}`}}const Tb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RN(t,e,n){for(const r in e)!En(e[r])&&!xN(r,n)&&(t[r]=e[r])}function Oq({transformTemplate:t},e){return w.useMemo(()=>{const n=Tb();return wb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kq(t,e){const n=t.style||{},r={};return RN(r,n,t),Object.assign(r,Oq(t,e)),r}function Vq(t,e){const n={},r=kq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Lq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uq={offset:"strokeDashoffset",array:"strokeDasharray"};function jq(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?Lq:Uq;t[o.offset]=Ne.transform(-r);const c=Ne.transform(e),f=Ne.transform(n);t[o.array]=`${c} ${f}`}function CN(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...f},h,m,g){if(wb(t,f,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&jq(v,a,o,c,!1)}const IN=()=>({...Tb(),attrs:{}}),DN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bq(t,e,n,r){const a=w.useMemo(()=>{const o=IN();return CN(o,e,DN(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};RN(o,t.style,t),a.style={...o,...a.style}}return a}const zq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sb(t){return typeof t!="string"||t.includes("-")?!1:!!(zq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Fq(t,e,n,{latestValues:r},a,o=!1){const f=(Sb(t)?Bq:Vq)(e,r,a,t),h=Rq(e,typeof t=="string",o),m=t!==w.Fragment?{...h,...f,ref:n}:{},{children:g}=e,v=w.useMemo(()=>En(g)?g.get():g,[g]);return w.createElement(t,{...m,children:v})}function Yx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ab(t,e,n,r){if(typeof e=="function"){const[a,o]=Yx(r);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=Yx(r);e=e(n!==void 0?n:t.custom,a,o)}return e}function qd(t){return En(t)?t.get():t}function Hq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:qq(n,r,a,t),renderState:e()}}function qq(t,e,n,r){const a={},o=r(t,{});for(const b in o)a[b]=qd(o[b]);let{initial:c,animate:f}=t;const h=mp(t),m=AN(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!dp(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const C=Ab(t,b[S]);if(C){const{transitionEnd:R,transition:x,...O}=C;for(const P in O){let V=O[P];if(Array.isArray(V)){const G=g?V.length-1:0;V=V[G]}V!==null&&(a[P]=V)}for(const P in R)a[P]=R[P]}}}return a}const PN=t=>(e,n)=>{const r=w.useContext(hp),a=w.useContext(fp),o=()=>Hq(t,e,r,a);return n?o():X_(o)};function xb(t,e,n){const{style:r}=t,a={};for(const o in r)(En(r[o])||e.style&&En(e.style[o])||xN(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const Gq=PN({scrapeMotionValuesFromProps:xb,createRenderState:Tb});function NN(t,e,n){const r=xb(t,e,n);for(const a in t)if(En(t[a])||En(e[a])){const o=mc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=t[a]}return r}const $q=PN({scrapeMotionValuesFromProps:NN,createRenderState:IN}),Kq=Symbol.for("motionComponentSymbol");function Rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Yq(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Rl(n)&&(n.current=r))},[e])}const Rb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wq="framerAppearId",MN="data-"+Rb(Wq),ON=w.createContext({});function Xq(t,e,n,r,a){const{visualElement:o}=w.useContext(hp),c=w.useContext(TN),f=w.useContext(fp),h=w.useContext(_b).reducedMotion,m=w.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,v=w.useContext(ON);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&Qq(m.current,n,a,v);const b=w.useRef(!1);w.useInsertionEffect(()=>{g&&b.current&&g.update(n,f)});const S=n[MN],C=w.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return PP(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),C.current=!1),g.enteringChildren=void 0)}),g}function Qq(t,e,n,r){const{layoutId:a,layout:o,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kN(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||f&&Rl(f),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function kN(t){if(t)return t.options.allowProjection!==!1?t.projection:kN(t.parent)}function sv(t,{forwardMotionProps:e=!1}={},n,r){n&&Sq(n);const a=Sb(t)?$q:Gq;function o(f,h){let m;const g={...w.useContext(_b),...f,layoutId:Zq(f)},{isStatic:v}=g,b=Iq(f),S=a(f,v);if(!v&&Q_){Jq();const C=eG(g);m=C.MeasureLayout,b.visualElement=Xq(t,S,g,r,C.ProjectionNode)}return I.jsxs(hp.Provider,{value:b,children:[m&&b.visualElement?I.jsx(m,{visualElement:b.visualElement,...g}):null,Fq(t,f,Yq(S,b.visualElement,h),S,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=w.forwardRef(o);return c[Kq]=t,c}function Zq({layoutId:t}){const e=w.useContext(W_).id;return e&&t!==void 0?e+"-"+t:t}function Jq(t,e){w.useContext(TN).strict}function eG(t){const{drag:e,layout:n}=Wl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tG(t,e){if(typeof Proxy>"u")return sv;const n=new Map,r=(o,c)=>sv(o,c,t,e),a=(o,c)=>r(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?r:(n.has(c)||n.set(c,sv(c,void 0,t,e)),n.get(c))})}function VN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function av(t){return t===void 0||t===1}function S0({scale:t,scaleX:e,scaleY:n}){return!av(t)||!av(e)||!av(n)}function Ja(t){return S0(t)||LN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LN(t){return Wx(t.x)||Wx(t.y)}function Wx(t){return t&&t!=="0%"}function Sm(t,e,n){const r=t-n,a=e*r;return n+a}function Xx(t,e,n,r,a){return a!==void 0&&(t=Sm(t,a,r)),Sm(t,n,r)+e}function A0(t,e=0,n=1,r,a){t.min=Xx(t.min,e,n,r,a),t.max=Xx(t.max,e,n,r,a)}function UN(t,{x:e,y:n}){A0(t.x,e.translate,e.scale,e.originPoint),A0(t.y,n.translate,n.scale,n.originPoint)}const Qx=.999999999999,Zx=1.0000000000001;function iG(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let f=0;f<a;f++){o=n[f],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,UN(t,c)),r&&Ja(o.latestValues)&&Il(t,o.latestValues))}e.x<Zx&&e.x>Qx&&(e.x=1),e.y<Zx&&e.y>Qx&&(e.y=1)}function Cl(t,e){t.min=t.min+e,t.max=t.max+e}function Jx(t,e,n,r,a=.5){const o=_t(t.min,t.max,a);A0(t,e,n,o,r)}function Il(t,e){Jx(t.x,e.x,e.scaleX,e.scale,e.originX),Jx(t.y,e.y,e.scaleY,e.scale,e.originY)}function jN(t,e){return VN(rG(t.getBoundingClientRect(),e))}function sG(t,e,n){const r=jN(t,n),{scroll:a}=e;return a&&(Cl(r.x,a.offset.x),Cl(r.y,a.offset.y)),r}const eR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:eR(),y:eR()}),tR=()=>({min:0,max:0}),Ct=()=>({x:tR(),y:tR()}),x0={current:null},BN={current:!1};function aG(){if(BN.current=!0,!!Q_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x0.current=t.matches;t.addEventListener("change",e),e()}else x0.current=!1}const oG=new WeakMap;function lG(t,e,n){for(const r in e){const a=e[r],o=n[r];if(En(a))t.addValue(r,a);else if(En(o))t.addValue(r,Yl(a,{owner:t}));else if(o!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,Yl(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const nR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,gt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=mp(n),this.isVariantNode=AN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const S=v[b];h[b]!==void 0&&En(S)&&S.set(h[b])}}mount(e){this.current=e,oG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BN.current||aG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wl){const n=Wl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nR.length;r++){const a=nR[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(NP(r)||OP(r))?r=parseFloat(r):!vq(r)&&la.test(n)&&(r=pN(e,n)),this.setBaseTarget(e,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ab(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yb.render(this.render)}}class zN extends cG{constructor(){super(...arguments),this.KeyframeResolver=aq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FN(t,{style:e,vars:n},r,a){const o=t.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,r);for(c in n)o.setProperty(c,n[c])}function uG(t){return window.getComputedStyle(t)}class fG extends zN{constructor(){super(...arguments),this.type="html",this.renderInstance=FN}readValueFromInstance(e,n){if(pc.has(n))return this.projection?.isProjecting?y0(n):A8(e,n);{const r=uG(e),a=(sb(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jN(e,n)}build(e,n,r){wb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xb(e,n,r)}}const HN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hG(t,e,n,r){FN(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(HN.has(a)?a:Rb(a),e.attrs[a])}class dG extends zN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pc.has(n)){const r=mN(n);return r&&r.default||0}return n=HN.has(n)?n:Rb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return NN(e,n,r)}build(e,n,r){CN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){hG(e,n,r,a)}mount(e){this.isSVGTag=DN(e.tagName),super.mount(e)}}const mG=(t,e)=>Sb(t)?new dG(e):new fG(e,{allowProjection:t!==w.Fragment});function jl(t,e,n){const r=t.getProps();return Ab(r,e,n!==void 0?n:r.custom,t)}const R0=t=>Array.isArray(t);function pG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yl(n))}function gG(t){return R0(t)?t[t.length-1]||0:t}function yG(t,e){const n=jl(t,e);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const c in o){const f=gG(o[c]);pG(t,c,f)}}function vG(t){return!!(En(t)&&t.add)}function C0(t,e){const n=t.getValue("willChange");if(vG(n))return n.add(e);if(!n&&ss.WillChange){const r=new ss.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function qN(t){return t.props[MN]}const _G=t=>t!==null;function bG(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(_G),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const EG={type:"spring",stiffness:500,damping:25,restSpeed:10},wG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TG={type:"keyframes",duration:.8},SG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AG=(t,{keyframes:e})=>e.length>2?TG:pc.has(t)?t.startsWith("scale")?wG(e[1]):EG:SG;function xG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:f,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Cb=(t,e,n,r={},a,o)=>c=>{const f=pb(r,t)||{},h=f.delay||r.delay||0;let{elapsed:m=0}=r;m=m-ci(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:o?void 0:a};xG(f)||Object.assign(g,AG(t,g)),g.duration&&(g.duration=ci(g.duration)),g.repeatDelay&&(g.repeatDelay=ci(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(w0(g),g.delay===0&&(v=!0)),(ss.instantAnimations||ss.skipAnimations)&&(v=!0,w0(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!o&&e.get()!==void 0){const b=bG(g.keyframes,f);if(b!==void 0){gt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new db(g):new Y8(g)};function RG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GN(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(o=r);const h=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in f){const v=t.getValue(g,t.latestValues[g]??null),b=f[g];if(b===void 0||m&&RG(m,g))continue;const S={delay:n,...pb(o||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===C&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const O=qN(t);if(O){const P=window.MotionHandoffAnimation(O,g,gt);P!==null&&(S.startTime=P,R=!0)}}C0(t,g),v.start(Cb(g,v,b,t.shouldReduceMotion&&fN.has(g)?{type:!1}:S,t,R));const x=v.animation;x&&h.push(x)}return c&&Promise.all(h).then(()=>{gt.update(()=>{c&&yG(t,c)})}),h}function $N(t,e,n,r=0,a=1){const o=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,f=(c-1)*r;return typeof n=="function"?n(o,c):a===1?o*r:f-o*r}function I0(t,e,n={}){const r=jl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(GN(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return CG(t,e,h,m,g,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[h,m]=f==="beforeChildren"?[o,c]:[c,o];return h().then(()=>m())}else return Promise.all([o(),c(n.delay)])}function CG(t,e,n=0,r=0,a=0,o=1,c){const f=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),f.push(I0(h,e,{...c,delay:n+(typeof r=="function"?0:r)+$N(t.variantChildren,h,r,a,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(f)}function IG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>I0(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=I0(t,e,n);else{const a=typeof e=="function"?jl(t,e,n.custom):e;r=Promise.all(GN(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function KN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const DG=Eb.length;function YN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?YN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DG;n++){const r=Eb[n],a=t.props[r];(df(a)||a===!1)&&(e[r]=a)}return e}const PG=[...bb].reverse(),NG=bb.length;function MG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>IG(t,n,r)))}function OG(t){let e=MG(t),n=rR(),r=!0;const a=h=>(m,g)=>{const v=jl(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...C}=v;m={...m,...C,...S}}return m};function o(h){e=h(t)}function c(h){const{props:m}=t,g=YN(t.parent)||{},v=[],b=new Set;let S={},C=1/0;for(let x=0;x<NG;x++){const O=PG[x],P=n[O],V=m[O]!==void 0?m[O]:g[O],G=df(V),q=O===h?P.isActive:null;q===!1&&(C=x);let re=V===g[O]&&V!==m[O]&&G;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),P.protectedKeys={...S},!P.isActive&&q===null||!V&&!P.prevProp||dp(V)||typeof V=="boolean")continue;const M=kG(P.prevProp,V);let A=M||O===h&&P.isActive&&!re&&G||x>C&&G,k=!1;const U=Array.isArray(V)?V:[V];let B=U.reduce(a(O),{});q===!1&&(B={});const{prevResolvedValues:j={}}=P,L={...j,...B},we=ne=>{A=!0,b.has(ne)&&(k=!0,b.delete(ne)),P.needsAnimating[ne]=!0;const X=t.getValue(ne);X&&(X.liveStyle=!1)};for(const ne in L){const X=B[ne],ge=j[ne];if(S.hasOwnProperty(ne))continue;let F=!1;R0(X)&&R0(ge)?F=!KN(X,ge):F=X!==ge,F?X!=null?we(ne):b.add(ne):X!==void 0&&b.has(ne)?we(ne):P.protectedKeys[ne]=!0}P.prevProp=V,P.prevResolvedValues=B,P.isActive&&(S={...S,...B}),r&&t.blockInitialAnimation&&(A=!1);const Se=re&&M;A&&(!Se||k)&&v.push(...U.map(ne=>{const X={type:O};if(typeof ne=="string"&&r&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,F=jl(ge,ne);if(ge.enteringChildren&&F){const{delayChildren:se}=F.transition||{};X.delay=$N(ge.enteringChildren,t,se)}}return{animation:ne,options:X}}))}if(b.size){const x={};if(typeof m.initial!="boolean"){const O=jl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(x.transition=O.transition)}b.forEach(O=>{const P=t.getBaseTarget(O),V=t.getValue(O);V&&(V.liveStyle=!0),x[O]=P??null}),v.push({animation:x})}let R=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(v):Promise.resolve()}function f(h,m){if(n[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,m)),n[h].isActive=m;const g=c(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:o,getState:()=>n,reset:()=>{n=rR(),r=!0}}}function kG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KN(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rR(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VG extends pa{constructor(e){super(e),e.animationState||(e.animationState=OG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let LG=0;class UG extends pa{constructor(){super(...arguments),this.id=LG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jG={animation:{Feature:VG},exit:{Feature:UG}};function pf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kf(t){return{point:{x:t.pageX,y:t.pageY}}}const BG=t=>e=>vb(e)&&t(e,kf(e));function Gu(t,e,n,r){return pf(t,e,BG(n),r)}const WN=1e-4,zG=1-WN,FG=1+WN,XN=.01,HG=0-XN,qG=0+XN;function In(t){return t.max-t.min}function GG(t,e,n){return Math.abs(t-e)<=n}function iR(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=In(n)/In(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zG&&t.scale<=FG||isNaN(t.scale))&&(t.scale=1),(t.translate>=HG&&t.translate<=qG||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,r){iR(t.x,e.x,n.x,r?r.originX:void 0),iR(t.y,e.y,n.y,r?r.originY:void 0)}function sR(t,e,n){t.min=n.min+e.min,t.max=t.min+In(e)}function $G(t,e,n){sR(t.x,e.x,n.x),sR(t.y,e.y,n.y)}function aR(t,e,n){t.min=e.min-n.min,t.max=t.min+In(e)}function Ku(t,e,n){aR(t.x,e.x,n.x),aR(t.y,e.y,n.y)}function fr(t){return[t("x"),t("y")]}const QN=({current:t})=>t?t.ownerDocument.defaultView:null,oR=(t,e)=>Math.abs(t-e);function KG(t,e){const n=oR(t.x,e.x),r=oR(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZN{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=lv(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=KG(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:R}=b,{timestamp:x}=cn;this.history.push({...R,timestamp:x});const{onStart:O,onMove:P}=this.handlers;S||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=ov(S,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:C,onSessionEnd:R,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=lv(b.type==="pointercancel"?this.lastMoveEventInfo:ov(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,O),R&&R(b,O)},!vb(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=kf(e),h=ov(f,this.transformPagePoint),{point:m}=h,{timestamp:g}=cn;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,lv(h,this.history)),this.removeListeners=Nf(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oa(this.updatePoint)}}function ov(t,e){return e?{point:e(t.point)}:t}function lR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lv({point:t},e){return{point:t,delta:lR(t,JN(e)),offset:lR(t,YG(e)),velocity:WG(e,.1)}}function YG(t){return t[0]}function JN(t){return t[t.length-1]}function WG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=JN(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>ci(e)));)n--;if(!r)return{x:0,y:0};const o=ui(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function XG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function cR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QG(t,{top:e,left:n,bottom:r,right:a}){return{x:cR(t.x,n,a),y:cR(t.y,e,r)}}function uR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZG(t,e){return{x:uR(t.x,e.x),y:uR(t.y,e.y)}}function JG(t,e){let n=.5;const r=In(t),a=In(e);return a>r?n=uf(e.min,e.max-r,t.min):r>a&&(n=uf(t.min,t.max-a,e.min)),is(0,1,n)}function e$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const D0=.35;function t$(t=D0){return t===!1?t=0:t===!0&&(t=D0),{x:fR(t,"left","right"),y:fR(t,"top","bottom")}}function fR(t,e,n){return{min:hR(t,e),max:hR(t,n)}}function hR(t,e){return typeof t=="number"?t:t[e]||0}const n$=new WeakMap;class r${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kf(v).point)},c=(v,b)=>{const{drag:S,dragPropagation:C,onDragStart:R}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uq(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(O=>{let P=this.getAxisMotionValue(O).get()||0;if(fi.test(P)){const{projection:V}=this.visualElement;if(V&&V.layout){const G=V.layout.layoutBox[O];G&&(P=In(G)*(parseFloat(P)/100))}}this.originPoint[O]=P}),R&&gt.postRender(()=>R(v,b)),C0(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:R,onDrag:x}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=b;if(C&&this.currentDirection===null){this.currentDirection=i$(O),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),x&&x(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>fr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ZN(e,{onSessionStart:o,onStart:c,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:QN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&gt.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Ad(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=XG(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=QG(r.layoutBox,e):this.constraints=!1,this.elastic=t$(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=e$(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=sG(r,a.root,this.visualElement.getTransformPagePoint());let c=ZG(a.layout.layoutBox,o);if(n){const f=n(nG(c));this.hasMutatedConstraints=!!f,f&&(c=VN(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=fr(g=>{if(!Ad(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return C0(this.visualElement,e),r.start(Cb(e,r,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:r}=this.getProps();if(!Ad(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];o.set(e[n]-_t(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fr(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const h=f.get();a[c]=JG({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(c=>{if(!Ad(c,e,null))return;const f=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];f.set(_t(h,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;n$.set(this.visualElement,this);const e=this.visualElement.current,n=Gu(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Rl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gt.read(r);const c=pf(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(fr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=D0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:f}}}function Ad(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s$ extends pa{constructor(e){super(e),this.removeGroupControls=pr,this.removeListeners=pr,this.controls=new r$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const dR=t=>(e,n)=>{t&&gt.postRender(()=>t(e,n))};class a$ extends pa{constructor(){super(...arguments),this.removePointerDownListener=pr}onPointerDown(e){this.session=new ZN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:dR(e),onStart:dR(n),onMove:r,onEnd:(o,c)=>{delete this.session,a&&gt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=mR(t,e.target.x),r=mR(t,e.target.y);return`${n}% ${r}%`}},o$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=la.parse(t);if(a.length>5)return r;const o=la.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=h;const m=_t(f,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};let cv=!1;class l$ extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;Dq(c$),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),cv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,cv=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||gt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;cv=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eM(t){const[e,n]=wN(),r=w.useContext(W_);return I.jsx(l$,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(ON),isPresent:e,safeToRemove:n})}const c$={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:o$};function u$(t,e,n){const r=En(t)?t:Yl(t);return r.start(Cb("",r,e,n)),r.animation}const f$=(t,e)=>t.depth-e.depth;class h${constructor(){this.children=[],this.isDirty=!1}add(e){Z_(this.children,e),this.isDirty=!0}remove(e){J_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f$),this.isDirty=!1,this.children.forEach(e)}}function d$(t,e){const n=Vn.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(oa(r),t(o-e))};return gt.setup(r,!0),()=>oa(r)}const tM=["TopLeft","TopRight","BottomLeft","BottomRight"],m$=tM.length,pR=t=>typeof t=="string"?parseFloat(t):t,gR=t=>typeof t=="number"||Ne.test(t);function p$(t,e,n,r,a,o){a?(t.opacity=_t(0,n.opacity??1,g$(r)),t.opacityExit=_t(e.opacity??1,0,y$(r))):o&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let c=0;c<m$;c++){const f=`border${tM[c]}Radius`;let h=yR(e,f),m=yR(n,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||gR(h)===gR(m)?(t[f]=Math.max(_t(pR(h),pR(m),r),0),(fi.test(m)||fi.test(h))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function yR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g$=nM(0,.5,FP),y$=nM(.5,.95,pr);function nM(t,e,n){return r=>r<t?0:r>e?1:n(uf(t,e,r))}function vR(t,e){t.min=e.min,t.max=e.max}function ur(t,e){vR(t.x,e.x),vR(t.y,e.y)}function _R(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bR(t,e,n,r,a){return t-=e,t=Sm(t,1/n,r),a!==void 0&&(t=Sm(t,1/a,r)),t}function v$(t,e=0,n=1,r=.5,a,o=t,c=t){if(fi.test(e)&&(e=parseFloat(e),e=_t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=_t(o.min,o.max,r);t===o&&(f-=e),t.min=bR(t.min,e,n,f,a),t.max=bR(t.max,e,n,f,a)}function ER(t,e,[n,r,a],o,c){v$(t,e[n],e[r],e[a],e.scale,o,c)}const _$=["x","scaleX","originX"],b$=["y","scaleY","originY"];function wR(t,e,n,r){ER(t.x,e,_$,n?n.x:void 0,r?r.x:void 0),ER(t.y,e,b$,n?n.y:void 0,r?r.y:void 0)}function TR(t){return t.translate===0&&t.scale===1}function rM(t){return TR(t.x)&&TR(t.y)}function SR(t,e){return t.min===e.min&&t.max===e.max}function E$(t,e){return SR(t.x,e.x)&&SR(t.y,e.y)}function AR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iM(t,e){return AR(t.x,e.x)&&AR(t.y,e.y)}function xR(t){return In(t.x)/In(t.y)}function RR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class w${constructor(){this.members=[]}add(e){Z_(this.members,e),e.scheduleRender()}remove(e){if(J_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T$(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((a||o||c)&&(r=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:b,skewX:S,skewY:C}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(r+=`scale(${f}, ${h})`),r||"none"}const uv=["","X","Y","Z"],S$=1e3;let A$=0;function fv(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(a||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sM(r)}function aM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=A$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C$),this.nodes.forEach(N$),this.nodes.forEach(M$),this.nodes.forEach(I$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new h$)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new nb),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const h=this.eventHandlers.get(c);h&&h.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=EN(c)&&!gq(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),t){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{v=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=d$(b,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(DR)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||U$,{onLayoutAnimationStart:R,onLayoutAnimationComplete:x}=m.getProps(),O=!this.targetLayout||!iM(this.targetLayout,S),P=!v&&b;if(this.options.layoutRoot||this.resumeFrom||P||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...pb(C,"layout"),onPlay:R,onComplete:x};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(g,P)}else v||DR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O$),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P$),this.nodes.forEach(x$),this.nodes.forEach(R$)):this.nodes.forEach(IR),this.clearAllSnapshots();const f=Vn.now();cn.delta=is(0,1e3/60,f-cn.timestamp),cn.timestamp=f,cn.isProcessing=!0,Jy.update.process(cn),Jy.preRender.process(cn),Jy.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D$),this.sharedNodes.forEach(k$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!rM(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ja(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return c&&(h=this.removeTransform(h)),j$(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ct();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B$))){const{scroll:m}=this.root;m&&(Cl(f.x,m.offset.x),Cl(f.y,m.offset.y))}return f}removeElementScroll(c){const f=Ct();if(ur(f,c),this.scroll?.wasRoot)return f;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ur(f,c),Cl(f.x,g.offset.x),Cl(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const h=Ct();ur(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Il(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ja(g.latestValues)&&Il(h,g.latestValues)}return Ja(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(c){const f=Ct();ur(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Ja(m.latestValues))continue;S0(m.latestValues)&&m.updateSnapshot();const g=Ct(),v=m.measurePageBox();ur(g,v),wR(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ja(this.latestValues)&&wR(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ku(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$G(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),UN(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ku(this.relativeTargetOrigin,this.target,b.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||S0(this.parent.latestValues)||LN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ur(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;iG(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ct());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_R(this.prevProjectionDelta.x,this.projectionDelta.x),_R(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!RR(this.projectionDelta.x,this.prevProjectionDelta.x)||!RR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(c,f=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ct(),S=h?h.source:void 0,C=this.layout?this.layout.source:void 0,R=S!==C,x=this.getStack(),O=!x||x.members.length<=1,P=!!(R&&!O&&this.options.crossfade===!0&&!this.path.some(L$));this.animationProgress=0;let V;this.mixTargetDelta=G=>{const q=G/1e3;PR(v.x,c.x,q),PR(v.y,c.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ku(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V$(this.relativeTarget,this.relativeTargetOrigin,b,q),V&&E$(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Ct()),ur(V,this.relativeTarget)),R&&(this.animationValues=g,p$(g,m,this.latestValues,q,P,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=u$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:g}=c;if(!(!f||!h||!m)){if(this!==c&&this.layout&&m&&oM(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Ct();const v=In(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=In(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}ur(f,h),Il(f,g),$u(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new w$),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&fv("z",c,m,this.animationValues);for(let g=0;g<uv.length;g++)fv(`rotate${uv[g]}`,c,m,this.animationValues),fv(`skew${uv[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=qd(f?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=qd(f?.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=T$(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),c.transform=v;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in mf){if(g[C]===void 0)continue;const{correct:R,applyTo:x,isCSSVariable:O}=mf[C],P=v==="none"?g[C]:R(g[C],m);if(x){const V=x.length;for(let G=0;G<V;G++)c[x[G]]=P}else O?this.options.visualElement.renderState.vars[C]=P:c[C]=P}this.options.layoutId&&(c.pointerEvents=m===this?qd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(CR),this.root.sharedNodes.clear()}}}function x$(t){t.updateLayout()}function R$(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?fr(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=In(v);v.min=n[g].min,v.max=v.min+b}):oM(a,e.layoutBox,n)&&fr(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=In(n[g]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const c=Dl();$u(c,n,e.layoutBox);const f=Dl();o?$u(f,t.applyTransform(r,!0),e.measuredBox):$u(f,n,e.layoutBox);const h=!rM(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=Ct();Ku(S,e.layoutBox,v.layoutBox);const C=Ct();Ku(C,n,b.layoutBox),iM(S,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function C$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D$(t){t.clearSnapshot()}function CR(t){t.clearMeasurements()}function IR(t){t.isLayoutDirty=!1}function P$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function N$(t){t.resolveTargetDelta()}function M$(t){t.calcProjection()}function O$(t){t.resetSkewAndRotation()}function k$(t){t.removeLeadSnapshot()}function PR(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NR(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function V$(t,e,n,r){NR(t.x,e.x,n.x,r),NR(t.y,e.y,n.y,r)}function L$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U$={duration:.45,ease:[.4,0,.1,1]},MR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OR=MR("applewebkit/")&&!MR("chrome/")?Math.round:pr;function kR(t){t.min=OR(t.min),t.max=OR(t.max)}function j$(t){kR(t.x),kR(t.y)}function oM(t,e,n){return t==="position"||t==="preserve-aspect"&&!GG(xR(e),xR(n),.2)}function B$(t){return t!==t.root&&t.scroll?.wasRoot}const z$=aM({attachResizeListener:(t,e)=>pf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hv={current:void 0},lM=aM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hv.current){const t=new z$({});t.mount(window),t.setOptions({layoutScroll:!0}),hv.current=t}return hv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F$={pan:{Feature:a$},drag:{Feature:s$,ProjectionNode:lM,MeasureLayout:eM}};function VR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&gt.postRender(()=>o(e,kf(e)))}class H$ extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=fq(e,(n,r)=>(VR(this.node,r,"Start"),a=>VR(this.node,a,"End"))))}unmount(){}}class q$ extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nf(pf(this.node.current,"focus",()=>this.onFocus()),pf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&gt.postRender(()=>o(e,kf(e)))}class G$ extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=pq(e,(n,r)=>(LR(this.node,r,"Start"),(a,{success:o})=>LR(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const P0=new WeakMap,dv=new WeakMap,$$=t=>{const e=P0.get(t.target);e&&e(t)},K$=t=>{t.forEach($$)};function Y$({root:t,...e}){const n=t||document;dv.has(n)||dv.set(n,{});const r=dv.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(K$,{root:t,...e})),r[a]}function W$(t,e,n){const r=Y$(e);return P0.set(t,n),r.observe(t),()=>{P0.delete(t),r.unobserve(t)}}const X$={some:0,all:1};class Q$ extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:X$[a]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=m?g:v;b&&b(h)};return W$(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z$(e,n))&&this.startObserver()}unmount(){}}function Z$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J$={inView:{Feature:Q$},tap:{Feature:G$},focus:{Feature:q$},hover:{Feature:H$}},eK={layout:{ProjectionNode:lM,MeasureLayout:eM}},tK={...jG,...J$,...F$,...eK},nK=tG(tK,mG),UR=({children:t})=>I.jsx(nK.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeOut"},children:t}),rK=({clientes:t,citas:e,onAddClient:n,onUpdateClient:r,onDeleteClient:a,onAddCita:o,onUpdateCita:c,onDeleteCita:f,onLogout:h})=>{const m=as();return I.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[I.jsx(TB,{onLogout:h}),I.jsx("div",{className:"flex justify-center p-6",children:I.jsx("div",{className:"w-full max-w-6xl min-h-[calc(100vh-80px)]",children:I.jsx("div",{className:"animate-slide-left animate-duration-500 animate-ease-out",children:I.jsx(Tq,{mode:"wait",children:I.jsxs(ZR,{location:m,children:[I.jsx(Pl,{path:"/clientes",element:I.jsx(UR,{children:I.jsx(DB,{clientes:t,onAddClient:n,onUpdateClient:r,onDeleteClient:a})})}),I.jsx(Pl,{path:"/horario",element:I.jsx(UR,{children:I.jsx(wH,{citas:e,clientes:t,onAddCita:o,onUpdateCita:c,onDeleteCita:f})})}),I.jsx(Pl,{path:"*",element:I.jsx(QR,{to:"/horario"})})]},m.pathname)})},m.pathname)})})]})},iK=()=>{const[t,e]=w.useState(null),[n,r]=w.useState([]),[a,o]=w.useState([]),[c,f]=w.useState(!0);w.useEffect(()=>{const x=Pj(Uy,O=>{e(O),f(!1)});return()=>x()},[]),w.useEffect(()=>{if(!t)return;const x=rf(so(On,"clientes"),O=>{const P=O.docs.map(V=>({id:V.id,...V.data()}));r(P)});return()=>x()},[t]),w.useEffect(()=>{if(!t)return;const x=rf(so(On,"citas"),O=>{const P=O.docs.map(V=>({id:V.id,...V.data()}));o(P)});return()=>x()},[t]);const h=async x=>{try{if(!x.id||x.id.trim()==="")throw new Error("ID de cliente inválido");const O=Bs(On,"clientes",x.id);await I6(O,{nombre:x.nombre,id:x.id,createdAt:$i(),updatedAt:$i()}),console.log("Cliente guardado con ID:",x.id)}catch(O){console.error("Error en handleAddClient:",O.message)}},m=async(x,O)=>{const P=Bs(On,"clientes",x);await zv(P,{...O,updatedAt:$i()})},g=async x=>{await Fv(Bs(On,"clientes",x))},v=async x=>{await _I(so(On,"citas"),{clienteId:x.clienteId,fecha:x.fecha,hora:x.hora,servicio:x.servicio,estado:"programada",createdAt:$i(),updatedAt:$i()})},b=async(x,O)=>{const P=Bs(On,"citas",x);await zv(P,{...O,updatedAt:$i()})},S=async x=>{await Fv(Bs(On,"citas",x))},C=async(x,O)=>{await Cj(Uy,x,O)},R=async()=>{await Nj(Uy)};return c?I.jsx("p",{className:"text-center mt-10",children:"Cargando..."}):I.jsxs(ek,{basename:"/proyecto-citas",children:[I.jsx(M5,{position:"top-center"}),t?I.jsx(rK,{clientes:n,citas:a,onAddClient:h,onUpdateClient:m,onDeleteClient:g,onAddCita:v,onUpdateCita:b,onDeleteCita:S,onLogout:R}):I.jsxs(ZR,{children:[I.jsx(Pl,{path:"/login",element:I.jsx(O5,{onLogin:C})}),I.jsx(Pl,{path:"*",element:I.jsx(QR,{to:"/login"})})]})]})};FO.createRoot(document.getElementById("root")).render(I.jsx(w.StrictMode,{children:I.jsx(iK,{})}));
